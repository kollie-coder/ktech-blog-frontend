var gk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var X7=gk((n$,Qc)=>{function yk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iw={exports:{}},Xf={},kw={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),vk=Symbol.for("react.portal"),_k=Symbol.for("react.fragment"),wk=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),Sk=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),bk=Symbol.for("react.suspense"),Ik=Symbol.for("react.memo"),kk=Symbol.for("react.lazy"),Xv=Symbol.iterator;function Rk(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Ow={};function pa(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Rw}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cw(){}Cw.prototype=pa.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Rw}var Qm=Km.prototype=new Cw;Qm.constructor=Km;Pw(Qm,pa.prototype);Qm.isPureReactComponent=!0;var Jv=Array.isArray,Nw=Object.prototype.hasOwnProperty,Xm={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function Dw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Nw.call(e,r)&&!xw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mu,type:t,key:o,ref:s,props:i,_owner:Xm.current}}function Pk(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function Ok(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zv=/\/+/g;function vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ok(""+t.key):e.toString(36)}function Ic(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case mu:case vk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vd(s,0):r,Jv(i)?(n="",t!=null&&(n=t.replace(Zv,"$&/")+"/"),Ic(i,e,n,"",function(u){return u})):i!=null&&(Jm(i)&&(i=Pk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Jv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vd(o,a);s+=Ic(o,e,n,l,i)}else if(l=Rk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vd(o,a++),s+=Ic(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Ic(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ck(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},kc={transition:null},Nk={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:kc,ReactCurrentOwner:Xm};He.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!Jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=pa;He.Fragment=_k;He.Profiler=Ek;He.PureComponent=Km;He.StrictMode=wk;He.Suspense=bk;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pw({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Xm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nw.call(e,l)&&!xw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mu,type:t.type,key:i,ref:o,props:r,_owner:s}};He.createContext=function(t){return t={$$typeof:Sk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tk,_context:t},t.Consumer=t};He.createElement=Dw;He.createFactory=function(t){var e=Dw.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:Ak,render:t}};He.isValidElement=Jm;He.lazy=function(t){return{$$typeof:kk,_payload:{_status:-1,_result:t},_init:Ck}};He.memo=function(t,e){return{$$typeof:Ik,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}};He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};He.useCallback=function(t,e){return bn.current.useCallback(t,e)};He.useContext=function(t){return bn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};He.useEffect=function(t,e){return bn.current.useEffect(t,e)};He.useId=function(){return bn.current.useId()};He.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return bn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};He.useRef=function(t){return bn.current.useRef(t)};He.useState=function(t){return bn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return bn.current.useTransition()};He.version="18.2.0";kw.exports=He;var re=kw.exports;const ai=bw(re),xk=yk({__proto__:null,default:ai},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk=re,Lk=Symbol.for("react.element"),Mk=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,Uk=Dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fk={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Vk.call(e,r)&&!Fk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Lk,type:t,key:o,ref:s,props:i,_owner:Uk.current}}Xf.Fragment=Mk;Xf.jsx=Lw;Xf.jsxs=Lw;Iw.exports=Xf;var Z=Iw.exports,dp={},Mw={exports:{}},Yn={},Vw={exports:{}},Uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,B){var U=Y.length;Y.push(B);e:for(;0<U;){var x=U-1>>>1,M=Y[x];if(0<i(M,B))Y[x]=B,Y[U]=M,U=x;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var B=Y[0],U=Y.pop();if(U!==B){Y[0]=U;e:for(var x=0,M=Y.length,F=M>>>1;x<F;){var $=2*(x+1)-1,z=Y[$],V=$+1,q=Y[V];if(0>i(z,U))V<M&&0>i(q,z)?(Y[x]=q,Y[V]=U,x=V):(Y[x]=z,Y[$]=U,x=$);else if(V<M&&0>i(q,U))Y[x]=q,Y[V]=U,x=V;else break e}}return B}function i(Y,B){var U=Y.sortIndex-B.sortIndex;return U!==0?U:Y.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=Y)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function m(Y){if(v=!1,E(Y),!_)if(n(l)!==null)_=!0,H(k);else{var B=n(u);B!==null&&W(m,B.startTime-Y)}}function k(Y,B){_=!1,v&&(v=!1,y(T),T=-1),p=!0;var U=f;try{for(E(B),d=n(l);d!==null&&(!(d.expirationTime>B)||Y&&!I());){var x=d.callback;if(typeof x=="function"){d.callback=null,f=d.priorityLevel;var M=x(d.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),E(B)}else r(l);d=n(l)}if(d!==null)var F=!0;else{var $=n(u);$!==null&&W(m,$.startTime-B),F=!1}return F}finally{d=null,f=U,p=!1}}var N=!1,S=null,T=-1,O=5,b=-1;function I(){return!(t.unstable_now()-b<O)}function R(){if(S!==null){var Y=t.unstable_now();b=Y;var B=!0;try{B=S(!0,Y)}finally{B?P():(N=!1,S=null)}}else N=!1}var P;if(typeof g=="function")P=function(){g(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=R,P=function(){j.postMessage(null)}}else P=function(){w(R,0)};function H(Y){S=Y,N||(N=!0,P())}function W(Y,B){T=w(function(){Y(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,H(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var U=f;f=B;try{return Y()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,B){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var U=f;f=Y;try{return B()}finally{f=U}},t.unstable_scheduleCallback=function(Y,B,U){var x=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?x+U:x):U=x,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=U+M,Y={id:h++,callback:B,priorityLevel:Y,startTime:U,expirationTime:M,sortIndex:-1},U>x?(Y.sortIndex=U,e(u,Y),n(l)===null&&Y===n(u)&&(v?(y(T),T=-1):v=!0,W(m,U-x))):(Y.sortIndex=M,e(l,Y),_||p||(_=!0,H(k))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var B=f;return function(){var U=f;f=B;try{return Y.apply(this,arguments)}finally{f=U}}}})(Uw);Vw.exports=Uw;var jk=Vw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=re,Wn=jk;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jw=new Set,Vl={};function Zo(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(Vl[t]=e,t=0;t<e.length;t++)jw.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,Bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e_={},t_={};function qk(t){return pp.call(t_,t)?!0:pp.call(e_,t)?!1:Bk.test(t)?t_[t]=!0:(e_[t]=!0,!1)}function $k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zk(t,e,n,r){if(e===null||typeof e>"u"||$k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zm=/[\-:]([a-z])/g;function eg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zm,eg);rn[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zm,eg);rn[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zm,eg);rn[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function tg(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zk(e,n,i,r)&&(n=null),r||i===null?qk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=Fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),ws=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),$w=Symbol.for("react.offscreen"),n_=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,_d;function ul(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var wd=!1;function Ed(t,e){if(!t||wd)return"";wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ul(t):""}function Hk(t){switch(t.tag){case 5:return ul(t.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return t=Ed(t.type,!1),t;case 11:return t=Ed(t.type.render,!1),t;case 1:return t=Ed(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case ws:return"Portal";case mp:return"Profiler";case ng:return"StrictMode";case gp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qw:return(t.displayName||"Context")+".Consumer";case Bw:return(t._context.displayName||"Context")+".Provider";case rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function Wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yk(t){var e=zw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ec(t){t._valueTracker||(t._valueTracker=Yk(t))}function Hw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ww(t,e){e=e.checked,e!=null&&tg(t,"checked",e,!1)}function wp(t,e){Ww(t,e);var n=lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||Xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function Vs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(cl(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lo(n)}}function Yw(t,e){var n=lo(e.value),r=lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tc,Kw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gk=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){Gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function Qw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function Xw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kk=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ap(t,e){if(e){if(Kk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=null;function og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kp=null,Us=null,Fs=null;function a_(t){if(t=vu(t)){if(typeof kp!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=nh(e),kp(t.stateNode,t.type,e))}}function Jw(t){Us?Fs?Fs.push(t):Fs=[t]:Us=t}function Zw(){if(Us){var t=Us,e=Fs;if(Fs=Us=null,a_(t),e)for(t=0;t<e.length;t++)a_(e[t])}}function eE(t,e){return t(e)}function tE(){}var Td=!1;function nE(t,e,n){if(Td)return t(e,n);Td=!0;try{return eE(t,e,n)}finally{Td=!1,(Us!==null||Fs!==null)&&(tE(),Zw())}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Rp=!1;if(pi)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Rp=!1}function Qk(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var wl=!1,Jc=null,Zc=!1,Pp=null,Xk={onError:function(t){wl=!0,Jc=t}};function Jk(t,e,n,r,i,o,s,a,l){wl=!1,Jc=null,Qk.apply(Xk,arguments)}function Zk(t,e,n,r,i,o,s,a,l){if(Jk.apply(this,arguments),wl){if(wl){var u=Jc;wl=!1,Jc=null}else throw Error(ue(198));Zc||(Zc=!0,Pp=u)}}function es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l_(t){if(es(t)!==t)throw Error(ue(188))}function eR(t){var e=t.alternate;if(!e){if(e=es(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return l_(i),t;if(o===r)return l_(i),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function iE(t){return t=eR(t),t!==null?oE(t):null}function oE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oE(t);if(e!==null)return e;t=t.sibling}return null}var sE=Wn.unstable_scheduleCallback,u_=Wn.unstable_cancelCallback,tR=Wn.unstable_shouldYield,nR=Wn.unstable_requestPaint,Dt=Wn.unstable_now,rR=Wn.unstable_getCurrentPriorityLevel,sg=Wn.unstable_ImmediatePriority,aE=Wn.unstable_UserBlockingPriority,ef=Wn.unstable_NormalPriority,iR=Wn.unstable_LowPriority,lE=Wn.unstable_IdlePriority,Jf=null,Lr=null;function oR(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:lR,sR=Math.log,aR=Math.LN2;function lR(t){return t>>>=0,t===0?32:31-(sR(t)/aR|0)|0}var nc=64,rc=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fl(a):(o&=s,o!==0&&(r=fl(o)))}else s=n&~i,s!==0?r=fl(s):o!==0&&(r=fl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gr(e),i=1<<n,r|=t[n],e&=~i;return r}function uR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-gr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=uR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uE(){var t=nc;return nc<<=1,!(nc&4194240)&&(nc=64),t}function Sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=n}function fR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function cE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fE,lg,hE,dE,pE,Cp=!1,ic=[],Qi=null,Xi=null,Ji=null,jl=new Map,Bl=new Map,Ui=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c_(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function Ya(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dR(t,e,n,r,i){switch(e){case"focusin":return Qi=Ya(Qi,t,e,n,r,i),!0;case"dragenter":return Xi=Ya(Xi,t,e,n,r,i),!0;case"mouseover":return Ji=Ya(Ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return jl.set(o,Ya(jl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bl.set(o,Ya(Bl.get(o)||null,t,e,n,r,i)),!0}return!1}function mE(t){var e=Ro(t.target);if(e!==null){var n=es(e);if(n!==null){if(e=n.tag,e===13){if(e=rE(n),e!==null){t.blockedOn=e,pE(t.priority,function(){hE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ip=r,n.target.dispatchEvent(r),Ip=null}else return e=vu(n),e!==null&&lg(e),t.blockedOn=n,!1;e.shift()}return!0}function f_(t,e,n){Rc(t)&&n.delete(e)}function pR(){Cp=!1,Qi!==null&&Rc(Qi)&&(Qi=null),Xi!==null&&Rc(Xi)&&(Xi=null),Ji!==null&&Rc(Ji)&&(Ji=null),jl.forEach(f_),Bl.forEach(f_)}function Ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Cp||(Cp=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,pR)))}function ql(t){function e(i){return Ga(i,t)}if(0<ic.length){Ga(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qi!==null&&Ga(Qi,t),Xi!==null&&Ga(Xi,t),Ji!==null&&Ga(Ji,t),jl.forEach(e),Bl.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&Ui.shift()}var js=Ti.ReactCurrentBatchConfig,nf=!0;function mR(t,e,n,r){var i=rt,o=js.transition;js.transition=null;try{rt=1,ug(t,e,n,r)}finally{rt=i,js.transition=o}}function gR(t,e,n,r){var i=rt,o=js.transition;js.transition=null;try{rt=4,ug(t,e,n,r)}finally{rt=i,js.transition=o}}function ug(t,e,n,r){if(nf){var i=Np(t,e,n,r);if(i===null)xd(t,e,r,rf,n),c_(t,r);else if(dR(i,t,e,n,r))r.stopPropagation();else if(c_(t,r),e&4&&-1<hR.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&fE(o),o=Np(t,e,n,r),o===null&&xd(t,e,r,rf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else xd(t,e,r,null,n)}}var rf=null;function Np(t,e,n,r){if(rf=null,t=og(r),t=Ro(t),t!==null)if(e=es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rf=t,null}function gE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rR()){case sg:return 1;case aE:return 4;case ef:case iR:return 16;case lE:return 536870912;default:return 16}default:return 16}}var Hi=null,cg=null,Pc=null;function yE(){if(Pc)return Pc;var t,e=cg,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function h_(){return!1}function Gn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oc:h_,this.isPropagationStopped=h_,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=Gn(ma),yu=bt({},ma,{view:0,detail:0}),yR=Gn(yu),Ad,bd,Ka,Zf=bt({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Ad=t.screenX-Ka.screenX,bd=t.screenY-Ka.screenY):bd=Ad=0,Ka=t),Ad)},movementY:function(t){return"movementY"in t?t.movementY:bd}}),d_=Gn(Zf),vR=bt({},Zf,{dataTransfer:0}),_R=Gn(vR),wR=bt({},yu,{relatedTarget:0}),Id=Gn(wR),ER=bt({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),TR=Gn(ER),SR=bt({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AR=Gn(SR),bR=bt({},ma,{data:0}),p_=Gn(bR),IR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RR[t])?!!e[t]:!1}function hg(){return PR}var OR=bt({},yu,{key:function(t){if(t.key){var e=IR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hg,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CR=Gn(OR),NR=bt({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m_=Gn(NR),xR=bt({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hg}),DR=Gn(xR),LR=bt({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),MR=Gn(LR),VR=bt({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UR=Gn(VR),FR=[9,13,27,32],dg=pi&&"CompositionEvent"in window,El=null;pi&&"documentMode"in document&&(El=document.documentMode);var jR=pi&&"TextEvent"in window&&!El,vE=pi&&(!dg||El&&8<El&&11>=El),g_=String.fromCharCode(32),y_=!1;function _E(t,e){switch(t){case"keyup":return FR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function BR(t,e){switch(t){case"compositionend":return wE(e);case"keypress":return e.which!==32?null:(y_=!0,g_);case"textInput":return t=e.data,t===g_&&y_?null:t;default:return null}}function qR(t,e){if(Ts)return t==="compositionend"||!dg&&_E(t,e)?(t=yE(),Pc=cg=Hi=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vE&&e.locale!=="ko"?null:e.data;default:return null}}var $R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$R[t.type]:e==="textarea"}function EE(t,e,n,r){Jw(r),e=of(e,"onChange"),0<e.length&&(n=new fg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,$l=null;function zR(t){NE(t,0)}function eh(t){var e=bs(t);if(Hw(e))return t}function HR(t,e){if(t==="change")return e}var TE=!1;if(pi){var kd;if(pi){var Rd="oninput"in document;if(!Rd){var __=document.createElement("div");__.setAttribute("oninput","return;"),Rd=typeof __.oninput=="function"}kd=Rd}else kd=!1;TE=kd&&(!document.documentMode||9<document.documentMode)}function w_(){Tl&&(Tl.detachEvent("onpropertychange",SE),$l=Tl=null)}function SE(t){if(t.propertyName==="value"&&eh($l)){var e=[];EE(e,$l,t,og(t)),nE(zR,e)}}function WR(t,e,n){t==="focusin"?(w_(),Tl=e,$l=n,Tl.attachEvent("onpropertychange",SE)):t==="focusout"&&w_()}function YR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh($l)}function GR(t,e){if(t==="click")return eh(e)}function KR(t,e){if(t==="input"||t==="change")return eh(e)}function QR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:QR;function zl(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pp.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function E_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T_(t,e){var n=E_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E_(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bE(){for(var t=window,e=Xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xc(t.document)}return e}function pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XR(t){var e=bE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&pg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=T_(n,o);var s=T_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JR=pi&&"documentMode"in document&&11>=document.documentMode,Ss=null,xp=null,Sl=null,Dp=!1;function S_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dp||Ss==null||Ss!==Xc(r)||(r=Ss,"selectionStart"in r&&pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&zl(Sl,r)||(Sl=r,r=of(xp,"onSelect"),0<r.length&&(e=new fg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var As={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Pd={},IE={};pi&&(IE=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function th(t){if(Pd[t])return Pd[t];if(!As[t])return t;var e=As[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IE)return Pd[t]=e[n];return t}var kE=th("animationend"),RE=th("animationiteration"),PE=th("animationstart"),OE=th("transitionend"),CE=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(t,e){CE.set(t,e),Zo(e,[t])}for(var Od=0;Od<A_.length;Od++){var Cd=A_[Od],ZR=Cd.toLowerCase(),eP=Cd[0].toUpperCase()+Cd.slice(1);mo(ZR,"on"+eP)}mo(kE,"onAnimationEnd");mo(RE,"onAnimationIteration");mo(PE,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(OE,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function b_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zk(r,e,void 0,t),t.currentTarget=null}function NE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;b_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;b_(i,a,u),o=l}}}if(Zc)throw t=Pp,Zc=!1,Pp=null,t}function ft(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(xE(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),xE(n,t,r,e)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[ac]){t[ac]=!0,jw.forEach(function(n){n!=="selectionchange"&&(tP.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ac]||(e[ac]=!0,Nd("selectionchange",!1,e))}}function xE(t,e,n,r){switch(gE(e)){case 1:var i=mR;break;case 4:i=gR;break;default:i=ug}n=i.bind(null,e,n,t),i=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ro(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nE(function(){var u=o,h=og(n),d=[];e:{var f=CE.get(t);if(f!==void 0){var p=fg,_=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":p=CR;break;case"focusin":_="focus",p=Id;break;case"focusout":_="blur",p=Id;break;case"beforeblur":case"afterblur":p=Id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DR;break;case kE:case RE:case PE:p=TR;break;case OE:p=MR;break;case"scroll":p=yR;break;case"wheel":p=UR;break;case"copy":case"cut":case"paste":p=AR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m_}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,E;g!==null;){E=g;var m=E.stateNode;if(E.tag===5&&m!==null&&(E=m,y!==null&&(m=Fl(g,y),m!=null&&v.push(Wl(g,m,E)))),w)break;g=g.return}0<v.length&&(f=new p(f,_,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ip&&(_=n.relatedTarget||n.fromElement)&&(Ro(_)||_[mi]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Ro(_):null,_!==null&&(w=es(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(v=d_,m="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=m_,m="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?f:bs(p),E=_==null?f:bs(_),f=new v(m,g+"leave",p,n,h),f.target=w,f.relatedTarget=E,m=null,Ro(h)===u&&(v=new v(y,g+"enter",_,n,h),v.target=E,v.relatedTarget=w,m=v),w=m,p&&_)t:{for(v=p,y=_,g=0,E=v;E;E=ds(E))g++;for(E=0,m=y;m;m=ds(m))E++;for(;0<g-E;)v=ds(v),g--;for(;0<E-g;)y=ds(y),E--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=ds(v),y=ds(y)}v=null}else v=null;p!==null&&I_(d,f,p,v,!1),_!==null&&w!==null&&I_(d,w,_,v,!0)}}e:{if(f=u?bs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=HR;else if(v_(f))if(TE)k=KR;else{k=YR;var N=WR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=GR);if(k&&(k=k(t,u))){EE(d,k,n,h);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ep(f,"number",f.value)}switch(N=u?bs(u):window,t){case"focusin":(v_(N)||N.contentEditable==="true")&&(Ss=N,xp=u,Sl=null);break;case"focusout":Sl=xp=Ss=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,S_(d,n,h);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":S_(d,n,h)}var S;if(dg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ts?_E(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(vE&&n.locale!=="ko"&&(Ts||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ts&&(S=yE()):(Hi=h,cg="value"in Hi?Hi.value:Hi.textContent,Ts=!0)),N=of(u,T),0<N.length&&(T=new p_(T,t,null,n,h),d.push({event:T,listeners:N}),S?T.data=S:(S=wE(n),S!==null&&(T.data=S)))),(S=jR?BR(t,n):qR(t,n))&&(u=of(u,"onBeforeInput"),0<u.length&&(h=new p_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}NE(d,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fl(t,n),o!=null&&r.unshift(Wl(t,o,i)),o=Fl(t,e),o!=null&&r.push(Wl(t,o,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Fl(n,o),l!=null&&s.unshift(Wl(n,l,a))):i||(l=Fl(n,o),l!=null&&s.push(Wl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nP=/\r\n?/g,rP=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(nP,`
`).replace(rP,"")}function lc(t,e,n){if(e=k_(e),k_(t)!==e&&n)throw Error(ue(425))}function sf(){}var Lp=null,Mp=null;function Vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,iP=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(sP)}:Up;function sP(t){setTimeout(function(){throw t})}function Dd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ga,Yl="__reactProps$"+ga,mi="__reactContainer$"+ga,Fp="__reactEvents$"+ga,aP="__reactListeners$"+ga,lP="__reactHandles$"+ga;function Ro(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P_(t);t!==null;){if(n=t[Nr])return n;t=P_(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[Nr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function nh(t){return t[Yl]||null}var jp=[],Is=-1;function go(t){return{current:t}}function pt(t){0>Is||(t.current=jp[Is],jp[Is]=null,Is--)}function lt(t,e){Is++,jp[Is]=t.current,t.current=e}var uo={},mn=go(uo),Cn=go(!1),Fo=uo;function Js(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function af(){pt(Cn),pt(mn)}function O_(t,e,n){if(mn.current!==uo)throw Error(ue(168));lt(mn,e),lt(Cn,n)}function DE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,Wk(t)||"Unknown",i));return bt({},n,r)}function lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,Fo=mn.current,lt(mn,t),lt(Cn,Cn.current),!0}function C_(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=DE(t,e,Fo),r.__reactInternalMemoizedMergedChildContext=t,pt(Cn),pt(mn),lt(mn,t)):pt(Cn),lt(Cn,n)}var Zr=null,rh=!1,Ld=!1;function LE(t){Zr===null?Zr=[t]:Zr.push(t)}function uP(t){rh=!0,LE(t)}function yo(){if(!Ld&&Zr!==null){Ld=!0;var t=0,e=rt;try{var n=Zr;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,rh=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),sE(sg,yo),i}finally{rt=e,Ld=!1}}return null}var ks=[],Rs=0,uf=null,cf=0,Jn=[],Zn=0,jo=null,ei=1,ti="";function Ao(t,e){ks[Rs++]=cf,ks[Rs++]=uf,uf=t,cf=e}function ME(t,e,n){Jn[Zn++]=ei,Jn[Zn++]=ti,Jn[Zn++]=jo,jo=t;var r=ei;t=ti;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var o=32-gr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-gr(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function mg(t){t.return!==null&&(Ao(t,1),ME(t,1,0))}function gg(t){for(;t===uf;)uf=ks[--Rs],ks[Rs]=null,cf=ks[--Rs],ks[Rs]=null;for(;t===jo;)jo=Jn[--Zn],Jn[Zn]=null,ti=Jn[--Zn],Jn[Zn]=null,ei=Jn[--Zn],Jn[Zn]=null}var Hn=null,qn=null,wt=!1,dr=null;function VE(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,qn=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jo!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,qn=null,!0):!1;default:return!1}}function Bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(wt){var e=qn;if(e){var n=e;if(!N_(t,e)){if(Bp(t))throw Error(ue(418));e=Zi(n.nextSibling);var r=Hn;e&&N_(t,e)?VE(r,n):(t.flags=t.flags&-4097|2,wt=!1,Hn=t)}}else{if(Bp(t))throw Error(ue(418));t.flags=t.flags&-4097|2,wt=!1,Hn=t}}}function x_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function uc(t){if(t!==Hn)return!1;if(!wt)return x_(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vp(t.type,t.memoizedProps)),e&&(e=qn)){if(Bp(t))throw UE(),Error(ue(418));for(;e;)VE(t,e),e=Zi(e.nextSibling)}if(x_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Hn?Zi(t.stateNode.nextSibling):null;return!0}function UE(){for(var t=qn;t;)t=Zi(t.nextSibling)}function Zs(){qn=Hn=null,wt=!1}function yg(t){dr===null?dr=[t]:dr.push(t)}var cP=Ti.ReactCurrentBatchConfig;function cr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ff=go(null),hf=null,Ps=null,vg=null;function _g(){vg=Ps=hf=null}function wg(t){var e=ff.current;pt(ff),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){hf=t,vg=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(vg!==t)if(t={context:t,memoizedValue:e,next:null},Ps===null){if(hf===null)throw Error(ue(308));Ps=t,hf.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return e}var Po=null;function Eg(t){Po===null?Po=[t]:Po.push(t)}function FE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Eg(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vi=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Eg(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}function D_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function df(t,e,n,r){var i=t.updateQueue;Vi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,h=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,p=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){d=_.call(p,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(p,d,f):_,f==null)break e;d=bt({},d,f);break e;case 2:Vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qo|=s,t.lanes=s,t.memoizedState=d}}function L_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var BE=new Fw.Component().refs;function zp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ih={isMounted:function(t){return(t=t._reactInternals)?es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=no(t),o=li(r,i);o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(yr(e,t,i,r),Cc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=no(t),o=li(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(yr(e,t,i,r),Cc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=no(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,r),e!==null&&(yr(e,t,r,n),Cc(e,t,r))}};function M_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zl(n,r)||!zl(i,o):!0}function qE(t,e,n){var r=!1,i=uo,o=e.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=Nn(e)?Fo:mn.current,r=e.contextTypes,o=(r=r!=null)?Js(t,i):uo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ih.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=BE,Tg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=Nn(e)?Fo:mn.current,i.context=Js(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ih.enqueueReplaceState(i,i.state,null),df(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===BE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U_(t){var e=t._init;return e(t._payload)}function $E(t){function e(y,g){if(t){var E=y.deletions;E===null?(y.deletions=[g],y.flags|=16):E.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=ro(y,g),y.index=0,y.sibling=null,y}function o(y,g,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<g?(y.flags|=2,g):E):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,E,m){return g===null||g.tag!==6?(g=qd(E,y.mode,m),g.return=y,g):(g=i(g,E),g.return=y,g)}function l(y,g,E,m){var k=E.type;return k===Es?h(y,g,E.props.children,m,E.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&U_(k)===g.type)?(m=i(g,E.props),m.ref=Qa(y,g,E),m.return=y,m):(m=Vc(E.type,E.key,E.props,null,y.mode,m),m.ref=Qa(y,g,E),m.return=y,m)}function u(y,g,E,m){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=$d(E,y.mode,m),g.return=y,g):(g=i(g,E.children||[]),g.return=y,g)}function h(y,g,E,m,k){return g===null||g.tag!==7?(g=Lo(E,y.mode,m,k),g.return=y,g):(g=i(g,E),g.return=y,g)}function d(y,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qd(""+g,y.mode,E),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return E=Vc(g.type,g.key,g.props,null,y.mode,E),E.ref=Qa(y,null,g),E.return=y,E;case ws:return g=$d(g,y.mode,E),g.return=y,g;case Mi:var m=g._init;return d(y,m(g._payload),E)}if(cl(g)||Ha(g))return g=Lo(g,y.mode,E,null),g.return=y,g;cc(y,g)}return null}function f(y,g,E,m){var k=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(y,g,""+E,m);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zu:return E.key===k?l(y,g,E,m):null;case ws:return E.key===k?u(y,g,E,m):null;case Mi:return k=E._init,f(y,g,k(E._payload),m)}if(cl(E)||Ha(E))return k!==null?null:h(y,g,E,m,null);cc(y,E)}return null}function p(y,g,E,m,k){if(typeof m=="string"&&m!==""||typeof m=="number")return y=y.get(E)||null,a(g,y,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zu:return y=y.get(m.key===null?E:m.key)||null,l(g,y,m,k);case ws:return y=y.get(m.key===null?E:m.key)||null,u(g,y,m,k);case Mi:var N=m._init;return p(y,g,E,N(m._payload),k)}if(cl(m)||Ha(m))return y=y.get(E)||null,h(g,y,m,k,null);cc(g,m)}return null}function _(y,g,E,m){for(var k=null,N=null,S=g,T=g=0,O=null;S!==null&&T<E.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var b=f(y,S,E[T],m);if(b===null){S===null&&(S=O);break}t&&S&&b.alternate===null&&e(y,S),g=o(b,g,T),N===null?k=b:N.sibling=b,N=b,S=O}if(T===E.length)return n(y,S),wt&&Ao(y,T),k;if(S===null){for(;T<E.length;T++)S=d(y,E[T],m),S!==null&&(g=o(S,g,T),N===null?k=S:N.sibling=S,N=S);return wt&&Ao(y,T),k}for(S=r(y,S);T<E.length;T++)O=p(S,y,T,E[T],m),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),g=o(O,g,T),N===null?k=O:N.sibling=O,N=O);return t&&S.forEach(function(I){return e(y,I)}),wt&&Ao(y,T),k}function v(y,g,E,m){var k=Ha(E);if(typeof k!="function")throw Error(ue(150));if(E=k.call(E),E==null)throw Error(ue(151));for(var N=k=null,S=g,T=g=0,O=null,b=E.next();S!==null&&!b.done;T++,b=E.next()){S.index>T?(O=S,S=null):O=S.sibling;var I=f(y,S,b.value,m);if(I===null){S===null&&(S=O);break}t&&S&&I.alternate===null&&e(y,S),g=o(I,g,T),N===null?k=I:N.sibling=I,N=I,S=O}if(b.done)return n(y,S),wt&&Ao(y,T),k;if(S===null){for(;!b.done;T++,b=E.next())b=d(y,b.value,m),b!==null&&(g=o(b,g,T),N===null?k=b:N.sibling=b,N=b);return wt&&Ao(y,T),k}for(S=r(y,S);!b.done;T++,b=E.next())b=p(S,y,T,b.value,m),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?T:b.key),g=o(b,g,T),N===null?k=b:N.sibling=b,N=b);return t&&S.forEach(function(R){return e(y,R)}),wt&&Ao(y,T),k}function w(y,g,E,m){if(typeof E=="object"&&E!==null&&E.type===Es&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zu:e:{for(var k=E.key,N=g;N!==null;){if(N.key===k){if(k=E.type,k===Es){if(N.tag===7){n(y,N.sibling),g=i(N,E.props.children),g.return=y,y=g;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&U_(k)===N.type){n(y,N.sibling),g=i(N,E.props),g.ref=Qa(y,N,E),g.return=y,y=g;break e}n(y,N);break}else e(y,N);N=N.sibling}E.type===Es?(g=Lo(E.props.children,y.mode,m,E.key),g.return=y,y=g):(m=Vc(E.type,E.key,E.props,null,y.mode,m),m.ref=Qa(y,g,E),m.return=y,y=m)}return s(y);case ws:e:{for(N=E.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(y,g.sibling),g=i(g,E.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=$d(E,y.mode,m),g.return=y,y=g}return s(y);case Mi:return N=E._init,w(y,g,N(E._payload),m)}if(cl(E))return _(y,g,E,m);if(Ha(E))return v(y,g,E,m);cc(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,E),g.return=y,y=g):(n(y,g),g=qd(E,y.mode,m),g.return=y,y=g),s(y)):n(y,g)}return w}var ea=$E(!0),zE=$E(!1),_u={},Mr=go(_u),Gl=go(_u),Kl=go(_u);function Oo(t){if(t===_u)throw Error(ue(174));return t}function Sg(t,e){switch(lt(Kl,e),lt(Gl,t),lt(Mr,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}pt(Mr),lt(Mr,e)}function ta(){pt(Mr),pt(Gl),pt(Kl)}function HE(t){Oo(Kl.current);var e=Oo(Mr.current),n=Sp(e,t.type);e!==n&&(lt(Gl,t),lt(Mr,n))}function Ag(t){Gl.current===t&&(pt(Mr),pt(Gl))}var St=go(0);function pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Md=[];function bg(){for(var t=0;t<Md.length;t++)Md[t]._workInProgressVersionPrimary=null;Md.length=0}var Nc=Ti.ReactCurrentDispatcher,Vd=Ti.ReactCurrentBatchConfig,Bo=0,At=null,zt=null,Kt=null,mf=!1,Al=!1,Ql=0,fP=0;function ln(){throw Error(ue(321))}function Ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function kg(t,e,n,r,i,o){if(Bo=o,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?mP:gP,t=n(r,i),Al){o=0;do{if(Al=!1,Ql=0,25<=o)throw Error(ue(301));o+=1,Kt=zt=null,e.updateQueue=null,Nc.current=yP,t=n(r,i)}while(Al)}if(Nc.current=gf,e=zt!==null&&zt.next!==null,Bo=0,Kt=zt=At=null,mf=!1,e)throw Error(ue(300));return t}function Rg(){var t=Ql!==0;return Ql=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?At.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function ir(){if(zt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Kt===null?At.memoizedState:Kt.next;if(e!==null)Kt=e,zt=t;else{if(t===null)throw Error(ue(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?At.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Xl(t,e){return typeof e=="function"?e(t):e}function Ud(t){var e=ir(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=zt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((Bo&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,At.lanes|=h,qo|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,_r(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,At.lanes|=o,qo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fd(t){var e=ir(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);_r(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function WE(){}function YE(t,e){var n=At,r=ir(),i=e(),o=!_r(r.memoizedState,i);if(o&&(r.memoizedState=i,On=!0),r=r.queue,Pg(QE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Jl(9,KE.bind(null,n,r,i,e),void 0,null),Qt===null)throw Error(ue(349));Bo&30||GE(n,e,i)}return i}function GE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KE(t,e,n,r){e.value=n,e.getSnapshot=r,XE(e)&&JE(t)}function QE(t,e,n){return n(function(){XE(e)&&JE(t)})}function XE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function JE(t){var e=gi(t,1);e!==null&&yr(e,t,1,-1)}function F_(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=pP.bind(null,At,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZE(){return ir().memoizedState}function xc(t,e,n,r){var i=Cr();At.flags|=t,i.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function oh(t,e,n,r){var i=ir();r=r===void 0?null:r;var o=void 0;if(zt!==null){var s=zt.memoizedState;if(o=s.destroy,r!==null&&Ig(r,s.deps)){i.memoizedState=Jl(e,n,o,r);return}}At.flags|=t,i.memoizedState=Jl(1|e,n,o,r)}function j_(t,e){return xc(8390656,8,t,e)}function Pg(t,e){return oh(2048,8,t,e)}function eT(t,e){return oh(4,2,t,e)}function tT(t,e){return oh(4,4,t,e)}function nT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rT(t,e,n){return n=n!=null?n.concat([t]):null,oh(4,4,nT.bind(null,e,t),n)}function Og(){}function iT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sT(t,e,n){return Bo&21?(_r(n,e)||(n=uE(),At.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function hP(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Vd.transition;Vd.transition={};try{t(!1),e()}finally{rt=n,Vd.transition=r}}function aT(){return ir().memoizedState}function dP(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lT(t))uT(e,n);else if(n=FE(t,e,n,r),n!==null){var i=Sn();yr(n,t,r,i),cT(n,e,r)}}function pP(t,e,n){var r=no(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lT(t))uT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,_r(a,s)){var l=e.interleaved;l===null?(i.next=i,Eg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FE(t,e,i,r),n!==null&&(i=Sn(),yr(n,t,r,i),cT(n,e,r))}}function lT(t){var e=t.alternate;return t===At||e!==null&&e===At}function uT(t,e){Al=mf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}var gf={readContext:rr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},mP={readContext:rr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:j_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dP.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:F_,useDebugValue:Og,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=F_(!1),e=t[0];return t=hP.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=Cr();if(wt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Qt===null)throw Error(ue(349));Bo&30||GE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,j_(QE.bind(null,r,o,t),[t]),r.flags|=2048,Jl(9,KE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Qt.identifierPrefix;if(wt){var n=ti,r=ei;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gP={readContext:rr,useCallback:iT,useContext:rr,useEffect:Pg,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:oT,useReducer:Ud,useRef:ZE,useState:function(){return Ud(Xl)},useDebugValue:Og,useDeferredValue:function(t){var e=ir();return sT(e,zt.memoizedState,t)},useTransition:function(){var t=Ud(Xl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:YE,useId:aT,unstable_isNewReconciler:!1},yP={readContext:rr,useCallback:iT,useContext:rr,useEffect:Pg,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:oT,useReducer:Fd,useRef:ZE,useState:function(){return Fd(Xl)},useDebugValue:Og,useDeferredValue:function(t){var e=ir();return zt===null?e.memoizedState=t:sT(e,zt.memoizedState,t)},useTransition:function(){var t=Fd(Xl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:YE,useId:aT,unstable_isNewReconciler:!1};function na(t,e){try{var n="",r=e;do n+=Hk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function fT(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vf||(vf=!0,nm=r),Wp(t,e)},n}function hT(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wp(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function B_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NP.bind(null,t,e,n),e.then(t,t))}function q_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var _P=Ti.ReactCurrentOwner,On=!1;function Tn(t,e,n,r){e.child=t===null?zE(e,null,n,r):ea(e,t.child,n,r)}function z_(t,e,n,r,i){n=n.render;var o=e.ref;return Bs(e,i),r=kg(t,e,n,r,o,i),n=Rg(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(wt&&n&&mg(e),e.flags|=1,Tn(t,e,r,i),e.child)}function H_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ug(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dT(t,e,o,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zl,n(s,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=ro(o,r),t.ref=e.ref,t.return=e,e.child=t}function dT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zl(o,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,yi(t,e,i)}return Yp(t,e,n,r,i)}function pT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Cs,Fn),Fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Cs,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,lt(Cs,Fn),Fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,lt(Cs,Fn),Fn|=r;return Tn(t,e,i,n),e.child}function mT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yp(t,e,n,r,i){var o=Nn(n)?Fo:mn.current;return o=Js(e,o),Bs(e,i),n=kg(t,e,n,r,o,i),r=Rg(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(wt&&r&&mg(e),e.flags|=1,Tn(t,e,n,i),e.child)}function W_(t,e,n,r,i){if(Nn(n)){var o=!0;lf(e)}else o=!1;if(Bs(e,i),e.stateNode===null)Dc(t,e),qE(e,n,r),Hp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=Nn(n)?Fo:mn.current,u=Js(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&V_(e,s,r,u),Vi=!1;var f=e.memoizedState;s.state=f,df(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Cn.current||Vi?(typeof h=="function"&&(zp(e,n,h,r),l=e.memoizedState),(a=Vi||M_(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:cr(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=Nn(n)?Fo:mn.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&V_(e,s,r,l),Vi=!1,f=e.memoizedState,s.state=f,df(e,r,s,i);var _=e.memoizedState;a!==d||f!==_||Cn.current||Vi?(typeof p=="function"&&(zp(e,n,p,r),_=e.memoizedState),(u=Vi||M_(e,n,u,r,f,_,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gp(t,e,n,r,o,i)}function Gp(t,e,n,r,i,o){mT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&C_(e,n,!1),yi(t,e,o);r=e.stateNode,_P.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ea(e,t.child,null,o),e.child=ea(e,null,a,o)):Tn(t,e,a,o),e.memoizedState=r.state,i&&C_(e,n,!0),e.child}function gT(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),Sg(t,e.containerInfo)}function Y_(t,e,n,r,i){return Zs(),yg(i),e.flags|=256,Tn(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yT(t,e,n){var r=e.pendingProps,i=St.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(St,i&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=lh(s,r,0,null),t=Lo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Qp(n),e.memoizedState=Kp,t):Cg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ro(a,o):(o=Lo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return o=t.child,t=o.sibling,r=ro(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cg(t,e){return e=lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fc(t,e,n,r){return r!==null&&yg(r),ea(e,t.child,null,n),t=Cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=jd(Error(ue(422))),fc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=lh({mode:"visible",children:r.children},i,0,null),o=Lo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ea(e,t.child,null,s),e.child.memoizedState=Qp(s),e.memoizedState=Kp,o);if(!(e.mode&1))return fc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=jd(o,r,void 0),fc(t,e,s,r)}if(a=(s&t.childLanes)!==0,On||a){if(r=Qt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,gi(t,i),yr(r,t,i,-1))}return Vg(),r=jd(Error(ue(421))),fc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qn=Zi(i.nextSibling),Hn=e,wt=!0,dr=null,t!==null&&(Jn[Zn++]=ei,Jn[Zn++]=ti,Jn[Zn++]=jo,ei=t.id,ti=t.overflow,jo=e),e=Cg(e,r.children),e.flags|=4096,e)}function G_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function Bd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Tn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,n,e);else if(t.tag===19)G_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bd(e,!0,n,null,o);break;case"together":Bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EP(t,e,n){switch(e.tag){case 3:gT(e),Zs();break;case 5:HE(e);break;case 1:Nn(e.type)&&lf(e);break;case 4:Sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(ff,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?yT(t,e,n):(lt(St,St.current&1),t=yi(t,e,n),t!==null?t.sibling:null);lt(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,pT(t,e,n)}return yi(t,e,n)}var _T,Xp,wT,ET;_T=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};wT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(Mr.current);var o=null;switch(n){case"input":i=_p(t,i),r=_p(t,r),o=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":i=Tp(t,i),r=Tp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sf)}Ap(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ET=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TP(t,e,n){var r=e.pendingProps;switch(gg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Nn(e.type)&&af(),un(e),null;case 3:return r=e.stateNode,ta(),pt(Cn),pt(mn),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(om(dr),dr=null))),Xp(t,e),un(e),null;case 5:Ag(e);var i=Oo(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)wT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return un(e),null}if(t=Oo(Mr.current),uc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Nr]=e,r[Yl]=o,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)ft(hl[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":r_(r,o),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ft("invalid",r);break;case"textarea":o_(r,o),ft("invalid",r)}Ap(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",""+a]):Vl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ft("scroll",r)}switch(n){case"input":ec(r),i_(r,o,!0);break;case"textarea":ec(r),s_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Nr]=e,t[Yl]=r,_T(t,e,!1,!1),e.stateNode=t;e:{switch(s=bp(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)ft(hl[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":r_(t,r),i=_p(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":o_(t,r),i=Tp(t,r),ft("invalid",t);break;default:i=r}Ap(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Xw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ft("scroll",t):l!=null&&tg(t,o,l,s))}switch(n){case"input":ec(t),i_(t,r,!1);break;case"textarea":ec(t),s_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Vs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Vs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)ET(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Oo(Kl.current),Oo(Mr.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(o=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:lc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return un(e),null;case 13:if(pt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&qn!==null&&e.mode&1&&!(e.flags&128))UE(),Zs(),e.flags|=98560,o=!1;else if(o=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[Nr]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else dr!==null&&(om(dr),dr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?Ht===0&&(Ht=3):Vg())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return ta(),Xp(t,e),t===null&&Hl(e.stateNode.containerInfo),un(e),null;case 10:return wg(e.type._context),un(e),null;case 17:return Nn(e.type)&&af(),un(e),null;case 19:if(pt(St),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Xa(o,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=pf(t),s!==null){for(e.flags|=128,Xa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(St,St.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>ra&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304)}else{if(!r)if(t=pf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wt)return un(e),null}else 2*Dt()-o.renderingStartTime>ra&&n!==1073741824&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=St.current,lt(St,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function SP(t,e){switch(gg(e),e.tag){case 1:return Nn(e.type)&&af(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ta(),pt(Cn),pt(mn),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ag(e),null;case 13:if(pt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(St),null;case 4:return ta(),null;case 10:return wg(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var hc=!1,hn=!1,AP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var K_=!1;function bP(t,e){if(Lp=nf,t=bE(),pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++h===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:t,selectionRange:n},nf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:cr(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(m){Rt(e,e.return,m)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return _=K_,K_=!1,_}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jp(e,n,o)}i=i.next}while(i!==r)}}function sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TT(t){var e=t.alternate;e!==null&&(t.alternate=null,TT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[Yl],delete e[Fp],delete e[aP],delete e[lP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ST(t){return t.tag===5||t.tag===3||t.tag===4}function Q_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ST(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sf));else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}var Jt=null,fr=!1;function Di(t,e,n){for(n=n.child;n!==null;)AT(t,e,n),n=n.sibling}function AT(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:hn||Os(n,e);case 6:var r=Jt,i=fr;Jt=null,Di(t,e,n),Jt=r,fr=i,Jt!==null&&(fr?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(fr?(t=Jt,n=n.stateNode,t.nodeType===8?Dd(t.parentNode,n):t.nodeType===1&&Dd(t,n),ql(t)):Dd(Jt,n.stateNode));break;case 4:r=Jt,i=fr,Jt=n.stateNode.containerInfo,fr=!0,Di(t,e,n),Jt=r,fr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Jp(n,e,s),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!hn&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Di(t,e,n),hn=r):Di(t,e,n);break;default:Di(t,e,n)}}function X_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AP),e.forEach(function(r){var i=DP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,fr=!1;break e;case 3:Jt=a.stateNode.containerInfo,fr=!0;break e;case 4:Jt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Jt===null)throw Error(ue(160));AT(o,s,i),Jt=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bT(e,t),e=e.sibling}function bT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Pr(t),r&4){try{bl(3,t,t.return),sh(3,t)}catch(v){Rt(t,t.return,v)}try{bl(5,t,t.return)}catch(v){Rt(t,t.return,v)}}break;case 1:ur(e,t),Pr(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(ur(e,t),Pr(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(v){Rt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ww(i,o),bp(a,s);var u=bp(a,o);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];h==="style"?Xw(i,d):h==="dangerouslySetInnerHTML"?Kw(i,d):h==="children"?Ul(i,d):tg(i,h,d,u)}switch(a){case"input":wp(i,o);break;case"textarea":Yw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Vs(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Vs(i,!!o.multiple,o.defaultValue,!0):Vs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yl]=o}catch(v){Rt(t,t.return,v)}}break;case 6:if(ur(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Rt(t,t.return,v)}}break;case 3:if(ur(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(v){Rt(t,t.return,v)}break;case 4:ur(e,t),Pr(t);break;case 13:ur(e,t),Pr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=Dt())),r&4&&X_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||h,ur(e,t),hn=u):ur(e,t),Pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ye=t,h=t.child;h!==null;){for(d=ye=h;ye!==null;){switch(f=ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return);break;case 1:Os(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Rt(r,n,v)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){Z_(d);continue}}p!==null?(p.return=f,ye=p):Z_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qw("display",s))}catch(v){Rt(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Rt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ur(e,t),Pr(t),r&4&&X_(t);break;case 21:break;default:ur(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ST(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var o=Q_(t);tm(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Q_(t);em(t,a,s);break;default:throw Error(ue(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IP(t,e,n){ye=t,IT(t)}function IT(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=hc;var u=hn;if(hc=s,(hn=l)&&!u)for(ye=i;ye!==null;)s=ye,l=s.child,s.tag===22&&s.memoizedState!==null?e0(i):l!==null?(l.return=s,ye=l):e0(i);for(;o!==null;)ye=o,IT(o),o=o.sibling;ye=i,hc=a,hn=u}J_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ye=o):J_(t)}}function J_(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||sh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&L_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ql(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}hn||e.flags&512&&Zp(e)}catch(f){Rt(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Z_(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function e0(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sh(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var o=e.return;try{Zp(e)}catch(l){Rt(e,o,l)}break;case 5:var s=e.return;try{Zp(e)}catch(l){Rt(e,s,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var kP=Math.ceil,yf=Ti.ReactCurrentDispatcher,Ng=Ti.ReactCurrentOwner,nr=Ti.ReactCurrentBatchConfig,Ke=0,Qt=null,jt=null,tn=0,Fn=0,Cs=go(0),Ht=0,Zl=null,qo=0,ah=0,xg=0,Il=null,Rn=null,Dg=0,ra=1/0,Xr=null,vf=!1,nm=null,to=null,dc=!1,Wi=null,_f=0,kl=0,rm=null,Lc=-1,Mc=0;function Sn(){return Ke&6?Dt():Lc!==-1?Lc:Lc=Dt()}function no(t){return t.mode&1?Ke&2&&tn!==0?tn&-tn:cP.transition!==null?(Mc===0&&(Mc=uE()),Mc):(t=rt,t!==0||(t=window.event,t=t===void 0?16:gE(t.type)),t):1}function yr(t,e,n,r){if(50<kl)throw kl=0,rm=null,Error(ue(185));gu(t,n,r),(!(Ke&2)||t!==Qt)&&(t===Qt&&(!(Ke&2)&&(ah|=n),Ht===4&&Fi(t,tn)),xn(t,r),n===1&&Ke===0&&!(e.mode&1)&&(ra=Dt()+500,rh&&yo()))}function xn(t,e){var n=t.callbackNode;cR(t,e);var r=tf(t,t===Qt?tn:0);if(r===0)n!==null&&u_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u_(n),e===1)t.tag===0?uP(t0.bind(null,t)):LE(t0.bind(null,t)),oP(function(){!(Ke&6)&&yo()}),n=null;else{switch(cE(r)){case 1:n=sg;break;case 4:n=aE;break;case 16:n=ef;break;case 536870912:n=lE;break;default:n=ef}n=DT(n,kT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kT(t,e){if(Lc=-1,Mc=0,Ke&6)throw Error(ue(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=tf(t,t===Qt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wf(t,r);else{e=r;var i=Ke;Ke|=2;var o=PT();(Qt!==t||tn!==e)&&(Xr=null,ra=Dt()+500,Do(t,e));do try{OP();break}catch(a){RT(t,a)}while(1);_g(),yf.current=o,Ke=i,jt!==null?e=0:(Qt=null,tn=0,e=Ht)}if(e!==0){if(e===2&&(i=Op(t),i!==0&&(r=i,e=im(t,i))),e===1)throw n=Zl,Do(t,0),Fi(t,r),xn(t,Dt()),n;if(e===6)Fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!RP(i)&&(e=wf(t,r),e===2&&(o=Op(t),o!==0&&(r=o,e=im(t,o))),e===1))throw n=Zl,Do(t,0),Fi(t,r),xn(t,Dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:bo(t,Rn,Xr);break;case 3:if(Fi(t,r),(r&130023424)===r&&(e=Dg+500-Dt(),10<e)){if(tf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Up(bo.bind(null,t,Rn,Xr),e);break}bo(t,Rn,Xr);break;case 4:if(Fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-gr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kP(r/1960))-r,10<r){t.timeoutHandle=Up(bo.bind(null,t,Rn,Xr),r);break}bo(t,Rn,Xr);break;case 5:bo(t,Rn,Xr);break;default:throw Error(ue(329))}}}return xn(t,Dt()),t.callbackNode===n?kT.bind(null,t):null}function im(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(Do(t,e).flags|=256),t=wf(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&om(e)),t}function om(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function RP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!_r(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~xg,e&=~ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gr(e),r=1<<n;t[n]=-1,e&=~r}}function t0(t){if(Ke&6)throw Error(ue(327));qs();var e=tf(t,0);if(!(e&1))return xn(t,Dt()),null;var n=wf(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=Zl,Do(t,0),Fi(t,e),xn(t,Dt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bo(t,Rn,Xr),xn(t,Dt()),null}function Lg(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(ra=Dt()+500,rh&&yo())}}function $o(t){Wi!==null&&Wi.tag===0&&!(Ke&6)&&qs();var e=Ke;Ke|=1;var n=nr.transition,r=rt;try{if(nr.transition=null,rt=1,t)return t()}finally{rt=r,nr.transition=n,Ke=e,!(Ke&6)&&yo()}}function Mg(){Fn=Cs.current,pt(Cs)}function Do(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iP(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&af();break;case 3:ta(),pt(Cn),pt(mn),bg();break;case 5:Ag(r);break;case 4:ta();break;case 13:pt(St);break;case 19:pt(St);break;case 10:wg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(Qt=t,jt=t=ro(t.current,null),tn=Fn=e,Ht=0,Zl=null,xg=ah=qo=0,Rn=Il=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return t}function RT(t,e){do{var n=jt;try{if(_g(),Nc.current=gf,mf){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mf=!1}if(Bo=0,Kt=zt=At=null,Al=!1,Ql=0,Ng.current=null,n===null||n.return===null){Ht=1,Zl=e,jt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=q_(s);if(p!==null){p.flags&=-257,$_(p,s,a,o,e),p.mode&1&&B_(o,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){B_(o,u,e),Vg();break e}l=Error(ue(426))}}else if(wt&&a.mode&1){var w=q_(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),$_(w,s,a,o,e),yg(na(l,a));break e}}o=l=na(l,a),Ht!==4&&(Ht=2),Il===null?Il=[o]:Il.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=fT(o,l,e);D_(o,y);break e;case 1:a=l;var g=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(to===null||!to.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var m=hT(o,a,e);D_(o,m);break e}}o=o.return}while(o!==null)}CT(n)}catch(k){e=k,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function PT(){var t=yf.current;return yf.current=gf,t===null?gf:t}function Vg(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||!(qo&268435455)&&!(ah&268435455)||Fi(Qt,tn)}function wf(t,e){var n=Ke;Ke|=2;var r=PT();(Qt!==t||tn!==e)&&(Xr=null,Do(t,e));do try{PP();break}catch(i){RT(t,i)}while(1);if(_g(),Ke=n,yf.current=r,jt!==null)throw Error(ue(261));return Qt=null,tn=0,Ht}function PP(){for(;jt!==null;)OT(jt)}function OP(){for(;jt!==null&&!tR();)OT(jt)}function OT(t){var e=xT(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?CT(t):jt=e,Ng.current=null}function CT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SP(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,jt=null;return}}else if(n=TP(n,e,Fn),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Ht===0&&(Ht=5)}function bo(t,e,n){var r=rt,i=nr.transition;try{nr.transition=null,rt=1,CP(t,e,n,r)}finally{nr.transition=i,rt=r}return null}function CP(t,e,n,r){do qs();while(Wi!==null);if(Ke&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(fR(t,o),t===Qt&&(jt=Qt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,DT(ef,function(){return qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var s=rt;rt=1;var a=Ke;Ke|=4,Ng.current=null,bP(t,n),bT(n,t),XR(Mp),nf=!!Lp,Mp=Lp=null,t.current=n,IP(n),nR(),Ke=a,rt=s,nr.transition=o}else t.current=n;if(dc&&(dc=!1,Wi=t,_f=i),o=t.pendingLanes,o===0&&(to=null),oR(n.stateNode),xn(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vf)throw vf=!1,t=nm,nm=null,t;return _f&1&&t.tag!==0&&qs(),o=t.pendingLanes,o&1?t===rm?kl++:(kl=0,rm=t):kl=0,yo(),null}function qs(){if(Wi!==null){var t=cE(_f),e=nr.transition,n=rt;try{if(nr.transition=null,rt=16>t?16:t,Wi===null)var r=!1;else{if(t=Wi,Wi=null,_f=0,Ke&6)throw Error(ue(331));var i=Ke;for(Ke|=4,ye=t.current;ye!==null;){var o=ye,s=o.child;if(ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ye=u;ye!==null;){var h=ye;switch(h.tag){case 0:case 11:case 15:bl(8,h,o)}var d=h.child;if(d!==null)d.return=h,ye=d;else for(;ye!==null;){h=ye;var f=h.sibling,p=h.return;if(TT(h),h===u){ye=null;break}if(f!==null){f.return=p,ye=f;break}ye=p}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ye=s;else e:for(;ye!==null;){if(o=ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ye=y;break e}ye=o.return}}var g=t.current;for(ye=g;ye!==null;){s=ye;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ye=E;else e:for(s=g;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sh(9,a)}}catch(k){Rt(a,a.return,k)}if(a===s){ye=null;break e}var m=a.sibling;if(m!==null){m.return=a.return,ye=m;break e}ye=a.return}}if(Ke=i,yo(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{rt=n,nr.transition=e}}return!1}function n0(t,e,n){e=na(n,e),e=fT(t,e,1),t=eo(t,e,1),e=Sn(),t!==null&&(gu(t,1,e),xn(t,e))}function Rt(t,e,n){if(t.tag===3)n0(t,t,n);else for(;e!==null;){if(e.tag===3){n0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=na(n,t),t=hT(e,t,1),e=eo(e,t,1),t=Sn(),e!==null&&(gu(e,1,t),xn(e,t));break}}e=e.return}}function NP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(tn&n)===n&&(Ht===4||Ht===3&&(tn&130023424)===tn&&500>Dt()-Dg?Do(t,0):xg|=n),xn(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):e=1);var n=Sn();t=gi(t,e),t!==null&&(gu(t,e,n),xn(t,n))}function xP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function DP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),NT(t,n)}var xT;xT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,EP(t,e,n);On=!!(t.flags&131072)}else On=!1,wt&&e.flags&1048576&&ME(e,cf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dc(t,e),t=e.pendingProps;var i=Js(e,mn.current);Bs(e,n),i=kg(null,e,r,t,i,n);var o=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(o=!0,lf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(e),i.updater=ih,e.stateNode=i,i._reactInternals=e,Hp(e,r,t,n),e=Gp(null,e,r,!0,o,n)):(e.tag=0,wt&&o&&mg(e),Tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MP(r),t=cr(r,t),i){case 0:e=Yp(null,e,r,t,n);break e;case 1:e=W_(null,e,r,t,n);break e;case 11:e=z_(null,e,r,t,n);break e;case 14:e=H_(null,e,r,cr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Yp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),W_(t,e,r,i,n);case 3:e:{if(gT(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jE(t,e),df(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=na(Error(ue(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=na(Error(ue(424)),e),e=Y_(t,e,r,n,i);break e}else for(qn=Zi(e.stateNode.containerInfo.firstChild),Hn=e,wt=!0,dr=null,n=zE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=yi(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return HE(e),t===null&&qp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Vp(r,i)?s=null:o!==null&&Vp(r,o)&&(e.flags|=32),mT(t,e),Tn(t,e,s,n),e.child;case 6:return t===null&&qp(e),null;case 13:return yT(t,e,n);case 4:return Sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ea(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),z_(t,e,r,i,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,lt(ff,r._currentValue),r._currentValue=s,o!==null)if(_r(o.value,s)){if(o.children===i.children&&!Cn.current){e=yi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=li(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$p(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$p(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bs(e,n),i=rr(i),r=r(i),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),H_(t,e,r,i,n);case 15:return dT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Dc(t,e),e.tag=1,Nn(r)?(t=!0,lf(e)):t=!1,Bs(e,n),qE(e,r,i),Hp(e,r,i,n),Gp(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return pT(t,e,n)}throw Error(ue(156,e.tag))};function DT(t,e){return sE(t,e)}function LP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new LP(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MP(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rg)return 11;if(t===ig)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ug(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Es:return Lo(n.children,i,o,e);case ng:s=8,i|=8;break;case mp:return t=tr(12,n,e,i|2),t.elementType=mp,t.lanes=o,t;case gp:return t=tr(13,n,e,i),t.elementType=gp,t.lanes=o,t;case yp:return t=tr(19,n,e,i),t.elementType=yp,t.lanes=o,t;case $w:return lh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bw:s=10;break e;case qw:s=9;break e;case rg:s=11;break e;case ig:s=14;break e;case Mi:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=tr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Lo(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function lh(t,e,n,r){return t=tr(22,t,r,e),t.elementType=$w,t.lanes=n,t.stateNode={isHidden:!1},t}function qd(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function $d(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sd(0),this.expirationTimes=Sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(t,e,n,r,i,o,s,a,l){return t=new VP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(o),t}function UP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LT(t){if(!t)return uo;t=t._reactInternals;e:{if(es(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Nn(n))return DE(t,n,e)}return e}function MT(t,e,n,r,i,o,s,a,l){return t=Fg(n,r,!0,t,i,o,s,a,l),t.context=LT(null),n=t.current,r=Sn(),i=no(n),o=li(r,i),o.callback=e??null,eo(n,o,i),t.current.lanes=i,gu(t,i,r),xn(t,r),t}function uh(t,e,n,r){var i=e.current,o=Sn(),s=no(i);return n=LT(n),e.context===null?e.context=n:e.pendingContext=n,e=li(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(i,e,s),t!==null&&(yr(t,i,s,o),Cc(t,i,s)),s}function Ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jg(t,e){r0(t,e),(t=t.alternate)&&r0(t,e)}function FP(){return null}var VT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bg(t){this._internalRoot=t}ch.prototype.render=Bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));uh(t,e,null,null)};ch.prototype.unmount=Bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){uh(null,t,null,null)}),e[mi]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=dE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&mE(t)}};function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i0(){}function jP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ef(s);o.call(u)}}var s=MT(e,r,t,0,null,!1,!1,"",i0);return t._reactRootContainer=s,t[mi]=s.current,Hl(t.nodeType===8?t.parentNode:t),$o(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ef(l);a.call(u)}}var l=Fg(t,0,!1,null,null,!1,!1,"",i0);return t._reactRootContainer=l,t[mi]=l.current,Hl(t.nodeType===8?t.parentNode:t),$o(function(){uh(e,l,n,r)}),l}function hh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ef(s);a.call(l)}}uh(e,s,t,i)}else s=jP(n,e,t,i,r);return Ef(s)}fE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(ag(e,n|1),xn(e,Dt()),!(Ke&6)&&(ra=Dt()+500,yo()))}break;case 13:$o(function(){var r=gi(t,1);if(r!==null){var i=Sn();yr(r,t,1,i)}}),jg(t,1)}};lg=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Sn();yr(e,t,134217728,n)}jg(t,134217728)}};hE=function(t){if(t.tag===13){var e=no(t),n=gi(t,e);if(n!==null){var r=Sn();yr(n,t,e,r)}jg(t,e)}};dE=function(){return rt};pE=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};kp=function(t,e,n){switch(e){case"input":if(wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nh(r);if(!i)throw Error(ue(90));Hw(r),wp(r,i)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&Vs(t,!!n.multiple,e,!1)}};eE=Lg;tE=$o;var BP={usingClientEntryPoint:!1,Events:[vu,bs,nh,Jw,Zw,Lg]},Ja={findFiberByHostInstance:Ro,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qP={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||FP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Jf=pc.inject(qP),Lr=pc}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qg(e))throw Error(ue(200));return UP(t,e,null,n)};Yn.createRoot=function(t,e){if(!qg(t))throw Error(ue(299));var n=!1,r="",i=VT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fg(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Bg(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=iE(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return $o(t)};Yn.hydrate=function(t,e,n){if(!fh(e))throw Error(ue(200));return hh(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!qg(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=VT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=MT(e,null,t,1,n??null,i,!1,o,s),t[mi]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ch(e)};Yn.render=function(t,e,n){if(!fh(e))throw Error(ue(200));return hh(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!fh(t))throw Error(ue(40));return t._reactRootContainer?($o(function(){hh(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Yn.unstable_batchedUpdates=Lg;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return hh(t,e,n,!1,r)};Yn.version="18.2.0-next-9e3b772b8-20220608";function UT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UT)}catch(t){console.error(t)}}UT(),Mw.exports=Yn;var FT=Mw.exports,o0=FT;dp.createRoot=o0.createRoot,dp.hydrateRoot=o0.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_t.apply(this,arguments)}var Ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ut||(Ut={}));const s0="popstate";function $P(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return eu("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zo(i)}return HP(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zP(){return Math.random().toString(36).substr(2,8)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function eu(t,e,n,r){return n===void 0&&(n=null),_t({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Si(e):e,{state:n,key:e&&e.key||r||zP()})}function zo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Si(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ut.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(_t({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function d(){a=Ut.Pop;let w=h(),y=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:y})}function f(w,y){a=Ut.Push;let g=eu(v.location,w,y);n&&n(g,w),u=h()+1;let E=a0(g,u),m=v.createHref(g);try{s.pushState(E,"",m)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(m)}o&&l&&l({action:a,location:v.location,delta:1})}function p(w,y){a=Ut.Replace;let g=eu(v.location,w,y);n&&n(g,w),u=h();let E=a0(g,u),m=v.createHref(g);s.replaceState(E,"",m),o&&l&&l({action:a,location:v.location,delta:0})}function _(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:zo(w);return qe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(s0,d),l=w,()=>{i.removeEventListener(s0,d),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let y=_(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return s.go(w)}};return v}var $t;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($t||($t={}));const WP=new Set(["lazy","caseSensitive","path","id","index","children"]);function YP(t){return t.index===!0}function sm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),YP(i)){let l=_t({},i,e(i),{id:a});return r[a]=l,l}else{let l=_t({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=sm(i.children,e,s,r)),l}})}function Ns(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Si(e):e,i=ya(r.pathname||"/",n);if(i==null)return null;let o=jT(t);GP(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=rO(o[a],sO(i));return s}function jT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ui([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jT(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:tO(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of BT(o.path))i(o,s,l)}),e}function BT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=BT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KP=/^:\w+$/,QP=3,XP=2,JP=1,ZP=10,eO=-2,l0=t=>t==="*";function tO(t,e){let n=t.split("/"),r=n.length;return n.some(l0)&&(r+=eO),e&&(r+=XP),n.filter(i=>!l0(i)).reduce((i,o)=>i+(KP.test(o)?QP:o===""?JP:ZP),r)}function nO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=iO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let d=a.route;o.push({params:r,pathname:ui([i,h.pathname]),pathnameBase:cO(ui([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=ui([i,h.pathnameBase]))}return o}function iO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,d)=>{if(h==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[h]=aO(a[d]||"",h),u},{}),pathname:o,pathnameBase:s,pattern:t}}function oO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sO(t){try{return decodeURI(t)}catch(e){return ia(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aO(t,e){try{return decodeURIComponent(t)}catch(n){return ia(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Si(t):t;return{pathname:n?n.startsWith("/")?n:uO(n,e):e,search:fO(r),hash:hO(i)}}function uO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $g(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Si(t):(i=_t({},t),qe(!i.pathname||!i.pathname.includes("?"),zd("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),zd("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),zd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=lO(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),cO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class zg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function qT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $T=["post","put","patch","delete"],dO=new Set($T),pO=["get",...$T],mO=new Set(pO),gO=new Set([301,302,303,307,308]),yO=new Set([307,308]),Hd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Za={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_O=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function wO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let X=t.detectErrorBoundary;i=ee=>({hasErrorBoundary:X(ee)})}else i=_O;let o={},s=sm(t.routes,i,void 0,o),a,l=t.basename||"/",u=_t({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),h=null,d=new Set,f=null,p=null,_=null,v=t.hydrationData!=null,w=Ns(s,t.history.location,l),y=null;if(w==null){let X=Xn(404,{pathname:t.history.location.pathname}),{matches:ee,route:ae}=g0(s);w=ee,y={[ae.id]:X}}let g=!w.some(X=>X.route.lazy)&&(!w.some(X=>X.route.loader)||t.hydrationData!=null),E,m={historyAction:t.history.action,location:t.history.location,matches:w,initialized:g,navigation:Hd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},k=Ut.Pop,N=!1,S,T=!1,O=!1,b=[],I=[],R=new Map,P=0,L=-1,j=new Map,H=new Set,W=new Map,Y=new Map,B=new Map,U=!1;function x(){return h=t.history.listen(X=>{let{action:ee,location:ae,delta:_e}=X;if(U){U=!1;return}ia(B.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=nt({currentLocation:m.location,nextLocation:ae,historyAction:ee});if(Ce&&_e!=null){U=!0,t.history.go(_e*-1),Nt(Ce,{state:"blocked",location:ae,proceed(){Nt(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),t.history.go(_e)},reset(){let ke=new Map(m.blockers);ke.set(Ce,Za),$({blockers:ke})}});return}return K(ee,ae)}),m.initialized||K(Ut.Pop,m.location),E}function M(){h&&h(),d.clear(),S&&S.abort(),m.fetchers.forEach((X,ee)=>ne(ee)),m.blockers.forEach((X,ee)=>xe(ee))}function F(X){return d.add(X),()=>d.delete(X)}function $(X){m=_t({},m,X),d.forEach(ee=>ee(m))}function z(X,ee){var ae,_e;let Ce=m.actionData!=null&&m.navigation.formMethod!=null&&hr(m.navigation.formMethod)&&m.navigation.state==="loading"&&((ae=X.state)==null?void 0:ae._isRedirect)!==!0,ke;ee.actionData?Object.keys(ee.actionData).length>0?ke=ee.actionData:ke=null:Ce?ke=m.actionData:ke=null;let Pe=ee.loaderData?m0(m.loaderData,ee.loaderData,ee.matches||[],ee.errors):m.loaderData,Ae=m.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((et,Mt)=>Ae.set(Mt,Za)));let we=N===!0||m.navigation.formMethod!=null&&hr(m.navigation.formMethod)&&((_e=X.state)==null?void 0:_e._isRedirect)!==!0;a&&(s=a,a=void 0),T||k===Ut.Pop||(k===Ut.Push?t.history.push(X,X.state):k===Ut.Replace&&t.history.replace(X,X.state)),$(_t({},ee,{actionData:ke,loaderData:Pe,historyAction:k,location:X,initialized:!0,navigation:Hd,revalidation:"idle",restoreScrollPosition:Fu(X,ee.matches||m.matches),preventScrollReset:we,blockers:Ae})),k=Ut.Pop,N=!1,T=!1,O=!1,b=[],I=[]}async function V(X,ee){if(typeof X=="number"){t.history.go(X);return}let ae=am(m.location,m.matches,l,u.v7_prependBasename,X,ee==null?void 0:ee.fromRouteId,ee==null?void 0:ee.relative),{path:_e,submission:Ce,error:ke}=u0(u.v7_normalizeFormMethod,!1,ae,ee),Pe=m.location,Ae=eu(m.location,_e,ee&&ee.state);Ae=_t({},Ae,t.history.encodeLocation(Ae));let we=ee&&ee.replace!=null?ee.replace:void 0,et=Ut.Push;we===!0?et=Ut.Replace:we===!1||Ce!=null&&hr(Ce.formMethod)&&Ce.formAction===m.location.pathname+m.location.search&&(et=Ut.Replace);let Mt=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,$e=nt({currentLocation:Pe,nextLocation:Ae,historyAction:et});if($e){Nt($e,{state:"blocked",location:Ae,proceed(){Nt($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),V(X,ee)},reset(){let yt=new Map(m.blockers);yt.set($e,Za),$({blockers:yt})}});return}return await K(et,Ae,{submission:Ce,pendingError:ke,preventScrollReset:Mt,replace:ee&&ee.replace})}function q(){if(st(),$({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){K(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}K(k||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function K(X,ee,ae){S&&S.abort(),S=null,k=X,T=(ae&&ae.startUninterruptedRevalidation)===!0,Dn(m.location,m.matches),N=(ae&&ae.preventScrollReset)===!0;let _e=a||s,Ce=ae&&ae.overrideNavigation,ke=Ns(_e,ee,l);if(!ke){let yt=Xn(404,{pathname:ee.pathname}),{matches:Et,route:br}=g0(_e);Me(),z(ee,{matches:Et,loaderData:{},errors:{[br.id]:yt}});return}if(m.initialized&&!O&&bO(m.location,ee)&&!(ae&&ae.submission&&hr(ae.submission.formMethod))){z(ee,{matches:ke});return}S=new AbortController;let Pe=tl(t.history,ee,S.signal,ae&&ae.submission),Ae,we;if(ae&&ae.pendingError)we={[xs(ke).route.id]:ae.pendingError};else if(ae&&ae.submission&&hr(ae.submission.formMethod)){let yt=await Q(Pe,ee,ae.submission,ke,{replace:ae.replace});if(yt.shortCircuited)return;Ae=yt.pendingActionData,we=yt.pendingActionError,Ce=mc(ee,ae.submission),Pe=new Request(Pe.url,{signal:Pe.signal})}let{shortCircuited:et,loaderData:Mt,errors:$e}=await ie(Pe,ee,ke,Ce,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,Ae,we);et||(S=null,z(ee,_t({matches:ke},Ae?{actionData:Ae}:{},{loaderData:Mt,errors:$e})))}async function Q(X,ee,ae,_e,Ce){Ce===void 0&&(Ce={}),st();let ke=OO(ee,ae);$({navigation:ke});let Pe,Ae=um(_e,ee);if(!Ae.route.action&&!Ae.route.lazy)Pe={type:$t.error,error:Xn(405,{method:X.method,pathname:ee.pathname,routeId:Ae.route.id})};else if(Pe=await el("action",X,Ae,_e,o,i,l),X.signal.aborted)return{shortCircuited:!0};if($s(Pe)){let we;return Ce&&Ce.replace!=null?we=Ce.replace:we=Pe.location===m.location.pathname+m.location.search,await je(m,Pe,{submission:ae,replace:we}),{shortCircuited:!0}}if(Rl(Pe)){let we=xs(_e,Ae.route.id);return(Ce&&Ce.replace)!==!0&&(k=Ut.Push),{pendingActionData:{},pendingActionError:{[we.route.id]:Pe.error}}}if(Co(Pe))throw Xn(400,{type:"defer-action"});return{pendingActionData:{[Ae.route.id]:Pe.data}}}async function ie(X,ee,ae,_e,Ce,ke,Pe,Ae,we){let et=_e||mc(ee,Ce),Mt=Ce||ke||_0(et),$e=a||s,[yt,Et]=c0(t.history,m,ae,Mt,ee,O,b,I,W,H,$e,l,Ae,we);if(Me(tt=>!(ae&&ae.some(Mn=>Mn.route.id===tt))||yt&&yt.some(Mn=>Mn.route.id===tt)),L=++P,yt.length===0&&Et.length===0){let tt=se();return z(ee,_t({matches:ae,loaderData:{},errors:we||null},Ae?{actionData:Ae}:{},tt?{fetchers:new Map(m.fetchers)}:{})),{shortCircuited:!0}}if(!T){Et.forEach(Mn=>{let Vn=m.fetchers.get(Mn.key),us=nl(void 0,Vn?Vn.data:void 0);m.fetchers.set(Mn.key,us)});let tt=Ae||m.actionData;$(_t({navigation:et},tt?Object.keys(tt).length===0?{actionData:null}:{actionData:tt}:{},Et.length>0?{fetchers:new Map(m.fetchers)}:{}))}Et.forEach(tt=>{R.has(tt.key)&&fe(tt.key),tt.controller&&R.set(tt.key,tt.controller)});let br=()=>Et.forEach(tt=>fe(tt.key));S&&S.signal.addEventListener("abort",br);let{results:Ln,loaderResults:Ci,fetcherResults:qt}=await Lt(m.matches,ae,yt,Et,X);if(X.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",br),Et.forEach(tt=>R.delete(tt.key));let Qn=y0(Ln);if(Qn){if(Qn.idx>=yt.length){let tt=Et[Qn.idx-yt.length].key;H.add(tt)}return await je(m,Qn.result,{replace:Pe}),{shortCircuited:!0}}let{loaderData:_n,errors:Ir}=p0(m,ae,yt,Ci,we,Et,qt,Y);Y.forEach((tt,Mn)=>{tt.subscribe(Vn=>{(Vn||tt.done)&&Y.delete(Mn)})});let Da=se(),La=Le(L),kr=Da||La||Et.length>0;return _t({loaderData:_n,errors:Ir},kr?{fetchers:new Map(m.fetchers)}:{})}function pe(X){return m.fetchers.get(X)||vO}function Ie(X,ee,ae,_e){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(X)&&fe(X);let Ce=a||s,ke=am(m.location,m.matches,l,u.v7_prependBasename,ae,ee,_e==null?void 0:_e.relative),Pe=Ns(Ce,ke,l);if(!Pe){te(X,ee,Xn(404,{pathname:ke}));return}let{path:Ae,submission:we,error:et}=u0(u.v7_normalizeFormMethod,!0,ke,_e);if(et){te(X,ee,et);return}let Mt=um(Pe,Ae);if(N=(_e&&_e.preventScrollReset)===!0,we&&hr(we.formMethod)){Re(X,ee,Ae,Mt,Pe,we);return}W.set(X,{routeId:ee,path:Ae}),Ue(X,ee,Ae,Mt,Pe,we)}async function Re(X,ee,ae,_e,Ce,ke){if(st(),W.delete(X),!_e.route.action&&!_e.route.lazy){let Tt=Xn(405,{method:ke.formMethod,pathname:ae,routeId:ee});te(X,ee,Tt);return}let Pe=m.fetchers.get(X),Ae=CO(ke,Pe);m.fetchers.set(X,Ae),$({fetchers:new Map(m.fetchers)});let we=new AbortController,et=tl(t.history,ae,we.signal,ke);R.set(X,we);let Mt=P,$e=await el("action",et,_e,Ce,o,i,l);if(et.signal.aborted){R.get(X)===we&&R.delete(X);return}if($s($e))if(R.delete(X),L>Mt){let Tt=ms(void 0);m.fetchers.set(X,Tt),$({fetchers:new Map(m.fetchers)});return}else{H.add(X);let Tt=nl(ke);return m.fetchers.set(X,Tt),$({fetchers:new Map(m.fetchers)}),je(m,$e,{submission:ke,isFetchActionRedirect:!0})}if(Rl($e)){te(X,ee,$e.error);return}if(Co($e))throw Xn(400,{type:"defer-action"});let yt=m.navigation.location||m.location,Et=tl(t.history,yt,we.signal),br=a||s,Ln=m.navigation.state!=="idle"?Ns(br,m.navigation.location,l):m.matches;qe(Ln,"Didn't find any matches after fetcher action");let Ci=++P;j.set(X,Ci);let qt=nl(ke,$e.data);m.fetchers.set(X,qt);let[Qn,_n]=c0(t.history,m,Ln,ke,yt,O,b,I,W,H,br,l,{[_e.route.id]:$e.data},void 0);_n.filter(Tt=>Tt.key!==X).forEach(Tt=>{let Rr=Tt.key,ar=m.fetchers.get(Rr),ju=nl(void 0,ar?ar.data:void 0);m.fetchers.set(Rr,ju),R.has(Rr)&&fe(Rr),Tt.controller&&R.set(Rr,Tt.controller)}),$({fetchers:new Map(m.fetchers)});let Ir=()=>_n.forEach(Tt=>fe(Tt.key));we.signal.addEventListener("abort",Ir);let{results:Da,loaderResults:La,fetcherResults:kr}=await Lt(m.matches,Ln,Qn,_n,Et);if(we.signal.aborted)return;we.signal.removeEventListener("abort",Ir),j.delete(X),R.delete(X),_n.forEach(Tt=>R.delete(Tt.key));let tt=y0(Da);if(tt){if(tt.idx>=Qn.length){let Tt=_n[tt.idx-Qn.length].key;H.add(Tt)}return je(m,tt.result)}let{loaderData:Mn,errors:Vn}=p0(m,m.matches,Qn,La,void 0,_n,kr,Y);if(m.fetchers.has(X)){let Tt=ms($e.data);m.fetchers.set(X,Tt)}let us=Le(Ci);m.navigation.state==="loading"&&Ci>L?(qe(k,"Expected pending action"),S&&S.abort(),z(m.navigation.location,{matches:Ln,loaderData:Mn,errors:Vn,fetchers:new Map(m.fetchers)})):($(_t({errors:Vn,loaderData:m0(m.loaderData,Mn,Ln,Vn)},us||_n.length>0?{fetchers:new Map(m.fetchers)}:{})),O=!1)}async function Ue(X,ee,ae,_e,Ce,ke){let Pe=m.fetchers.get(X),Ae=nl(ke,Pe?Pe.data:void 0);m.fetchers.set(X,Ae),$({fetchers:new Map(m.fetchers)});let we=new AbortController,et=tl(t.history,ae,we.signal);R.set(X,we);let Mt=P,$e=await el("loader",et,_e,Ce,o,i,l);if(Co($e)&&($e=await YT($e,et.signal,!0)||$e),R.get(X)===we&&R.delete(X),et.signal.aborted)return;if($s($e))if(L>Mt){let Et=ms(void 0);m.fetchers.set(X,Et),$({fetchers:new Map(m.fetchers)});return}else{H.add(X),await je(m,$e);return}if(Rl($e)){let Et=xs(m.matches,ee);m.fetchers.delete(X),$({fetchers:new Map(m.fetchers),errors:{[Et.route.id]:$e.error}});return}qe(!Co($e),"Unhandled fetcher deferred data");let yt=ms($e.data);m.fetchers.set(X,yt),$({fetchers:new Map(m.fetchers)})}async function je(X,ee,ae){let{submission:_e,replace:Ce,isFetchActionRedirect:ke}=ae===void 0?{}:ae;ee.revalidate&&(O=!0);let Pe=eu(X.location,ee.location,_t({_isRedirect:!0},ke?{_isFetchActionRedirect:!0}:{}));if(qe(Pe,"Expected a location on the redirect navigation"),zT.test(ee.location)&&n){let et=t.history.createURL(ee.location),Mt=ya(et.pathname,l)==null;if(e.location.origin!==et.origin||Mt){Ce?e.location.replace(ee.location):e.location.assign(ee.location);return}}S=null;let Ae=Ce===!0?Ut.Replace:Ut.Push,we=_e||_0(X.navigation);if(yO.has(ee.status)&&we&&hr(we.formMethod))await K(Ae,Pe,{submission:_t({},we,{formAction:ee.location}),preventScrollReset:N});else if(ke)await K(Ae,Pe,{overrideNavigation:mc(Pe),fetcherSubmission:we,preventScrollReset:N});else{let et=mc(Pe,we);await K(Ae,Pe,{overrideNavigation:et,preventScrollReset:N})}}async function Lt(X,ee,ae,_e,Ce){let ke=await Promise.all([...ae.map(we=>el("loader",Ce,we,ee,o,i,l)),..._e.map(we=>we.matches&&we.match&&we.controller?el("loader",tl(t.history,we.path,we.controller.signal),we.match,we.matches,o,i,l):{type:$t.error,error:Xn(404,{pathname:we.path})})]),Pe=ke.slice(0,ae.length),Ae=ke.slice(ae.length);return await Promise.all([v0(X,ae,Pe,Pe.map(()=>Ce.signal),!1,m.loaderData),v0(X,_e.map(we=>we.match),Ae,_e.map(we=>we.controller?we.controller.signal:null),!0)]),{results:ke,loaderResults:Pe,fetcherResults:Ae}}function st(){O=!0,b.push(...Me()),W.forEach((X,ee)=>{R.has(ee)&&(I.push(ee),fe(ee))})}function te(X,ee,ae){let _e=xs(m.matches,ee);ne(X),$({errors:{[_e.route.id]:ae},fetchers:new Map(m.fetchers)})}function ne(X){let ee=m.fetchers.get(X);R.has(X)&&!(ee&&ee.state==="loading"&&j.has(X))&&fe(X),W.delete(X),j.delete(X),H.delete(X),m.fetchers.delete(X)}function fe(X){let ee=R.get(X);qe(ee,"Expected fetch controller: "+X),ee.abort(),R.delete(X)}function de(X){for(let ee of X){let ae=pe(ee),_e=ms(ae.data);m.fetchers.set(ee,_e)}}function se(){let X=[],ee=!1;for(let ae of H){let _e=m.fetchers.get(ae);qe(_e,"Expected fetcher: "+ae),_e.state==="loading"&&(H.delete(ae),X.push(ae),ee=!0)}return de(X),ee}function Le(X){let ee=[];for(let[ae,_e]of j)if(_e<X){let Ce=m.fetchers.get(ae);qe(Ce,"Expected fetcher: "+ae),Ce.state==="loading"&&(fe(ae),j.delete(ae),ee.push(ae))}return de(ee),ee.length>0}function Ne(X,ee){let ae=m.blockers.get(X)||Za;return B.get(X)!==ee&&B.set(X,ee),ae}function xe(X){m.blockers.delete(X),B.delete(X)}function Nt(X,ee){let ae=m.blockers.get(X)||Za;qe(ae.state==="unblocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="proceeding"||ae.state==="blocked"&&ee.state==="unblocked"||ae.state==="proceeding"&&ee.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+ee.state);let _e=new Map(m.blockers);_e.set(X,ee),$({blockers:_e})}function nt(X){let{currentLocation:ee,nextLocation:ae,historyAction:_e}=X;if(B.size===0)return;B.size>1&&ia(!1,"A router only supports one blocker at a time");let Ce=Array.from(B.entries()),[ke,Pe]=Ce[Ce.length-1],Ae=m.blockers.get(ke);if(!(Ae&&Ae.state==="proceeding")&&Pe({currentLocation:ee,nextLocation:ae,historyAction:_e}))return ke}function Me(X){let ee=[];return Y.forEach((ae,_e)=>{(!X||X(_e))&&(ae.cancel(),ee.push(_e),Y.delete(_e))}),ee}function Oi(X,ee,ae){if(f=X,_=ee,p=ae||null,!v&&m.navigation===Hd){v=!0;let _e=Fu(m.location,m.matches);_e!=null&&$({restoreScrollPosition:_e})}return()=>{f=null,_=null,p=null}}function at(X,ee){return p&&p(X,ee.map(_e=>PO(_e,m.loaderData)))||X.key}function Dn(X,ee){if(f&&_){let ae=at(X,ee);f[ae]=_()}}function Fu(X,ee){if(f){let ae=at(X,ee),_e=f[ae];if(typeof _e=="number")return _e}return null}function _o(X){o={},a=sm(X,i,void 0,o)}return E={get basename(){return l},get state(){return m},get routes(){return s},initialize:x,subscribe:F,enableScrollRestoration:Oi,navigate:V,fetch:Ie,revalidate:q,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:pe,deleteFetcher:ne,dispose:M,getBlocker:Ne,deleteBlocker:xe,_internalFetchControllers:R,_internalActiveDeferreds:Y,_internalSetRoutes:_o},E}function EO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function am(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let h of e)if(a.push(h),h.route.id===o){l=h;break}}else a=e,l=e[e.length-1];let u=$g(i||".",dh(a).map(h=>h.pathnameBase),ya(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Hg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),zo(u)}function u0(t,e,n,r){if(!r||!EO(r))return{path:n};if(r.formMethod&&!RO(r.formMethod))return{path:n,error:Xn(405,{method:r.formMethod})};let i=()=>({path:n,error:Xn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=WT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!hr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,_)=>{let[v,w]=_;return""+p+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!hr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=lm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=lm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=d0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=d0(l)}catch{return i()}let h={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(hr(h.formMethod))return{path:n,submission:h};let d=Si(n);return e&&d.search&&Hg(d.search)&&l.append("index",""),d.search="?"+l,{path:zo(d),submission:h}}function TO(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function c0(t,e,n,r,i,o,s,a,l,u,h,d,f,p){let _=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),y=p?Object.keys(p)[0]:void 0,E=TO(n,y).filter((k,N)=>{if(k.route.lazy)return!0;if(k.route.loader==null)return!1;if(SO(e.loaderData,e.matches[N],k)||s.some(O=>O===k.route.id))return!0;let S=e.matches[N],T=k;return f0(k,_t({currentUrl:v,currentParams:S.params,nextUrl:w,nextParams:T.params},r,{actionResult:_,defaultShouldRevalidate:o||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||HT(S,T)}))}),m=[];return l.forEach((k,N)=>{if(!n.some(I=>I.route.id===k.routeId))return;let S=Ns(h,k.path,d);if(!S){m.push({key:N,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(N),O=um(S,k.path),b=!1;u.has(N)?b=!1:a.includes(N)?b=!0:T&&T.state!=="idle"&&T.data===void 0?b=o:b=f0(O,_t({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:o})),b&&m.push({key:N,routeId:k.routeId,path:k.path,matches:S,match:O,controller:new AbortController})}),[E,m]}function SO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function HT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function f0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function h0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ia(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!WP.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,_t({},e(i),{lazy:void 0}))}async function el(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,u,h,d=_=>{let v,w=new Promise((y,g)=>v=g);return h=()=>v(),e.signal.addEventListener("abort",h),Promise.race([_({request:e,params:n.params,context:a.requestContext}),w])};try{let _=n.route[t];if(n.route.lazy)if(_)u=(await Promise.all([d(_),h0(n.route,o,i)]))[0];else if(await h0(n.route,o,i),_=n.route[t],_)u=await d(_);else if(t==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw Xn(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:$t.data,data:void 0};else if(_)u=await d(_);else{let v=new URL(e.url),w=v.pathname+v.search;throw Xn(404,{pathname:w})}qe(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){l=$t.error,u=_}finally{h&&e.signal.removeEventListener("abort",h)}if(kO(u)){let _=u.status;if(gO.has(_)){let y=u.headers.get("Location");if(qe(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!zT.test(y))y=am(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y);else if(!a.isStaticRequest){let g=new URL(e.url),E=y.startsWith("//")?new URL(g.protocol+y):new URL(y),m=ya(E.pathname,s)!=null;E.origin===g.origin&&m&&(y=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw u.headers.set("Location",y),u;return{type:$t.redirect,status:_,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||$t.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===$t.error?{type:l,error:new zg(_,u.statusText,v),headers:u.headers}:{type:$t.data,data:v,statusCode:u.status,headers:u.headers}}if(l===$t.error)return{type:l,error:u};if(IO(u)){var f,p;return{type:$t.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:$t.data,data:u}}function tl(t,e,n,r){let i=t.createURL(WT(e)).toString(),o={signal:n};if(r&&hr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=lm(r.formData):o.body=r.formData}return new Request(i,o)}function lm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function d0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function AO(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((h,d)=>{let f=e[d].route.id;if(qe(!$s(h),"Cannot handle redirect results in processLoaderData"),Rl(h)){let p=xs(t,f),_=h.error;r&&(_=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=_),o[f]=void 0,l||(l=!0,a=qT(h.error)?h.error.status:500),h.headers&&(u[f]=h.headers)}else Co(h)?(i.set(f,h.deferredData),o[f]=h.deferredData.data):o[f]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(u[f]=h.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function p0(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=AO(e,n,r,i,a);for(let h=0;h<o.length;h++){let{key:d,match:f,controller:p}=o[h];qe(s!==void 0&&s[h]!==void 0,"Did not find corresponding fetcher result");let _=s[h];if(!(p&&p.signal.aborted))if(Rl(_)){let v=xs(t.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=_t({},u,{[v.route.id]:_.error})),t.fetchers.delete(d)}else if($s(_))qe(!1,"Unhandled fetcher revalidation redirect");else if(Co(_))qe(!1,"Unhandled fetcher deferred data");else{let v=ms(_.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function m0(t,e,n,r){let i=_t({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function xs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function g0(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new zg(t||500,s,new Error(a),!0)}function y0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if($s(n))return{result:n,idx:e}}}function WT(t){let e=typeof t=="string"?Si(t):t;return zo(_t({},e,{hash:""}))}function bO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Co(t){return t.type===$t.deferred}function Rl(t){return t.type===$t.error}function $s(t){return(t&&t.type)===$t.redirect}function IO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function kO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function RO(t){return mO.has(t.toLowerCase())}function hr(t){return dO.has(t.toLowerCase())}async function v0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),h=u!=null&&!HT(u,l)&&(o&&o[l.route.id])!==void 0;if(Co(a)&&(i||h)){let d=r[s];qe(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await YT(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function YT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$t.data,data:t.deferredData.unwrappedData}}catch(i){return{type:$t.error,error:i}}return{type:$t.data,data:t.deferredData.data}}}function Hg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function PO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function um(t,e){let n=typeof e=="string"?Si(e).search:e.search;if(t[t.length-1].route.index&&Hg(n||""))return t[t.length-1];let r=dh(t);return r[r.length-1]}function _0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function mc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function OO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function CO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function ms(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}const ph=re.createContext(null),GT=re.createContext(null),va=re.createContext(null),mh=re.createContext(null),Ai=re.createContext({outlet:null,matches:[],isDataRoute:!1}),KT=re.createContext(null);function NO(t,e){let{relative:n}=e===void 0?{}:e;wu()||qe(!1);let{basename:r,navigator:i}=re.useContext(va),{hash:o,pathname:s,search:a}=XT(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ui([r,s])),i.createHref({pathname:l,search:a,hash:o})}function wu(){return re.useContext(mh)!=null}function _a(){return wu()||qe(!1),re.useContext(mh).location}function QT(t){re.useContext(va).static||re.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=re.useContext(Ai);return t?YO():xO()}function xO(){wu()||qe(!1);let t=re.useContext(ph),{basename:e,navigator:n}=re.useContext(va),{matches:r}=re.useContext(Ai),{pathname:i}=_a(),o=JSON.stringify(dh(r).map(l=>l.pathnameBase)),s=re.useRef(!1);return QT(()=>{s.current=!0}),re.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let h=$g(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ui([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,i,t])}const DO=re.createContext(null);function LO(t){let e=re.useContext(Ai).outlet;return e&&re.createElement(DO.Provider,{value:t},e)}function MO(){let{matches:t}=re.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function XT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=re.useContext(Ai),{pathname:i}=_a(),o=JSON.stringify(dh(r).map(s=>s.pathnameBase));return re.useMemo(()=>$g(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function VO(t,e,n){wu()||qe(!1);let{navigator:r}=re.useContext(va),{matches:i}=re.useContext(Ai),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=_a(),u;if(e){var h;let v=typeof e=="string"?Si(e):e;a==="/"||(h=v.pathname)!=null&&h.startsWith(a)||qe(!1),u=v}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=Ns(t,{pathname:f}),_=qO(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ui([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ui([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&_?re.createElement(mh.Provider,{value:{location:Tf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ut.Pop}},_):_}function UO(){let t=WO(),e=qT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,o)}const FO=re.createElement(UO,null);class jO extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?re.createElement(Ai.Provider,{value:this.props.routeContext},re.createElement(KT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BO(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(ph);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(Ai.Provider,{value:e},r)}function qO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||qe(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let h=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||FO);let f=e.concat(o.slice(0,u+1)),p=()=>{let _;return h?_=d:l.route.Component?_=re.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,re.createElement(BO,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?re.createElement(jO,{location:n.location,revalidation:n.revalidation,component:d,error:h,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var cm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(cm||(cm={}));var tu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(tu||(tu={}));function $O(t){let e=re.useContext(ph);return e||qe(!1),e}function zO(t){let e=re.useContext(GT);return e||qe(!1),e}function HO(t){let e=re.useContext(Ai);return e||qe(!1),e}function JT(t){let e=HO(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function WO(){var t;let e=re.useContext(KT),n=zO(tu.UseRouteError),r=JT(tu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function YO(){let{router:t}=$O(cm.UseNavigateStable),e=JT(tu.UseNavigateStable),n=re.useRef(!1);return QT(()=>{n.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tf({fromRouteId:e},o)))},[t,e])}const GO="startTransition",w0=xk[GO];function KO(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=re.useState(n.state),{v7_startTransition:s}=r||{},a=re.useCallback(d=>{s&&w0?w0(()=>o(d)):o(d)},[o,s]);re.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=re.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,f,p)=>n.navigate(d,{state:f,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(d,f,p)=>n.navigate(d,{replace:!0,state:f,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),u=n.basename||"/",h=re.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return re.createElement(re.Fragment,null,re.createElement(ph.Provider,{value:h},re.createElement(GT.Provider,{value:i},re.createElement(JO,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?re.createElement(QO,{routes:n.routes,state:i}):e))),null)}function QO(t){let{routes:e,state:n}=t;return VO(e,void 0,n)}function XO(t){return LO(t.context)}function JO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ut.Pop,navigator:o,static:s=!1}=t;wu()&&qe(!1);let a=e.replace(/^\/*/,"/"),l=re.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Si(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,_=re.useMemo(()=>{let v=ya(u,a);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:p},navigationType:i}},[a,u,h,d,f,p,i]);return _==null?null:re.createElement(va.Provider,{value:l},re.createElement(mh.Provider,{children:n,value:_}))}var E0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(E0||(E0={}));new Promise(()=>{});function ZO(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:re.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:re.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}function eC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nC(t,e){return t.button===0&&(!e||e==="_self")&&!tC(t)}const rC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function iC(t,e){return wO({basename:e==null?void 0:e.basename,future:nu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:$P({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||oC(),routes:t,mapRouteProperties:ZO}).initialize()}function oC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=nu({},e,{errors:sC(e.errors)})),e}function sC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new zg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=re.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h}=e,d=eC(e,rC),{basename:f}=re.useContext(va),p,_=!1;if(typeof u=="string"&&lC.test(u)&&(p=u,aC))try{let g=new URL(window.location.href),E=u.startsWith("//")?new URL(g.protocol+u):new URL(u),m=ya(E.pathname,f);E.origin===g.origin&&m!=null?u=m+E.search+E.hash:_=!0}catch{}let v=NO(u,{relative:i}),w=uC(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i});function y(g){r&&r(g),g.defaultPrevented||w(g)}return re.createElement("a",nu({},d,{href:p||v,onClick:_||o?r:y,ref:n,target:l}))});var T0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(T0||(T0={}));var S0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S0||(S0={}));function uC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=ts(),l=_a(),u=XT(t,{relative:s});return re.useCallback(h=>{if(nC(h,n)){h.preventDefault();let d=r!==void 0?r:zo(l)===zo(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new fC;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hC=function(t){const e=ZT(t);return eS.encodeByteArray(e,!0)},Sf=function(t){return hC(t).replace(/\./g,"")},tS=function(t){try{return eS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=()=>dC().__FIREBASE_DEFAULTS__,mC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tS(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return pC()||mC()||gC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nS=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rS=t=>{const e=nS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iS=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},oS=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Sf(JSON.stringify(n)),Sf(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function _C(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TC(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function bC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IC,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kC(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Hr(i,a,r)}}function kC(t,e){return t.replace(RC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ru(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(A0(o)&&A0(s)){if(!ru(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OC(t,e){const n=new CC(t,e);return n.subscribe.bind(n)}class CC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wd),i.error===void 0&&(i.error=Wd),i.complete===void 0&&(i.complete=Wd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(t){return t===Io?void 0:t}function LC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const VC={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},UC=We.INFO,FC={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},jC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=UC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const BC=(t,e)=>e.some(n=>t instanceof n);let b0,I0;function qC(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $C(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,fm=new WeakMap,lS=new WeakMap,Yd=new WeakMap,Yg=new WeakMap;function zC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(io(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),Yg.set(e,t),e}function HC(t){if(fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fm.set(t,e)}let hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WC(t){hm=t(hm)}function YC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gd(this),e,...n);return lS.set(r,e.sort?e.sort():[e]),io(r)}:$C().includes(t)?function(...e){return t.apply(Gd(this),e),io(aS.get(this))}:function(...e){return io(t.apply(Gd(this),e))}}function GC(t){return typeof t=="function"?YC(t):(t instanceof IDBTransaction&&HC(t),BC(t,qC())?new Proxy(t,hm):t)}function io(t){if(t instanceof IDBRequest)return zC(t);if(Yd.has(t))return Yd.get(t);const e=GC(t);return e!==t&&(Yd.set(t,e),Yg.set(e,t)),e}const Gd=t=>Yg.get(t);function KC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=io(s);return r&&s.addEventListener("upgradeneeded",l=>{r(io(s.result),l.oldVersion,l.newVersion,io(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const QC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],Kd=new Map;function k0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QC.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Kd.set(e,o),o}WC(t=>({...t,get:(e,n,r)=>k0(e,n)||t.get(e,n,r),has:(e,n)=>!!k0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",R0="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Wg("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",iN="@firebase/app-check",oN="@firebase/auth",sN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/database-compat",uN="@firebase/functions",cN="@firebase/functions-compat",fN="@firebase/installations",hN="@firebase/installations-compat",dN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",_N="@firebase/storage",wN="@firebase/storage-compat",EN="@firebase/firestore",TN="@firebase/vertexai-preview",SN="@firebase/firestore-compat",AN="firebase",bN="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",IN={[dm]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[iN]:"fire-app-check",[rN]:"fire-app-check-compat",[oN]:"fire-auth",[sN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-rtdb-compat",[uN]:"fire-fn",[cN]:"fire-fn-compat",[fN]:"fire-iid",[hN]:"fire-iid-compat",[dN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[_N]:"fire-gcs",[wN]:"fire-gcs-compat",[EN]:"fire-fst",[SN]:"fire-fst-compat",[TN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,kN=new Map,mm=new Map;function P0(t,e){try{t.container.addComponent(e)}catch(n){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(mm.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,t);for(const n of Af.values())P0(n,t);for(const n of kN.values())P0(n,t);return!0}function yh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Eu("app","Firebase",RN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=bN;function uS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=iS()),!n)throw oo.create("no-options");const o=Af.get(i);if(o){if(ru(n,o.options)&&ru(r,o.config))return o;throw oo.create("duplicate-app",{appName:i})}const s=new MC(i);for(const l of mm.values())s.addComponent(l);const a=new PN(n,r,s);return Af.set(i,a),a}function Gg(t=pm){const e=Af.get(t);if(!e&&t===pm&&iS())return uS();if(!e)throw oo.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=IN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ho.warn(a.join(" "));return}Wo(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",CN=1,iu="firebase-heartbeat-store";let Qd=null;function cS(){return Qd||(Qd=KC(ON,CN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Qd}async function NN(t){try{const n=(await cS()).transaction(iu),r=await n.objectStore(iu).get(fS(t));return await n.done,r}catch(e){if(e instanceof Hr)Ho.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ho.warn(n.message)}}}async function O0(t,e){try{const r=(await cS()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,fS(t)),await r.done}catch(n){if(n instanceof Hr)Ho.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ho.warn(r.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,DN=30*24*60*60*1e3;class LN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=C0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=DN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:r,unsentEntries:i}=MN(this._heartbeatsCache.heartbeats),o=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function C0(){return new Date().toISOString().substring(0,10)}function MN(t,e=xN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?bC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N0(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){Wo(new co("platform-logger",e=>new JC(e),"PRIVATE")),Wo(new co("heartbeat",e=>new LN(e),"PRIVATE")),Vr(dm,R0,t),Vr(dm,R0,"esm2017"),Vr("fire-js","")}UN("");function Kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FN=hS,dS=new Eu("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new Wg("@firebase/auth");function jN(t,...e){bf.logLevel<=We.WARN&&bf.warn(`Auth (${ns}): ${t}`,...e)}function Uc(t,...e){bf.logLevel<=We.ERROR&&bf.error(`Auth (${ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw Qg(t,...e)}function Ur(t,...e){return Qg(t,...e)}function pS(t,e,n){const r=Object.assign(Object.assign({},FN()),{[e]:n});return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dS.create(t,...e)}function be(t,e,...n){if(!t)throw Qg(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function vi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BN(){return x0()==="http:"||x0()==="https:"}function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BN()||wC()||"connection"in navigator)?navigator.onLine:!0}function $N(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=vC()||EC()}get(){return qN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Su(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ii(t,e,n,r,i={}){return gS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Tu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mS.fetch()(yS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function gS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zN),e);try{const i=new YN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw gc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw gc(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pS(t,h,u);wr(t,h)}}catch(i){if(i instanceof Hr)throw i;wr(t,"network-request-failed",{message:String(i)})}}async function Au(t,e,n,r,i={}){const o=await Ii(t,e,n,r,i);return"mfaPendingCredential"in o&&wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function yS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xg(t.config,i):`${t.config.apiScheme}://${i}`}function WN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),HN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function D0(t){return t!==void 0&&t.enterprise!==void 0}class GN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function KN(t,e){return Ii(t,"GET","/v2/recaptchaConfig",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){return Ii(t,"POST","/v1/accounts:delete",e)}async function vS(t,e){return Ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XN(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=Jg(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pl(Xd(i.auth_time)),issuedAtTime:Pl(Xd(i.iat)),expirationTime:Pl(Xd(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Xd(t){return Number(t)*1e3}function Jg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const i=tS(n);return i?JSON.parse(i):(Uc("Failed to decode base64 JWT payload"),null)}catch(i){return Uc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L0(t){const e=Jg(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&JN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ou(t,vS(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_S(o.providerUserInfo):[],a=t2(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function e2(t){const e=Pt(t);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _S(t){return t.map(e=>{var{providerId:n}=e,r=Kg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e){const n=await gS(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yS(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r2(t,e){return Ii(t,"POST","/v2/accounts:revokeToken",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=L0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await n2(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new zs;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XN(this,e)}reload(){return e2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await ou(this,QN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:m,isAnonymous:k,providerData:N,stsTokenManager:S}=n;be(E&&S,e,"internal-error");const T=zs.fromJSON(this.name,S);be(typeof E=="string",e,"internal-error"),Li(d,e.name),Li(f,e.name),be(typeof m=="boolean",e,"internal-error"),be(typeof k=="boolean",e,"internal-error"),Li(p,e.name),Li(_,e.name),Li(v,e.name),Li(w,e.name),Li(y,e.name),Li(g,e.name);const O=new ri({uid:E,auth:e,email:f,emailVerified:m,displayName:d,isAnonymous:k,photoURL:_,phoneNumber:p,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return N&&Array.isArray(N)&&(O.providerData=N.map(b=>Object.assign({},b))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await If(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?_S(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new zs;a.updateFromIdToken(r);const l=new ri({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ym(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function ii(t){vi(t instanceof Function,"Expected a class definition");let e=M0.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const V0=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(ii(V0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ii(V0);const s=Fc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const d=ri._fromJSON(e,h);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Hs(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Hs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(IS(e))return"Webos";if(Zg(e))return"Safari";if((e.includes("chrome/")||TS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ES(t=on()){return/firefox\//i.test(t)}function Zg(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TS(t=on()){return/crios\//i.test(t)}function SS(t=on()){return/iemobile/i.test(t)}function AS(t=on()){return/android/i.test(t)}function bS(t=on()){return/blackberry/i.test(t)}function IS(t=on()){return/webos/i.test(t)}function vh(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i2(t=on()){var e;return vh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o2(){return TC()&&document.documentMode===10}function kS(t=on()){return vh(t)||AS(t)||IS(t)||bS(t)||/windows phone/i.test(t)||SS(t)}function s2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e=[]){let n;switch(t){case"Browser":n=U0(on());break;case"Worker":n=`${U0(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e={}){return Ii(t,"GET","/v2/passwordPolicy",bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=6;class c2{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:u2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new a2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vS(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(ci(this));const n=e?Pt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l2(this),n=new c2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return Pt(t)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h2(t){_h=t}function PS(t){return _h.loadJS(t)}function d2(){return _h.recaptchaEnterpriseScript}function p2(){return _h.gapiScript}function m2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const g2="recaptcha-enterprise",y2="NO_RECAPTCHA";class v2{constructor(e){this.type=g2,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{KN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GN(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;D0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(y2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&D0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=d2();l.length!==0&&(l+=a),PS(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function j0(t,e,n,r=!1){const i=new v2(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function vm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await j0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await j0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e){const n=yh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ru(o,e??{}))return i;wr(i,"already-initialized")}return n.initialize({options:e})}function w2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E2(t,e,n){const r=rs(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=OS(e),{host:s,port:a}=T2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||S2()}function OS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T2(t){const e=OS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:B0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:B0(s)}}}function B0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function A2(t,e){return Ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e){return Au(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}async function I2(t,e){return Ii(t,"POST","/v1/accounts:sendOobCode",bi(t,e))}async function k2(t,e){return I2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function P2(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,n,"signInWithPassword",b2);case"emailLink":return R2(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",A2);case"emailLink":return P2(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t,e){return Au(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="http://localhost";class Yo extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Kg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Yo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ws(e,n)}buildRequest(){const e={requestUri:O2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N2(t){const e=dl(pl(t)).link,n=e?dl(pl(e)).deep_link_id:null,r=dl(pl(t)).deep_link_id;return(r?dl(pl(r)).link:null)||r||n||e||t}class ty{constructor(e){var n,r,i,o,s,a;const l=dl(pl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=C2((i=l.mode)!==null&&i!==void 0?i:null);be(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N2(e);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ty.parseLink(n);return be(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends CS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends bu{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends bu{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends bu{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){return Au(t,"POST","/v1/accounts:signUp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ri._fromIdTokenResponse(e,r,i),s=q0(r);return new Go({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=q0(r);return new Go({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends Hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kf(e,n,r,i)}}function NS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kf._fromErrorAndOperation(t,o,e,r):o})}async function D2(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const o=await ou(t,NS(r,i,e,t),n);be(o.idToken,r,"internal-error");const s=Jg(o.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),Go._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e,n=!1){if(Dr(t.app))return Promise.reject(ci(t));const r="signIn",i=await NS(t,r,e),o=await Go._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function M2(t,e){return xS(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e,n){var r;be(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U2(t,e,n){if(Dr(t.app))return Promise.reject(ci(t));const r=rs(t),s=await vm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DS(t),l}),a=await Go._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function F2(t,e,n){return Dr(t.app)?Promise.reject(ci(t)):M2(Pt(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DS(t),r})}async function j2(t,e){const n=Pt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&V2(n.auth,i,e);const{email:o}=await k2(n.auth,i);o!==t.email&&await t.reload()}function B2(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function q2(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function $2(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){const t=on();return Zg(t)||vh(t)}const H2=1e3,W2=10;class MS extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z2()&&s2(),this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);o2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const Y2=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VS.type="SESSION";const US=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await G2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=ny("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function Q2(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z2(){return FS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebaseLocalStorageDb",ex=1,Pf="firebaseLocalStorage",BS="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function tx(){const t=indexedDB.deleteDatabase(jS);return new Iu(t).toPromise()}function _m(){const t=indexedDB.open(jS,ex);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pf,{keyPath:BS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),await tx(),e(await _m()))})})}async function $0(t,e,n){const r=Eh(t,!0).put({[BS]:e,value:n});return new Iu(r).toPromise()}async function nx(t,e){const n=Eh(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function z0(t,e){const n=Eh(t,!0).delete(e);return new Iu(n).toPromise()}const rx=800,ix=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ix)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new K2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await $0(e,Rf,"1"),await z0(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Eh(i,!1).getAll();return new Iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const ox=qS;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){return e?ii(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ax(t){return xS(t.auth,new ry(t),t.bypassAuthState)}function lx(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),L2(n,new ry(t),t.bypassAuthState)}async function ux(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),D2(n,new ry(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ax;case"linkViaPopup":case"linkViaRedirect":return ux;case"reauthViaPopup":case"reauthViaRedirect":return lx;default:wr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Su(2e3,1e4);class Ds extends $S{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cx.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="pendingRedirect",jc=new Map;class hx extends $S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await dx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dx(t,e){const n=gx(e),r=mx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function px(t,e){jc.set(t._key(),e)}function mx(t){return ii(t._redirectPersistence)}function gx(t){return Fc(fx,t.config.apiKey,t.name)}async function yx(t,e,n=!1){if(Dr(t.app))return Promise.reject(ci(t));const r=rs(t),i=sx(r,e),s=await new hx(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=10*60*1e3;class _x{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vx&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e={}){return Ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sx=/^https?/;async function Ax(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ex(t);for(const n of e)try{if(bx(n))return}catch{}wr(t,"unauthorized-domain")}function bx(t){const e=gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Sx.test(n))return!1;if(Tx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Su(3e4,6e4);function W0(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kx(t){return new Promise((e,n)=>{var r,i,o;function s(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(Ur(t,"network-request-failed"))},timeout:Ix.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)s();else{const a=m2("iframefcb");return Fr()[a]=()=>{gapi.load?s():n(Ur(t,"network-request-failed"))},PS(`${p2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function Rx(t){return Bc=Bc||kx(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Su(5e3,15e3),Ox="__/auth/iframe",Cx="emulator/auth/iframe",Nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dx(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xg(e,Cx):`https://${t.config.authDomain}/${Ox}`,r={apiKey:e.apiKey,appName:t.name,v:ns},i=xx.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tu(r).slice(1)}`}async function Lx(t){const e=await Rx(t),n=Fr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Dx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nx,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ur(t,"network-request-failed"),a=Fr().setTimeout(()=>{o(s)},Px.get());function l(){Fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vx=500,Ux=600,Fx="_blank",jx="http://localhost";class Y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bx(t,e,n,r=Vx,i=Ux){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Mx),{width:r.toString(),height:i.toString(),top:o,left:s}),u=on().toLowerCase();n&&(a=TS(u)?Fx:n),ES(u)&&(e=e||jx,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(i2(u)&&a!=="_self")return qx(e||"",a),new Y0(null);const d=window.open(e||"",a,h);be(d,t,"popup-blocked");try{d.focus()}catch{}return new Y0(d)}function qx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="__/auth/handler",zx="emulator/auth/handler",Hx=encodeURIComponent("fac");async function G0(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(e instanceof CS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",PC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(o||{}))s[h]=d}if(e instanceof bu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${Hx}=${encodeURIComponent(l)}`:"";return`${Wx(t)}?${Tu(a).slice(1)}${u}`}function Wx({config:t}){return t.emulator?Xg(t,zx):`https://${t.authDomain}/${$x}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class Yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=US,this._completeRedirectFn=yx,this._overrideRedirectResult=px}async _openPopup(e,n,r,i){var o;vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await G0(e,n,r,gm(),i);return Bx(e,s,ny())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await G0(e,n,r,gm(),i);return Q2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lx(e),r=new _x(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jd,{type:Jd},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Jd];s!==void 0&&n(!!s),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ax(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kS()||Zg()||vh()}}const Gx=Yx;var K0="@firebase/auth",Q0="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xx(t){Wo(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(t)},u=new f2(r,i,o,l);return w2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new co("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new Kx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(K0,Q0,Qx(t)),Vr(K0,Q0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=5*60,Zx=oS("authIdTokenMaxAge")||Jx;let X0=null;const eD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zx)return;const i=n==null?void 0:n.token;X0!==i&&(X0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tD(t=Gg()){const e=yh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_2(t,{popupRedirectResolver:Gx,persistence:[ox,Y2,US]}),r=oS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=eD(o.toString());q2(n,s,()=>s(n.currentUser)),B2(n,a=>s(a))}}const i=nS("auth");return i&&E2(n,`http://${i}`),n}function nD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xx("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Th(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(d){s(d)}}function l(h){try{u(r.throw(h))}catch(d){s(d)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Sh(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ls.apply(this,arguments)},HS=function(t){return{loading:t==null,value:t}},rD=function(){return function(t,e){switch(e.type){case"error":return Ls(Ls({},t),{error:e.error,loading:!1,value:void 0});case"reset":return HS(e.defaultValue);case"value":return Ls(Ls({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},iD=function(t){var e=t?t():void 0,n=re.useReducer(rD(),HS(e)),r=n[0],i=n[1],o=re.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),s=re.useCallback(function(l){i({type:"error",error:l})},[]),a=re.useCallback(function(l){i({type:"value",value:l})},[]);return re.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}},[r.error,r.loading,o,s,a,r.value])},WS=function(t,e){var n=iD(function(){return t.currentUser}),r=n.error,i=n.loading,o=n.setError,s=n.setValue,a=n.value;return re.useEffect(function(){var l=$2(t,function(u){return Th(void 0,void 0,void 0,function(){var h;return Sh(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return h=d.sent(),o(h),[3,4];case 4:return s(u),[2]}})})},o);return function(){l()}},[t]),[a,i,r]},oD=function(t,e){var n=re.useState(),r=n[0],i=n[1],o=re.useState(),s=o[0],a=o[1],l=re.useState(!1),u=l[0],h=l[1],d=re.useCallback(function(f,p){return Th(void 0,void 0,void 0,function(){var _,v;return Sh(this,function(w){switch(w.label){case 0:h(!0),i(void 0),w.label=1;case 1:return w.trys.push([1,5,6,7]),[4,U2(t,f,p)];case 2:return _=w.sent(),e&&e.sendEmailVerification&&_.user?[4,j2(_.user,e.emailVerificationOptions)]:[3,4];case 3:w.sent(),w.label=4;case 4:return a(_),[2,_];case 5:return v=w.sent(),i(v),[3,7];case 6:return h(!1),[7];case 7:return[2]}})})},[t,e]);return[d,s,u,r]},sD=function(t){var e=re.useState(),n=e[0],r=e[1],i=re.useState(),o=i[0],s=i[1],a=re.useState(!1),l=a[0],u=a[1],h=re.useCallback(function(d,f){return Th(void 0,void 0,void 0,function(){var p,_;return Sh(this,function(v){switch(v.label){case 0:u(!0),r(void 0),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,F2(t,d,f)];case 2:return p=v.sent(),s(p),[2,p];case 3:return _=v.sent(),r(_),[3,5];case 4:return u(!1),[7];case 5:return[2]}})})},[t]);return[h,o,l,n]},aD=function(t){var e=re.useState(),n=e[0],r=e[1],i=re.useState(!1),o=i[0],s=i[1],a=re.useCallback(function(){return Th(void 0,void 0,void 0,function(){var l;return Sh(this,function(u){switch(u.label){case 0:s(!0),r(void 0),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,t.signOut()];case 2:return u.sent(),[2,!0];case 3:return l=u.sent(),r(l),[2,!1];case 4:return s(!1),[7];case 5:return[2]}})})},[t]);return[a,o,n]},lD="firebase",uD="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(lD,uD,"app");var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,YS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function O(){}O.prototype=T.prototype,S.D=T.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(b,I,R){for(var P=Array(arguments.length-2),L=2;L<arguments.length;L++)P[L-2]=arguments[L];return T.prototype[I].apply(b,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,O){O||(O=0);var b=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)b[I]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(I=0;16>I;++I)b[I]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=S.g[0],O=S.g[1],I=S.g[2];var R=S.g[3],P=T+(R^O&(I^R))+b[0]+3614090360&4294967295;T=O+(P<<7&4294967295|P>>>25),P=R+(I^T&(O^I))+b[1]+3905402710&4294967295,R=T+(P<<12&4294967295|P>>>20),P=I+(O^R&(T^O))+b[2]+606105819&4294967295,I=R+(P<<17&4294967295|P>>>15),P=O+(T^I&(R^T))+b[3]+3250441966&4294967295,O=I+(P<<22&4294967295|P>>>10),P=T+(R^O&(I^R))+b[4]+4118548399&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(I^T&(O^I))+b[5]+1200080426&4294967295,R=T+(P<<12&4294967295|P>>>20),P=I+(O^R&(T^O))+b[6]+2821735955&4294967295,I=R+(P<<17&4294967295|P>>>15),P=O+(T^I&(R^T))+b[7]+4249261313&4294967295,O=I+(P<<22&4294967295|P>>>10),P=T+(R^O&(I^R))+b[8]+1770035416&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(I^T&(O^I))+b[9]+2336552879&4294967295,R=T+(P<<12&4294967295|P>>>20),P=I+(O^R&(T^O))+b[10]+4294925233&4294967295,I=R+(P<<17&4294967295|P>>>15),P=O+(T^I&(R^T))+b[11]+2304563134&4294967295,O=I+(P<<22&4294967295|P>>>10),P=T+(R^O&(I^R))+b[12]+1804603682&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(I^T&(O^I))+b[13]+4254626195&4294967295,R=T+(P<<12&4294967295|P>>>20),P=I+(O^R&(T^O))+b[14]+2792965006&4294967295,I=R+(P<<17&4294967295|P>>>15),P=O+(T^I&(R^T))+b[15]+1236535329&4294967295,O=I+(P<<22&4294967295|P>>>10),P=T+(I^R&(O^I))+b[1]+4129170786&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^I&(T^O))+b[6]+3225465664&4294967295,R=T+(P<<9&4294967295|P>>>23),P=I+(T^O&(R^T))+b[11]+643717713&4294967295,I=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(I^R))+b[0]+3921069994&4294967295,O=I+(P<<20&4294967295|P>>>12),P=T+(I^R&(O^I))+b[5]+3593408605&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^I&(T^O))+b[10]+38016083&4294967295,R=T+(P<<9&4294967295|P>>>23),P=I+(T^O&(R^T))+b[15]+3634488961&4294967295,I=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(I^R))+b[4]+3889429448&4294967295,O=I+(P<<20&4294967295|P>>>12),P=T+(I^R&(O^I))+b[9]+568446438&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^I&(T^O))+b[14]+3275163606&4294967295,R=T+(P<<9&4294967295|P>>>23),P=I+(T^O&(R^T))+b[3]+4107603335&4294967295,I=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(I^R))+b[8]+1163531501&4294967295,O=I+(P<<20&4294967295|P>>>12),P=T+(I^R&(O^I))+b[13]+2850285829&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^I&(T^O))+b[2]+4243563512&4294967295,R=T+(P<<9&4294967295|P>>>23),P=I+(T^O&(R^T))+b[7]+1735328473&4294967295,I=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(I^R))+b[12]+2368359562&4294967295,O=I+(P<<20&4294967295|P>>>12),P=T+(O^I^R)+b[5]+4294588738&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^I)+b[8]+2272392833&4294967295,R=T+(P<<11&4294967295|P>>>21),P=I+(R^T^O)+b[11]+1839030562&4294967295,I=R+(P<<16&4294967295|P>>>16),P=O+(I^R^T)+b[14]+4259657740&4294967295,O=I+(P<<23&4294967295|P>>>9),P=T+(O^I^R)+b[1]+2763975236&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^I)+b[4]+1272893353&4294967295,R=T+(P<<11&4294967295|P>>>21),P=I+(R^T^O)+b[7]+4139469664&4294967295,I=R+(P<<16&4294967295|P>>>16),P=O+(I^R^T)+b[10]+3200236656&4294967295,O=I+(P<<23&4294967295|P>>>9),P=T+(O^I^R)+b[13]+681279174&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^I)+b[0]+3936430074&4294967295,R=T+(P<<11&4294967295|P>>>21),P=I+(R^T^O)+b[3]+3572445317&4294967295,I=R+(P<<16&4294967295|P>>>16),P=O+(I^R^T)+b[6]+76029189&4294967295,O=I+(P<<23&4294967295|P>>>9),P=T+(O^I^R)+b[9]+3654602809&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^I)+b[12]+3873151461&4294967295,R=T+(P<<11&4294967295|P>>>21),P=I+(R^T^O)+b[15]+530742520&4294967295,I=R+(P<<16&4294967295|P>>>16),P=O+(I^R^T)+b[2]+3299628645&4294967295,O=I+(P<<23&4294967295|P>>>9),P=T+(I^(O|~R))+b[0]+4096336452&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~I))+b[7]+1126891415&4294967295,R=T+(P<<10&4294967295|P>>>22),P=I+(T^(R|~O))+b[14]+2878612391&4294967295,I=R+(P<<15&4294967295|P>>>17),P=O+(R^(I|~T))+b[5]+4237533241&4294967295,O=I+(P<<21&4294967295|P>>>11),P=T+(I^(O|~R))+b[12]+1700485571&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~I))+b[3]+2399980690&4294967295,R=T+(P<<10&4294967295|P>>>22),P=I+(T^(R|~O))+b[10]+4293915773&4294967295,I=R+(P<<15&4294967295|P>>>17),P=O+(R^(I|~T))+b[1]+2240044497&4294967295,O=I+(P<<21&4294967295|P>>>11),P=T+(I^(O|~R))+b[8]+1873313359&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~I))+b[15]+4264355552&4294967295,R=T+(P<<10&4294967295|P>>>22),P=I+(T^(R|~O))+b[6]+2734768916&4294967295,I=R+(P<<15&4294967295|P>>>17),P=O+(R^(I|~T))+b[13]+1309151649&4294967295,O=I+(P<<21&4294967295|P>>>11),P=T+(I^(O|~R))+b[4]+4149444226&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~I))+b[11]+3174756917&4294967295,R=T+(P<<10&4294967295|P>>>22),P=I+(T^(R|~O))+b[2]+718787259&4294967295,I=R+(P<<15&4294967295|P>>>17),P=O+(R^(I|~T))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var O=T-this.blockSize,b=this.B,I=this.h,R=0;R<T;){if(I==0)for(;R<=O;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(b[I++]=S.charCodeAt(R++),I==this.blockSize){i(this,b),I=0;break}}else for(;R<T;)if(b[I++]=S[R++],I==this.blockSize){i(this,b),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var O=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=O&255,O/=256;for(this.u(S),S=Array(16),T=O=0;4>T;++T)for(var b=0;32>b;b+=8)S[O++]=this.g[T]>>>b&255;return S};function o(S,T){var O=a;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=T(S)}function s(S,T){this.h=T;for(var O=[],b=!0,I=S.length-1;0<=I;I--){var R=S[I]|0;b&&R==T||(O[I]=R,b=!1)}this.g=O}var a={};function l(S){return-128<=S&&128>S?o(S,function(T){return new s([T|0],0>T?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return w(u(-S));for(var T=[],O=1,b=0;S>=O;b++)T[b]=S/O|0,O*=4294967296;return new s(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return w(h(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(T,8)),b=d,I=0;I<S.length;I+=8){var R=Math.min(8,S.length-I),P=parseInt(S.substring(I,I+R),T);8>R?(R=u(Math.pow(T,R)),b=b.j(R).add(u(P))):(b=b.j(O),b=b.add(u(P)))}return b}var d=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-w(this).m();for(var S=0,T=1,O=0;O<this.g.length;O++){var b=this.i(O);S+=(0<=b?b:4294967296+b)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(v(this))return"-"+w(this).toString(S);for(var T=u(Math.pow(S,6)),O=this,b="";;){var I=m(O,T).g;O=y(O,I.j(T));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=I,_(O))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=y(this,S),v(S)?-1:_(S)?0:1};function w(S){for(var T=S.g.length,O=[],b=0;b<T;b++)O[b]=~S.g[b];return new s(O,~S.h).add(f)}t.abs=function(){return v(this)?w(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],b=0,I=0;I<=T;I++){var R=b+(this.i(I)&65535)+(S.i(I)&65535),P=(R>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);b=P>>>16,R&=65535,P&=65535,O[I]=P<<16|R}return new s(O,O[O.length-1]&-2147483648?-1:0)};function y(S,T){return S.add(w(T))}t.j=function(S){if(_(this)||_(S))return d;if(v(this))return v(S)?w(this).j(w(S)):w(w(this).j(S));if(v(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,O=[],b=0;b<2*T;b++)O[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<S.g.length;I++){var R=this.i(b)>>>16,P=this.i(b)&65535,L=S.i(I)>>>16,j=S.i(I)&65535;O[2*b+2*I]+=P*j,g(O,2*b+2*I),O[2*b+2*I+1]+=R*j,g(O,2*b+2*I+1),O[2*b+2*I+1]+=P*L,g(O,2*b+2*I+1),O[2*b+2*I+2]+=R*L,g(O,2*b+2*I+2)}for(b=0;b<T;b++)O[b]=O[2*b+1]<<16|O[2*b];for(b=T;b<2*T;b++)O[b]=0;return new s(O,0)};function g(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function E(S,T){this.g=S,this.h=T}function m(S,T){if(_(T))throw Error("division by zero");if(_(S))return new E(d,d);if(v(S))return T=m(w(S),T),new E(w(T.g),w(T.h));if(v(T))return T=m(S,w(T)),new E(w(T.g),T.h);if(30<S.g.length){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var O=f,b=T;0>=b.l(S);)O=k(O),b=k(b);var I=N(O,1),R=N(b,1);for(b=N(b,2),O=N(O,2);!_(b);){var P=R.add(b);0>=P.l(S)&&(I=I.add(O),R=P),b=N(b,1),O=N(O,1)}return T=y(S,I.j(T)),new E(I,T)}for(I=d;0<=S.l(T);){for(O=Math.max(1,Math.floor(S.m()/T.m())),b=Math.ceil(Math.log(O)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=u(O),P=R.j(T);v(P)||0<P.l(S);)O-=b,R=u(O),P=R.j(T);_(R)&&(R=f),I=I.add(R),S=y(S,P)}return new E(I,S)}t.A=function(S){return m(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],b=0;b<T;b++)O[b]=this.i(b)&S.i(b);return new s(O,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],b=0;b<T;b++)O[b]=this.i(b)|S.i(b);return new s(O,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],b=0;b<T;b++)O[b]=this.i(b)^S.i(b);return new s(O,this.h^S.h)};function k(S){for(var T=S.g.length+1,O=[],b=0;b<T;b++)O[b]=S.i(b)<<1|S.i(b-1)>>>31;return new s(O,S.h)}function N(S,T){var O=T>>5;T%=32;for(var b=S.g.length-O,I=[],R=0;R<b;R++)I[R]=0<T?S.i(R+O)>>>T|S.i(R+O+1)<<32-T:S.i(R+O);return new s(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Mo=s}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,KS,ml,QS,qc,wm,XS,JS,ZS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,A,C){return c==Array.prototype||c==Object.prototype||(c[A]=C.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var A=0;A<c.length;++A){var C=c[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(c,A){if(A)e:{var C=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var G=c[D];if(!(G in C))break e;C=C[G]}c=c[c.length-1],D=C[c],A=A(D),A!=D&&A!=null&&e(C,c,{configurable:!0,writable:!0,value:A})}}function o(c,A){c instanceof String&&(c+="");var C=0,D=!1,G={next:function(){if(!D&&C<c.length){var J=C++;return{value:A(J,c[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(c){return c||function(){return o(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var A=typeof c;return A=A!="object"?A:c?Array.isArray(c)?"array":A:"null",A=="array"||A=="object"&&typeof c.length=="number"}function u(c){var A=typeof c;return A=="object"&&c!=null||A=="function"}function h(c,A,C){return c.call.apply(c.bind,arguments)}function d(c,A,C){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),c.apply(A,G)}}return function(){return c.apply(A,arguments)}}function f(c,A,C){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function p(c,A){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function _(c,A){function C(){}C.prototype=A.prototype,c.aa=A.prototype,c.prototype=new C,c.prototype.constructor=c,c.Qb=function(D,G,J){for(var he=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)he[ot-2]=arguments[ot];return A.prototype[G].apply(D,he)}}function v(c){const A=c.length;if(0<A){const C=Array(A);for(let D=0;D<A;D++)C[D]=c[D];return C}return[]}function w(c,A){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const G=c.length||0,J=D.length||0;c.length=G+J;for(let he=0;he<J;he++)c[G+he]=D[he]}else c.push(D)}}class y{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function g(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function m(c){return m[" "](c),c}m[" "]=function(){};var k=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(c,A,C){for(const D in c)A.call(C,c[D],D,c)}function S(c,A){for(const C in c)A.call(void 0,c[C],C,c)}function T(c){const A={};for(const C in c)A[C]=c[C];return A}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,A){let C,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(C in D)c[C]=D[C];for(let J=0;J<O.length;J++)C=O[J],Object.prototype.hasOwnProperty.call(D,C)&&(c[C]=D[C])}}function I(c){var A=1;c=c.split(":");const C=[];for(;0<A&&c.length;)C.push(c.shift()),A--;return c.length&&C.push(c.join(":")),C}function R(c){a.setTimeout(()=>{throw c},0)}function P(){var c=B;let A=null;return c.g&&(A=c.g,c.g=c.g.next,c.g||(c.h=null),A.next=null),A}class L{constructor(){this.h=this.g=null}add(A,C){const D=j.get();D.set(A,C),this.h?this.h.next=D:this.g=D,this.h=D}}var j=new y(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Y=!1,B=new L,U=()=>{const c=a.Promise.resolve(void 0);W=()=>{c.then(x)}};var x=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(C){R(C)}var A=j;A.j(c),100>A.h&&(A.h++,c.next=A.g,A.g=c)}Y=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(c,A){this.type=c,this.g=this.target=A,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,A=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const C=()=>{};a.addEventListener("test",C,A),a.removeEventListener("test",C,A)}catch{}return c}();function z(c,A){if(F.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var C=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=A,A=c.relatedTarget){if(k){e:{try{m(A.nodeName);var G=!0;break e}catch{}G=!1}G||(A=null)}}else C=="mouseover"?A=c.fromElement:C=="mouseout"&&(A=c.toElement);this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:V[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&z.aa.h.call(this)}}_(z,F);var V={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),K=0;function Q(c,A,C,D,G){this.listener=c,this.proxy=null,this.src=A,this.type=C,this.capture=!!D,this.ha=G,this.key=++K,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,A,C,D,G){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var he=Re(c,A,D,G);return-1<he?(A=c[he],C||(A.fa=!1)):(A=new Q(A,this.src,J,!!D,G),A.fa=C,c.push(A)),A};function Ie(c,A){var C=A.type;if(C in c.g){var D=c.g[C],G=Array.prototype.indexOf.call(D,A,void 0),J;(J=0<=G)&&Array.prototype.splice.call(D,G,1),J&&(ie(A),c.g[C].length==0&&(delete c.g[C],c.h--))}}function Re(c,A,C,D){for(var G=0;G<c.length;++G){var J=c[G];if(!J.da&&J.listener==A&&J.capture==!!C&&J.ha==D)return G}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),je={};function Lt(c,A,C,D,G){if(D&&D.once)return ne(c,A,C,D,G);if(Array.isArray(A)){for(var J=0;J<A.length;J++)Lt(c,A[J],C,D,G);return null}return C=Nt(C),c&&c[q]?c.K(A,C,u(D)?!!D.capture:!!D,G):st(c,A,C,!1,D,G)}function st(c,A,C,D,G,J){if(!A)throw Error("Invalid event type");var he=u(G)?!!G.capture:!!G,ot=Ne(c);if(ot||(c[Ue]=ot=new pe(c)),C=ot.add(A,C,D,he,J),C.proxy)return C;if(D=te(),C.proxy=D,D.src=c,D.listener=C,c.addEventListener)$||(G=he),G===void 0&&(G=!1),c.addEventListener(A.toString(),D,G);else if(c.attachEvent)c.attachEvent(se(A.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function te(){function c(C){return A.call(c.src,c.listener,C)}const A=Le;return c}function ne(c,A,C,D,G){if(Array.isArray(A)){for(var J=0;J<A.length;J++)ne(c,A[J],C,D,G);return null}return C=Nt(C),c&&c[q]?c.L(A,C,u(D)?!!D.capture:!!D,G):st(c,A,C,!0,D,G)}function fe(c,A,C,D,G){if(Array.isArray(A))for(var J=0;J<A.length;J++)fe(c,A[J],C,D,G);else D=u(D)?!!D.capture:!!D,C=Nt(C),c&&c[q]?(c=c.i,A=String(A).toString(),A in c.g&&(J=c.g[A],C=Re(J,C,D,G),-1<C&&(ie(J[C]),Array.prototype.splice.call(J,C,1),J.length==0&&(delete c.g[A],c.h--)))):c&&(c=Ne(c))&&(A=c.g[A.toString()],c=-1,A&&(c=Re(A,C,D,G)),(C=-1<c?A[c]:null)&&de(C))}function de(c){if(typeof c!="number"&&c&&!c.da){var A=c.src;if(A&&A[q])Ie(A.i,c);else{var C=c.type,D=c.proxy;A.removeEventListener?A.removeEventListener(C,D,c.capture):A.detachEvent?A.detachEvent(se(C),D):A.addListener&&A.removeListener&&A.removeListener(D),(C=Ne(A))?(Ie(C,c),C.h==0&&(C.src=null,A[Ue]=null)):ie(c)}}}function se(c){return c in je?je[c]:je[c]="on"+c}function Le(c,A){if(c.da)c=!0;else{A=new z(A,this);var C=c.listener,D=c.ha||c.src;c.fa&&de(c),c=C.call(D,A)}return c}function Ne(c){return c=c[Ue],c instanceof pe?c:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(c){return typeof c=="function"?c:(c[xe]||(c[xe]=function(A){return c.handleEvent(A)}),c[xe])}function nt(){M.call(this),this.i=new pe(this),this.M=this,this.F=null}_(nt,M),nt.prototype[q]=!0,nt.prototype.removeEventListener=function(c,A,C,D){fe(this,c,A,C,D)};function Me(c,A){var C,D=c.F;if(D)for(C=[];D;D=D.F)C.push(D);if(c=c.M,D=A.type||A,typeof A=="string")A=new F(A,c);else if(A instanceof F)A.target=A.target||c;else{var G=A;A=new F(D,c),b(A,G)}if(G=!0,C)for(var J=C.length-1;0<=J;J--){var he=A.g=C[J];G=Oi(he,D,!0,A)&&G}if(he=A.g=c,G=Oi(he,D,!0,A)&&G,G=Oi(he,D,!1,A)&&G,C)for(J=0;J<C.length;J++)he=A.g=C[J],G=Oi(he,D,!1,A)&&G}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,A;for(A in c.g){for(var C=c.g[A],D=0;D<C.length;D++)ie(C[D]);delete c.g[A],c.h--}}this.F=null},nt.prototype.K=function(c,A,C,D){return this.i.add(String(c),A,!1,C,D)},nt.prototype.L=function(c,A,C,D){return this.i.add(String(c),A,!0,C,D)};function Oi(c,A,C,D){if(A=c.i.g[String(A)],!A)return!0;A=A.concat();for(var G=!0,J=0;J<A.length;++J){var he=A[J];if(he&&!he.da&&he.capture==C){var ot=he.listener,Xt=he.ha||he.src;he.fa&&Ie(c.i,he),G=ot.call(Xt,D)!==!1&&G}}return G&&!D.defaultPrevented}function at(c,A,C){if(typeof c=="function")C&&(c=f(c,C));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(c,A||0)}function Dn(c){c.g=at(()=>{c.g=null,c.i&&(c.i=!1,Dn(c))},c.l);const A=c.h;c.h=null,c.m.apply(null,A)}class Fu extends M{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(c){M.call(this),this.h=c,this.g={}}_(_o,M);var X=[];function ee(c){N(c.g,function(A,C){this.g.hasOwnProperty(C)&&de(A)},c),c.g={}}_o.prototype.N=function(){_o.aa.N.call(this),ee(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,_e=a.JSON.parse,Ce=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ke(){}ke.prototype.h=null;function Pe(c){return c.h||(c.h=c.i())}function Ae(){}var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){F.call(this,"d")}_(et,F);function Mt(){F.call(this,"c")}_(Mt,F);var $e={},yt=null;function Et(){return yt=yt||new nt}$e.La="serverreachability";function br(c){F.call(this,$e.La,c)}_(br,F);function Ln(c){const A=Et();Me(A,new br(A))}$e.STAT_EVENT="statevent";function Ci(c,A){F.call(this,$e.STAT_EVENT,c),this.stat=A}_(Ci,F);function qt(c){const A=Et();Me(A,new Ci(A,c))}$e.Ma="timingevent";function Qn(c,A){F.call(this,$e.Ma,c),this.size=A}_(Qn,F);function _n(c,A){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},A)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Da(c,A,C,D,G,J){c.info(function(){if(c.g)if(J)for(var he="",ot=J.split("&"),Xt=0;Xt<ot.length;Xt++){var Qe=ot[Xt].split("=");if(1<Qe.length){var sn=Qe[0];Qe=Qe[1];var an=sn.split("_");he=2<=an.length&&an[1]=="type"?he+(sn+"="+Qe+"&"):he+(sn+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+A+`
`+C+`
`+he})}function La(c,A,C,D,G,J,he){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+A+`
`+C+`
`+J+" "+he})}function kr(c,A,C,D){c.info(function(){return"XMLHTTP TEXT ("+A+"): "+Mn(c,C)+(D?" "+D:"")})}function tt(c,A){c.info(function(){return"TIMEOUT: "+A})}Ir.prototype.info=function(){};function Mn(c,A){if(!c.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(c=0;c<C.length;c++)if(Array.isArray(C[c])){var D=C[c];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return ae(C)}catch{return A}}var Vn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},us={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tt;function Rr(){}_(Rr,ke),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},Tt=new Rr;function ar(c,A,C,D){this.j=c,this.i=A,this.l=C,this.R=D||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}var pv={},ad={};function ld(c,A,C){c.L=1,c.v=zu(Gr(A)),c.m=C,c.P=!0,mv(c,null)}function mv(c,A){c.F=Date.now(),Bu(c),c.A=Gr(c.v);var C=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),Pv(C.i,"t",D),c.C=0,C=c.j.J,c.h=new ju,c.g=Yv(c.j,C?A:null,!c.m),0<c.O&&(c.M=new Fu(f(c.Y,c,c.g),c.O)),A=c.U,C=c.g,D=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(X[0]=G.toString()),G=X);for(var J=0;J<G.length;J++){var he=Lt(C,G[J],D||A.handleEvent,!1,A.h||A);if(!he)break;A.g[he.key]=he}A=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,A)):(c.u="GET",c.g.ea(c.A,c.u,null,A)),Ln(),Da(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;const A=this.M;A&&Kr(c)==3?A.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{const an=Kr(this.g);var A=this.g.Ba();const hs=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Mv(this.g)))){this.J||an!=4||A==7||(A==8||0>=hs?Ln(3):Ln(2)),ud(this);var C=this.g.Z();this.X=C;t:if(gv(this)){var D=Mv(this.g);c="";var G=D.length,J=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Ma(this);var he="";break t}this.h.i=new a.TextDecoder}for(A=0;A<G;A++)this.h.h=!0,c+=this.h.i.decode(D[A],{stream:!(J&&A==G-1)});D.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=C==200,La(this.i,this.u,this.A,this.l,this.R,an,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Xt=this.g;if((ot=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ot)){var Qe=ot;break t}}Qe=null}if(C=Qe)kr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,C);else{this.o=!1,this.s=3,qt(12),wo(this),Ma(this);break e}}if(this.P){C=!0;let lr;for(;!this.J&&this.C<he.length;)if(lr=XI(this,he),lr==ad){an==4&&(this.s=4,qt(14),C=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==pv){this.s=4,qt(15),kr(this.i,this.l,he,"[Invalid Chunk]"),C=!1;break}else kr(this.i,this.l,lr,null),cd(this,lr);if(gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||he.length!=0||this.h.h||(this.s=1,qt(16),C=!1),this.o=this.o&&C,!C)kr(this.i,this.l,he,"[Invalid Chunked Response]"),wo(this),Ma(this);else if(0<he.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),gd(sn),sn.M=!0,qt(11))}}else kr(this.i,this.l,he,null),cd(this,he);an==4&&wo(this),this.o&&!this.J&&(an==4?$v(this.j,this):(this.o=!1,Bu(this)))}else pk(this.g),C==400&&0<he.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),wo(this),Ma(this)}}}catch{}finally{}};function gv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function XI(c,A){var C=c.C,D=A.indexOf(`
`,C);return D==-1?ad:(C=Number(A.substring(C,D)),isNaN(C)?pv:(D+=1,D+C>A.length?ad:(A=A.slice(D,D+C),c.C=D+C,A)))}ar.prototype.cancel=function(){this.J=!0,wo(this)};function Bu(c){c.S=Date.now()+c.I,yv(c,c.I)}function yv(c,A){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_n(f(c.ba,c),A)}function ud(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tt(this.i,this.A),this.L!=2&&(Ln(),qt(17)),wo(this),this.s=2,Ma(this)):yv(this,this.S-c)};function Ma(c){c.j.G==0||c.J||$v(c.j,c)}function wo(c){ud(c);var A=c.M;A&&typeof A.ma=="function"&&A.ma(),c.M=null,ee(c.U),c.g&&(A=c.g,c.g=null,A.abort(),A.ma())}function cd(c,A){try{var C=c.j;if(C.G!=0&&(C.g==c||fd(C.h,c))){if(!c.K&&fd(C.h,c)&&C.G==3){try{var D=C.Da.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<c.F)Ku(C),Yu(C);else break e;md(C),qt(18)}}else C.za=G[1],0<C.za-C.T&&37500>G[2]&&C.F&&C.v==0&&!C.C&&(C.C=_n(f(C.Za,C),6e3));if(1>=wv(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else To(C,11)}else if((c.K||C.g==c)&&Ku(C),!g(A))for(G=C.Da.g.parse(A),A=0;A<G.length;A++){let Qe=G[A];if(C.T=Qe[0],Qe=Qe[1],C.G==2)if(Qe[0]=="c"){C.K=Qe[1],C.ia=Qe[2];const sn=Qe[3];sn!=null&&(C.la=sn,C.j.info("VER="+C.la));const an=Qe[4];an!=null&&(C.Aa=an,C.j.info("SVER="+C.Aa));const hs=Qe[5];hs!=null&&typeof hs=="number"&&0<hs&&(D=1.5*hs,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const lr=c.g;if(lr){const Xu=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var J=D.h;J.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(hd(J,J.h),J.h=null))}if(D.D){const yd=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;yd&&(D.ya=yd,ct(D.I,D.D,yd))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-c.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var he=c;if(D.qa=Wv(D,D.J?D.ia:null,D.W),he.K){Ev(D.h,he);var ot=he,Xt=D.L;Xt&&(ot.I=Xt),ot.B&&(ud(ot),Bu(ot)),D.g=he}else Bv(D);0<C.i.length&&Gu(C)}else Qe[0]!="stop"&&Qe[0]!="close"||To(C,7);else C.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?To(C,7):pd(C):Qe[0]!="noop"&&C.l&&C.l.ta(Qe),C.v=0)}}Ln(4)}catch{}}var JI=class{constructor(c,A){this.g=c,this.map=A}};function vv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wv(c){return c.h?1:c.g?c.g.size:0}function fd(c,A){return c.h?c.h==A:c.g?c.g.has(A):!1}function hd(c,A){c.g?c.g.add(A):c.h=A}function Ev(c,A){c.h&&c.h==A?c.h=null:c.g&&c.g.has(A)&&c.g.delete(A)}vv.prototype.cancel=function(){if(this.i=Tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let A=c.i;for(const C of c.g.values())A=A.concat(C.D);return A}return v(c.i)}function ZI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var A=[],C=c.length,D=0;D<C;D++)A.push(c[D]);return A}A=[],C=0;for(D in c)A[C++]=c[D];return A}function ek(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var A=[];c=c.length;for(var C=0;C<c;C++)A.push(C);return A}A=[],C=0;for(const D in c)A[C++]=D;return A}}}function Sv(c,A){if(c.forEach&&typeof c.forEach=="function")c.forEach(A,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,A,void 0);else for(var C=ek(c),D=ZI(c),G=D.length,J=0;J<G;J++)A.call(void 0,D[J],C&&C[J],c)}var Av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tk(c,A){if(c){c=c.split("&");for(var C=0;C<c.length;C++){var D=c[C].indexOf("="),G=null;if(0<=D){var J=c[C].substring(0,D);G=c[C].substring(D+1)}else J=c[C];A(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Eo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Eo){this.h=c.h,qu(this,c.j),this.o=c.o,this.g=c.g,$u(this,c.s),this.l=c.l;var A=c.i,C=new Fa;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),bv(this,C),this.m=c.m}else c&&(A=String(c).match(Av))?(this.h=!1,qu(this,A[1]||"",!0),this.o=Va(A[2]||""),this.g=Va(A[3]||"",!0),$u(this,A[4]),this.l=Va(A[5]||"",!0),bv(this,A[6]||"",!0),this.m=Va(A[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}Eo.prototype.toString=function(){var c=[],A=this.j;A&&c.push(Ua(A,Iv,!0),":");var C=this.g;return(C||A=="file")&&(c.push("//"),(A=this.o)&&c.push(Ua(A,Iv,!0),"@"),c.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&c.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&c.push("/"),c.push(Ua(C,C.charAt(0)=="/"?ik:rk,!0))),(C=this.i.toString())&&c.push("?",C),(C=this.m)&&c.push("#",Ua(C,sk)),c.join("")};function Gr(c){return new Eo(c)}function qu(c,A,C){c.j=C?Va(A,!0):A,c.j&&(c.j=c.j.replace(/:$/,""))}function $u(c,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);c.s=A}else c.s=null}function bv(c,A,C){A instanceof Fa?(c.i=A,ak(c.i,c.h)):(C||(A=Ua(A,ok)),c.i=new Fa(A,c.h))}function ct(c,A,C){c.i.set(A,C)}function zu(c){return ct(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Va(c,A){return c?A?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ua(c,A,C){return typeof c=="string"?(c=encodeURI(c).replace(A,nk),C&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Iv=/[#\/\?@]/g,rk=/[#\?:]/g,ik=/[#\?]/g,ok=/[#\?@]/g,sk=/#/g;function Fa(c,A){this.h=this.g=null,this.i=c||null,this.j=!!A}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&tk(c.i,function(A,C){c.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=Fa.prototype,t.add=function(c,A){Ni(this),this.i=null,c=cs(this,c);var C=this.g.get(c);return C||this.g.set(c,C=[]),C.push(A),this.h+=1,this};function kv(c,A){Ni(c),A=cs(c,A),c.g.has(A)&&(c.i=null,c.h-=c.g.get(A).length,c.g.delete(A))}function Rv(c,A){return Ni(c),A=cs(c,A),c.g.has(A)}t.forEach=function(c,A){Ni(this),this.g.forEach(function(C,D){C.forEach(function(G){c.call(A,G,D,this)},this)},this)},t.na=function(){Ni(this);const c=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let D=0;D<A.length;D++){const G=c[D];for(let J=0;J<G.length;J++)C.push(A[D])}return C},t.V=function(c){Ni(this);let A=[];if(typeof c=="string")Rv(this,c)&&(A=A.concat(this.g.get(cs(this,c))));else{c=Array.from(this.g.values());for(let C=0;C<c.length;C++)A=A.concat(c[C])}return A},t.set=function(c,A){return Ni(this),this.i=null,c=cs(this,c),Rv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[A]),this.h+=1,this},t.get=function(c,A){return c?(c=this.V(c),0<c.length?String(c[0]):A):A};function Pv(c,A,C){kv(c,A),0<C.length&&(c.i=null,c.g.set(cs(c,A),v(C)),c.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var D=A[C];const J=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var G=J;he[D]!==""&&(G+="="+encodeURIComponent(String(he[D]))),c.push(G)}}return this.i=c.join("&")};function cs(c,A){return A=String(A),c.j&&(A=A.toLowerCase()),A}function ak(c,A){A&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(C,D){var G=D.toLowerCase();D!=G&&(kv(this,D),Pv(this,G,C))},c)),c.j=A}function lk(c,A){const C=new Ir;if(a.Image){const D=new Image;D.onload=p(xi,C,"TestLoadImage: loaded",!0,A,D),D.onerror=p(xi,C,"TestLoadImage: error",!1,A,D),D.onabort=p(xi,C,"TestLoadImage: abort",!1,A,D),D.ontimeout=p(xi,C,"TestLoadImage: timeout",!1,A,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else A(!1)}function uk(c,A){const C=new Ir,D=new AbortController,G=setTimeout(()=>{D.abort(),xi(C,"TestPingServer: timeout",!1,A)},1e4);fetch(c,{signal:D.signal}).then(J=>{clearTimeout(G),J.ok?xi(C,"TestPingServer: ok",!0,A):xi(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(G),xi(C,"TestPingServer: error",!1,A)})}function xi(c,A,C,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(C)}catch{}}function ck(){this.g=new Ce}function fk(c,A,C){const D=C||"";try{Sv(c,function(G,J){let he=G;u(G)&&(he=ae(G)),A.push(D+J+"="+encodeURIComponent(he))})}catch(G){throw A.push(D+"type="+encodeURIComponent("_badmap")),G}}function ja(c){this.l=c.Ub||null,this.j=c.eb||!1}_(ja,ke),ja.prototype.g=function(){return new Hu(this.l,this.j)},ja.prototype.i=function(c){return function(){return c}}({});function Hu(c,A){nt.call(this),this.D=c,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Hu,nt),t=Hu.prototype,t.open=function(c,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=A,this.readyState=1,qa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(A.body=c),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ov(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var A=c.value?c.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!c.done}))&&(this.response=this.responseText+=A)}c.done?Ba(this):qa(this),this.readyState==3&&Ov(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ba(this))},t.Qa=function(c){this.g&&(this.response=c,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qa(c)}t.setRequestHeader=function(c,A){this.u.append(c,A)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,c.push(C[0]+": "+C[1]),C=A.next();return c.join(`\r
`)};function qa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cv(c){let A="";return N(c,function(C,D){A+=D,A+=":",A+=C,A+=`\r
`}),A}function dd(c,A,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=Cv(C),typeof c=="string"?C!=null&&encodeURIComponent(String(C)):ct(c,A,C))}function kt(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(kt,nt);var hk=/^https?$/i,dk=["POST","PUT"];t=kt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,A,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);A=A?A.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tt.g(),this.v=this.o?Pe(this.o):Pe(Tt),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(c),!0),this.B=!1}catch(J){Nv(this,J);return}if(c=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)C.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())C.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),G=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dk,A,void 0))||D||G||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of C)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lv(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Nv(this,J)}};function Nv(c,A){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=A,c.m=5,xv(c),Wu(c)}function xv(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Me(this,"complete"),Me(this,"abort"),Wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wu(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dv(this):this.bb())},t.bb=function(){Dv(this)};function Dv(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kr(c)!=4||c.Z()!=2)){if(c.u&&Kr(c)==4)at(c.Ea,0,c);else if(Me(c,"readystatechange"),Kr(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var D;if(D=he===0){var G=String(c.D).match(Av)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!hk.test(G?G.toLowerCase():"")}C=D}if(C)Me(c,"complete"),Me(c,"success");else{c.m=6;try{var J=2<Kr(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",xv(c)}}finally{Wu(c)}}}}function Wu(c,A){if(c.g){Lv(c);const C=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,A||Me(c,"ready");try{C.onreadystatechange=D}catch{}}}function Lv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Kr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var A=this.g.responseText;return c&&A.indexOf(c)==0&&(A=A.substring(c.length)),_e(A)}};function Mv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pk(c){const A={};c=(c.g&&2<=Kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(g(c[D]))continue;var C=I(c[D]);const G=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=A[G]||[];A[G]=J,J.push(C)}S(A,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[c]||A}function Vv(c){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,c),this.cb=$a("retryDelaySeedMs",1e4,c),this.Wa=$a("forwardChannelMaxRetries",2,c),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(c&&c.concurrentRequestLimit),this.Da=new ck,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vv.prototype,t.la=8,t.G=1,t.connect=function(c,A,C,D){qt(0),this.W=c,this.H=A||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Wv(this,null,this.W),Gu(this)};function pd(c){if(Uv(c),c.G==3){var A=c.U++,C=Gr(c.I);if(ct(C,"SID",c.K),ct(C,"RID",A),ct(C,"TYPE","terminate"),za(c,C),A=new ar(c,c.j,A),A.L=2,A.v=zu(Gr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=A.v,C=!0),C||(A.g=Yv(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Bu(A)}Hv(c)}function Yu(c){c.g&&(gd(c),c.g.cancel(),c.g=null)}function Uv(c){Yu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!_v(c.h)&&!c.s){c.s=!0;var A=c.Ga;W||U(),Y||(W(),Y=!0),B.add(A,c),c.B=0}}function mk(c,A){return wv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=A.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_n(f(c.Ga,c,A),zv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new ar(this,this.j,c);let J=this.o;if(this.S&&(J?(J=T(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=jv(this,G,A),C=Gr(this.I),ct(C,"RID",c),ct(C,"CVER",22),this.D&&ct(C,"X-HTTP-Session-Id",this.D),za(this,C),J&&(this.O?A="headers="+encodeURIComponent(String(Cv(J)))+"&"+A:this.m&&dd(C,this.m,J)),hd(this.h,G),this.Ua&&ct(C,"TYPE","init"),this.P?(ct(C,"$req",A),ct(C,"SID","null"),G.T=!0,ld(G,C,null)):ld(G,C,A),this.G=2}}else this.G==3&&(c?Fv(this,c):this.i.length==0||_v(this.h)||Fv(this))};function Fv(c,A){var C;A?C=A.l:C=c.U++;const D=Gr(c.I);ct(D,"SID",c.K),ct(D,"RID",C),ct(D,"AID",c.T),za(c,D),c.m&&c.o&&dd(D,c.m,c.o),C=new ar(c,c.j,C,c.B+1),c.m===null&&(C.H=c.o),A&&(c.i=A.D.concat(c.i)),A=jv(c,C,1e3),C.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hd(c.h,C),ld(C,D,A)}function za(c,A){c.H&&N(c.H,function(C,D){ct(A,D,C)}),c.l&&Sv({},function(C,D){ct(A,D,C)})}function jv(c,A,C){C=Math.min(c.i.length,C);var D=c.l?f(c.l.Na,c.l,c):null;e:{var G=c.i;let J=-1;for(;;){const he=["count="+C];J==-1?0<C?(J=G[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let ot=!0;for(let Xt=0;Xt<C;Xt++){let Qe=G[Xt].g;const sn=G[Xt].map;if(Qe-=J,0>Qe)J=Math.max(0,G[Xt].g-100),ot=!1;else try{fk(sn,he,"req"+Qe+"_")}catch{D&&D(sn)}}if(ot){D=he.join("&");break e}}}return c=c.i.splice(0,C),A.D=c,D}function Bv(c){if(!c.g&&!c.u){c.Y=1;var A=c.Fa;W||U(),Y||(W(),Y=!0),B.add(A,c),c.v=0}}function md(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_n(f(c.Fa,c),zv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,qv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_n(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Yu(this),qv(this))};function gd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function qv(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var A=Gr(c.qa);ct(A,"RID","rpc"),ct(A,"SID",c.K),ct(A,"AID",c.T),ct(A,"CI",c.F?"0":"1"),!c.F&&c.ja&&ct(A,"TO",c.ja),ct(A,"TYPE","xmlhttp"),za(c,A),c.m&&c.o&&dd(A,c.m,c.o),c.L&&(c.g.I=c.L);var C=c.g;c=c.ia,C.L=1,C.v=zu(Gr(A)),C.m=null,C.P=!0,mv(C,c)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),md(this),qt(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function $v(c,A){var C=null;if(c.g==A){Ku(c),gd(c),c.g=null;var D=2}else if(fd(c.h,A))C=A.D,Ev(c.h,A),D=1;else return;if(c.G!=0){if(A.o)if(D==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var G=c.B;D=Et(),Me(D,new Qn(D,C)),Gu(c)}else Bv(c);else if(G=A.s,G==3||G==0&&0<A.X||!(D==1&&mk(c,A)||D==2&&md(c)))switch(C&&0<C.length&&(A=c.h,A.i=A.i.concat(C)),G){case 1:To(c,5);break;case 4:To(c,10);break;case 3:To(c,6);break;default:To(c,2)}}}function zv(c,A){let C=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(C*=2),C*A}function To(c,A){if(c.j.info("Error code "+A),A==2){var C=f(c.fb,c),D=c.Xa;const G=!D;D=new Eo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(D,"https"),zu(D),G?lk(D.toString(),C):uk(D.toString(),C)}else qt(2);c.G=0,c.l&&c.l.sa(A),Hv(c),Uv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Hv(c){if(c.G=0,c.ka=[],c.l){const A=Tv(c.h);(A.length!=0||c.i.length!=0)&&(w(c.ka,A),w(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Wv(c,A,C){var D=C instanceof Eo?Gr(C):new Eo(C);if(D.g!="")A&&(D.g=A+"."+D.g),$u(D,D.s);else{var G=a.location;D=G.protocol,A=A?A+"."+G.hostname:G.hostname,G=+G.port;var J=new Eo(null);D&&qu(J,D),A&&(J.g=A),G&&$u(J,G),C&&(J.l=C),D=J}return C=c.D,A=c.ya,C&&A&&ct(D,C,A),ct(D,"VER",c.la),za(c,D),D}function Yv(c,A,C){if(A&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=c.Ca&&!c.pa?new kt(new ja({eb:C})):new kt(c.pa),A.Ha(c.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gv(){}t=Gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,A){return new Un(c,A)};function Un(c,A){nt.call(this),this.g=new Vv(A),this.l=c,this.h=A&&A.messageUrlParams||null,c=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(c?c["X-WebChannel-Content-Type"]=A.messageContentType:c={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(c?c["X-WebChannel-Client-Profile"]=A.va:c={"X-WebChannel-Client-Profile":A.va}),this.g.S=c,(c=A&&A.Sb)&&!g(c)&&(this.g.m=c),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!g(A)&&(this.g.D=A,c=this.h,c!==null&&A in c&&(c=this.h,A in c&&delete c[A])),this.j=new fs(this)}_(Un,nt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){pd(this.g)},Un.prototype.o=function(c){var A=this.g;if(typeof c=="string"){var C={};C.__data__=c,c=C}else this.u&&(C={},C.__data__=ae(c),c=C);A.i.push(new JI(A.Ya++,c)),A.G==3&&Gu(A)},Un.prototype.N=function(){this.g.l=null,delete this.j,pd(this.g),delete this.g,Un.aa.N.call(this)};function Kv(c){et.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var A=c.__sm__;if(A){e:{for(const C in A){c=C;break e}c=void 0}(this.i=c)&&(c=this.i,A=A!==null&&c in A?A[c]:void 0),this.data=A}else this.data=c}_(Kv,et);function Qv(){Mt.call(this),this.status=1}_(Qv,Mt);function fs(c){this.g=c}_(fs,Gv),fs.prototype.ua=function(){Me(this.g,"a")},fs.prototype.ta=function(c){Me(this.g,new Kv(c))},fs.prototype.sa=function(c){Me(this.g,new Qv)},fs.prototype.ra=function(){Me(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,ZS=function(){return new Qu},JS=function(){return Et()},XS=$e,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,qc=Vn,us.COMPLETE="complete",QS=us,Ae.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ml=Ae,KS=ja,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,GS=kt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const Z0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Wg("@firebase/firestore");function rl(){return Ko.logLevel}function Ee(t,...e){if(Ko.logLevel<=We.DEBUG){const n=e.map(iy);Ko.debug(`Firestore (${Ea}): ${t}`,...n)}}function _i(t,...e){if(Ko.logLevel<=We.ERROR){const n=e.map(iy);Ko.error(`Firestore (${Ea}): ${t}`,...n)}}function oa(t,...e){if(Ko.logLevel<=We.WARN){const n=e.map(iy);Ko.warn(`Firestore (${Ea}): ${t}`,...n)}}function iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function ut(t,e){t||Oe()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class fD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new eA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new fn(e)}}class dD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new mD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Yt(0,0))}static max(){return new De(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return au.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof au?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends au{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends au{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return vD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(dt.fromString(e))}static fromName(e){return new Se(dt.fromString(e).popFirst(5))}static empty(){return new Se(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new dt(e.slice()))}}function _D(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new fo(i,Se.empty(),e)}function wD(t){return new fo(t.readTime,t.key,-1)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(De.min(),Se.empty(),-1)}static max(){return new fo(De.max(),Se.empty(),-1)}}function ED(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==TD)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new le((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function AD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}oy.oe=-1;function Ah(t){return t==null}function Of(t){return t===0&&1/t==-1/0}function bD(t){return typeof t=="number"&&Number.isInteger(t)&&!Of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t1(this.data.getIterator())}getIteratorFrom(e){return new t1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class t1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new $n([])}unionWith(e){let n=new nn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rA("Invalid base64 string: "+o):o}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(ut(!!t),typeof t=="string"){let e=0;const n=ID.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ay(t){const e=t.mapValue.fields.__previous_value__;return sy(e)?ay(e):e}function lu(t){const e=ho(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class uu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:RD(t)?9007199254740991:10:Oe()}function qr(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lu(t).isEqual(lu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ho(i.timestampValue),a=ho(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qo(i.bytesValue).isEqual(Qo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ft(i.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ft(i.integerValue)===Ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ft(i.doubleValue),a=Ft(o.doubleValue);return s===a?Of(s)===Of(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(e1(s)!==e1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!qr(s[l],a[l])))return!1;return!0}(t,e);default:return Oe()}}function cu(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ft(o.integerValue||o.doubleValue),l=Ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return n1(t.timestampValue,e.timestampValue);case 4:return n1(lu(t),lu(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Qo(o),l=Qo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ze(a[u],l[u]);if(h!==0)return h}return Ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ze(Ft(o.latitude),Ft(s.latitude));return a!==0?a:Ze(Ft(o.longitude),Ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=aa(a[u],l[u]);if(h)return h}return Ze(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===_c.mapValue&&s===_c.mapValue)return 0;if(o===_c.mapValue)return 1;if(s===_c.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ze(l[d],h[d]);if(f!==0)return f;const p=aa(a[l[d]],u[h[d]]);if(p!==0)return p}return Ze(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function n1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=ho(t),r=ho(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function la(t){return Em(t)}function Em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Em(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Em(n.fields[s])}`;return i+"}"}(t.mapValue):Oe()}function r1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tm(t){return!!t&&"integerValue"in t}function ly(t){return!!t&&"arrayValue"in t}function i1(t){return!!t&&"nullValue"in t}function o1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $c(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ol(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(Ol(this.value))}}function iA(t){const e=[];return is(t.fields,(n,r)=>{const i=new en([n]);if($c(r)){const o=iA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,De.min(),De.min(),De.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,De.min(),De.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,De.min(),De.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.position=e,this.inclusive=n}}function s1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Se.comparator(Se.fromName(s.referenceValue),n.key):r=aa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function PD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class Bt extends oA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CD(e,n,r):n==="array-contains"?new DD(e,r):n==="in"?new LD(e,r):n==="not-in"?new MD(e,r):n==="array-contains-any"?new VD(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ND(e,r):new xD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Er(e,n)}matches(e){return sA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sA(t){return t.op==="and"}function aA(t){return OD(t)&&sA(t)}function OD(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Sm(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(aA(t))return t.filters.map(e=>Sm(e)).join(",");{const e=t.filters.map(n=>Sm(n)).join(",");return`${t.op}(${e})`}}function lA(t,e){return t instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&qr(r.value,i.value)}(t,e):t instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&lA(s,i.filters[a]),!0):!1}(t,e):void Oe()}function uA(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(uA).join(" ,")+"}"}(t):"Filter"}class CD extends Bt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class ND extends Bt{constructor(e,n){super(e,"in",n),this.keys=cA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xD extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=cA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class DD extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ly(n)&&cu(n.arrayValue,this.value)}}class LD extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class MD extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}}class VD extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function l1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new UD(t,e,n,r,i,o,s)}function uy(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=n}return e.ue}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a1(t.startAt,e.startAt)&&a1(t.endAt,e.endAt)}function Am(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FD(t,e,n,r,i,o,s,a){return new Pu(t,e,n,r,i,o,s,a)}function fy(t){return new Pu(t)}function u1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fA(t){return t.collectionGroup!==null}function Cl(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nn(en.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Nf(o,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new Nf(en.keyField(),r))}return e.ce}function jr(t){const e=Ve(t);return e.le||(e.le=jD(e,Cl(t))),e.le}function jD(t,e){if(t.limitType==="F")return l1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nf(i.field,o)});const n=t.endAt?new Cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cf(t.startAt.position,t.startAt.inclusive):null;return l1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bm(t,e){const n=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return cy(jr(t),jr(e))&&t.limitType===e.limitType}function hA(t){return`${uy(jr(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uA(i)).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=s1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Cl(r),i)||r.endAt&&!function(s,a,l){const u=s1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Cl(r),i))}(t,e)}function BD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dA(t){return(e,n)=>{let r=!1;for(const i of Cl(t)){const o=qD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function qD(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?aa(l,u):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new It(Se.comparator);function wi(){return $D}const pA=new It(Se.comparator);function gl(...t){let e=pA;for(const n of t)e=e.insert(n.key,n);return e}function mA(t){let e=pA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return Nl()}function gA(){return Nl()}function Nl(){return new Ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const zD=new It(Se.comparator),HD=new nn(Se.comparator);function ze(...t){let e=HD;for(const n of t)e=e.add(n);return e}const WD=new nn(Ze);function YD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function vA(t){return{integerValue:""+t}}function GD(t,e){return bD(e)?vA(e):yA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function KD(t,e,n){return t instanceof Df?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sy(o)&&(o=ay(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ua?wA(t,e):t instanceof fu?EA(t,e):function(i,o){const s=_A(i,o),a=c1(s)+c1(i.Pe);return Tm(s)&&Tm(i.Pe)?vA(a):yA(i.serializer,a)}(t,e)}function QD(t,e,n){return t instanceof ua?wA(t,e):t instanceof fu?EA(t,e):n}function _A(t,e){return t instanceof Lf?function(r){return Tm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Df extends kh{}class ua extends kh{constructor(e){super(),this.elements=e}}function wA(t,e){const n=TA(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends kh{constructor(e){super(),this.elements=e}}function EA(t,e){let n=TA(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class Lf extends kh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c1(t){return Ft(t.integerValue||t.doubleValue)}function TA(t){return ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.field=e,this.transform=n}}function JD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ua&&i instanceof ua||r instanceof fu&&i instanceof fu?sa(r.elements,i.elements,qr):r instanceof Lf&&i instanceof Lf?qr(r.Pe,i.Pe):r instanceof Df&&i instanceof Df}(t.transform,e.transform)}class ZD{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bA(t.key,vr.none()):new Ou(t.key,t.data,vr.none());{const n=t.data,r=Pn.empty();let i=new nn(en.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vo(t.key,r,new $n(i.toArray()),vr.none())}}function eL(t,e,n){t instanceof Ou?function(i,o,s){const a=i.value.clone(),l=h1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(i,o,s){if(!zc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=h1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(AA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n,r){return t instanceof Ou?function(o,s,a,l){if(!zc(o.precondition,s))return a;const u=o.value.clone(),h=d1(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(o,s,a,l){if(!zc(o.precondition,s))return a;const u=d1(o.fieldTransforms,l,s),h=s.data;return h.setAll(AA(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return zc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_A(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sa(r,i,(o,s)=>JD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Rh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends Rh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h1(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,QD(s,a,n[i]))}return r}function d1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,KD(o,s,e))}return r}class bA extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=SA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>f1(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>f1(n,r))}}class hy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return zD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new hy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ye;function sL(t){switch(t){default:return Oe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function IA(t){if(t===void 0)return _i("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Vt.OK:return oe.OK;case Vt.CANCELLED:return oe.CANCELLED;case Vt.UNKNOWN:return oe.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return oe.INTERNAL;case Vt.UNAVAILABLE:return oe.UNAVAILABLE;case Vt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Vt.NOT_FOUND:return oe.NOT_FOUND;case Vt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Vt.ABORTED:return oe.ABORTED;case Vt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Vt.DATA_LOSS:return oe.DATA_LOSS;default:return Oe()}}(Ye=Vt||(Vt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Mo([4294967295,4294967295],0);function p1(t){const e=aL().encode(t),n=new YS;return n.update(e),new Uint8Array(n.digest())}function m1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mo([n,r],0),new Mo([i,o],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mo.fromNumber(r)));return i.compare(lL)===1&&(i=new Mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=p1(e),[r,i]=m1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new dy(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=p1(e),[r,i]=m1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(De.min(),i,new It(Ze),wi(),ze())}}class Cu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kA{constructor(e,n){this.targetId=e,this.me=n}}class RA{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g1{constructor(){this.fe=0,this.ge=v1(),this.pe=gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new Cu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=v1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uL{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=y1(),this.Qe=new It(Ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Am(o))if(r===0){const s=new Se(o.path);this.Ue(n,s,dn.newNoDocument(s,De.min()))}else ut(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Qo(r).toUint8Array()}catch(l){if(l instanceof rA)return oa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dy(s,i,o)}catch(l){return oa(l instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Am(a.target)){const l=new Se(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,dn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ze();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ph(e,n,this.Qe,this.ke,r);return this.ke=wi(),this.qe=y1(),this.Qe=new It(Ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(Ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y1(){return new It(Se.comparator)}function v1(){return new It(Se.comparator)}const cL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hL=(()=>({and:"AND",or:"OR"}))();class dL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Im(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pL(t,e){return Mf(t,e.toTimestamp())}function Br(t){return ut(!!t),De.fromTimestamp(function(n){const r=ho(n);return new Yt(r.seconds,r.nanos)}(t))}function py(t,e){return km(t,e).canonicalString()}function km(t,e){const n=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OA(t){const e=dt.fromString(t);return ut(LA(e)),e}function Rm(t,e){return py(t.databaseId,e.path)}function Zd(t,e){const n=OA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(NA(n))}function CA(t,e){return py(t.databaseId,e)}function mL(t){const e=OA(t);return e.length===4?dt.emptyPath():NA(e)}function Pm(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NA(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _1(t,e,n){return{name:Rm(t,e),fields:n.value.mapValue.fields}}function gL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(ut(h===void 0||typeof h=="string"),gn.fromBase64String(h||"")):(ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?oe.UNKNOWN:IA(u.code);return new ve(h,u.message||"")}(s);n=new RA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zd(t,r.document.name),o=Br(r.document.updateTime),s=r.document.createTime?Br(r.document.createTime):De.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Hc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zd(t,r.document),o=r.readTime?Br(r.readTime):De.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zd(t,r.document),o=r.removedTargetIds||[];n=new Hc([],o,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oL(i,o),a=r.targetId;n=new kA(a,s)}}return n}function yL(t,e){let n;if(e instanceof Ou)n={update:_1(t,e.key,e.value)};else if(e instanceof bA)n={delete:Rm(t,e.key)};else if(e instanceof vo)n={update:_1(t,e.key,e.data),updateMask:IL(e.fieldMask)};else{if(!(e instanceof nL))return Oe();n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Df)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lf)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe()}(t,e.precondition)),n}function vL(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Br(i.updateTime):Br(o);return s.isEqual(De.min())&&(s=Br(o)),new ZD(s,i.transformResults||[])}(n,e))):[]}function _L(t,e){return{documents:[CA(t,e.path)]}}function wL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CA(t,i);const o=function(u){if(u.length!==0)return DA(Er.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:ys(f.field),direction:SL(f.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Im(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function EL(t){let e=mL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(d){const f=xA(d);return f instanceof Er&&aA(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(_){return new Nf(vs(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ah(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Cf(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Cf(p,f)}(n.endAt)),FD(e,i,s,o,a,"F",l,u)}function TL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vs(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vs(n.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vs(n.unaryFilter.field);return Bt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>xA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function SL(t){return cL[t]}function AL(t){return fL[t]}function bL(t){return hL[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return en.fromServerFormat(t.fieldPath)}function DA(t){return t instanceof Bt?function(n){if(n.op==="=="){if(o1(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o1(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:AL(n.op),value:n.value}}}(t):t instanceof Er?function(n){const r=n.getFilters().map(i=>DA(i));return r.length===1?r[0]:{compositeFilter:{op:bL(n.op),filters:r}}}(t):Oe()}function IL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,o=De.min(),s=De.min(),a=gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.ct=e}}function RL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._n=new OL}addToCollectionParentIndex(e,n){return this._n.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(fo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class OL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ca(0)}static Ln(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xl(r.mutation,i,$n.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=wi();const s=Nl(),a=function(){return Nl()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof vo)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),xl(h.mutation,u,h.mutation.getFieldMask(),Yt.now())):s.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new NL(h,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nl();let i=new It((s,a)=>s-a),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||$n.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||ze()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=gA();h.forEach(f=>{if(!o.has(f)){const p=SA(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):le.resolve(No());let a=-1,l=o;return s.next(u=>le.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ze())).next(h=>({batchId:a,changes:mA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=gl();return this.indexManager.getCollectionParents(e,o).next(a=>le.forEach(a,l=>{const u=function(d,f){return new Pu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let a=gl();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&xl(h.mutation,u,$n.empty(),Yt.now()),Ih(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return le.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RL(i.bundledQuery),readTime:Br(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.overlays=new It(Se.comparator),this.hr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return le.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=No(),o=n.length+1,s=new Se(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new It((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=No(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=No(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iL(n,r));let o=this.hr.get(n);o===void 0&&(o=ze(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Pr=new nn(Gt.Ir),this.Tr=new nn(Gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Se(new dt([])),r=new Gt(n,e),i=new Gt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Se(new dt([])),r=new Gt(n,e),i=new Gt(n,e+1);let o=ze();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Se.comparator(e.key,n.key)||Ze(e.pr,n.pr)}static Er(e,n){return Ze(e.pr,n.pr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new nn(Gt.Ir)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rL(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Ze);return n.forEach(i=>{const o=new Gt(i,0),s=new Gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),le.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Se.isDocumentKey(o)||(o=o.child(""));const s=new Gt(new Se(o),0);let a=new nn(Ze);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),le.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return le.forEach(n.mutations,i=>{const o=new Gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Gt(n,0),i=this.wr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.vr=e,this.docs=function(){return new It(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=wi();const s=n.path,a=new Se(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||ED(wD(h),r)<=0||(i.has(h.key)||Ih(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Oe()}Fr(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UL(this)}getSize(e){return le.resolve(this.size)}}class UL extends CL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.persistence=e,this.Mr=new Ta(n=>uy(n),cy),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Or=0,this.Nr=new my,this.targetCount=0,this.Lr=ca.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),le.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.qn(n),le.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(o).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.Br={},this.overlays={},this.kr=new oy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new FL(this),this.indexManager=new PL,this.remoteDocumentCache=function(i){return new VL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kL(n),this.$r=new DL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ML(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new BL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return le.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class BL extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.zr=new my,this.jr=null}static Hr(e){return new gy(e)}get Jr(){if(this.jr)return this.jr;throw Oe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),le.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Jr,r=>{const i=Se.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,De.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return le.or([()=>le.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ze(),i=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return SC()?8:AD(on())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new qL;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(rl()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),le.resolve()):(rl()<=We.DEBUG&&Ee("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(rl()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):le.resolve())}ji(e,n){if(u1(n))return le.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ze(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,xf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return u1(n)||i.isEqual(De.min())?le.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?le.resolve(null):(rl()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(n)),this.es(e,s,n,_D(i,-1)).next(a=>a))})}Zi(e,n){let r=new nn(dA(e));return n.forEach((i,o)=>{Ih(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return rl()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",gs(n)),this.zi.getDocumentsMatchingQuery(e,n,fo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new It(Ze),this.rs=new Ta(o=>uy(o),cy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function HL(t,e,n,r){return new zL(t,e,n,r)}async function MA(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ze();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function WL(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=le.resolve();return f.forEach(_=>{p=p.next(()=>h.getEntry(l,_)).next(v=>{const w=u.docVersions.get(_);ut(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ze();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VA(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function YL(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(gn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(v,w,y){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,h)&&a.push(n.Qr.updateTargetData(o,p))});let l=wi(),u=ze();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(GL(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(De.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return le.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function GL(t,e,n){let r=ze(),i=ze();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=wi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function KL(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QL(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,le.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Yi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Om(t,e,n){const r=Ve(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ru(s))throw s;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function w1(t,e,n){const r=Ve(t);let i=De.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const d=Ve(l),f=d.rs.get(h);return f!==void 0?le.resolve(d.ns.get(f)):d.Qr.getTargetData(u,h)}(r,s,jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:De.min(),n?o:ze())).next(a=>(XL(r,BD(e),a),{documents:a,hs:o})))}function XL(t,e,n){let r=t.ss.get(e)||De.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class E1{constructor(){this.activeTargetIds=YD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JL{constructor(){this.no=new E1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function ep(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class nM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=ep(),l=this.vo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(n,l,u,i).then(h=>(Ee("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw oa("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=eM[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=ep();return new Promise((s,a)=>{const l=new GS;l.setWithCredentials(!0),l.listenOnce(QS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qc.NO_ERROR:const h=l.getResponseJson();Ee(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case qc.TIMEOUT:Ee(cn,`RPC '${e}' ${o} timed out`),a(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const d=l.getStatus();if(Ee(cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(y)>=0?y:oe.UNKNOWN}(p.status);a(new ve(_,p.message))}else a(new ve(oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ee(cn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=ep(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ZS(),a=JS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new KS({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");Ee(cn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=s.createWebChannel(h,l);let f=!1,p=!1;const _=new tM({lo:w=>{p?Ee(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(Ee(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Ee(cn,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),v=(w,y,g)=>{w.listen(y,E=>{try{g(E)}catch(m){setTimeout(()=>{throw m},0)}})};return v(d,ml.EventType.OPEN,()=>{p||(Ee(cn,`RPC '${e}' stream ${i} transport opened.`),_.mo())}),v(d,ml.EventType.CLOSE,()=>{p||(p=!0,Ee(cn,`RPC '${e}' stream ${i} transport closed`),_.po())}),v(d,ml.EventType.ERROR,w=>{p||(p=!0,oa(cn,`RPC '${e}' stream ${i} transport errored:`,w),_.po(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),v(d,ml.EventType.MESSAGE,w=>{var y;if(!p){const g=w.data[0];ut(!!g);const E=g,m=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(m){Ee(cn,`RPC '${e}' stream ${i} received error:`,m);const k=m.status;let N=function(O){const b=Vt[O];if(b!==void 0)return IA(b)}(k),S=m.message;N===void 0&&(N=oe.INTERNAL,S="Unknown error status: "+k+" with message "+m.message),p=!0,_.po(new ve(N,S)),d.close()}else Ee(cn,`RPC '${e}' stream ${i} received:`,g),_.yo(g)}}),v(a,XS.STAT_EVENT,w=>{w.stat===wm.PROXY?Ee(cn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===wm.NOPROXY&&Ee(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){return new dL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new UA(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends FA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=gL(this.serializer,e),r=function(o){if(!("targetChange"in o))return De.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?De.min():s.readTime?Br(s.readTime):De.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Am(l)?{documents:_L(o,l)}:{query:wL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PA(o,s.resumeToken);const u=Im(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(De.min())>0){a.readTime=Mf(o,s.snapshotVersion.toTimestamp());const u=Im(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=TL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.i_(n)}}class iM extends FA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=vL(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.A_(r,n)}return ut(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Pm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,km(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,km(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(oe.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class sM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(_i(n),this.y_=!1):Ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{os(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ve(l);u.M_.add(4),await Nu(u),u.N_.set("Unknown"),u.M_.delete(4),await Ch(u)}(this))})}),this.N_=new sM(r,i)}}async function Ch(t){if(os(t))for(const e of t.x_)await e(!0)}async function Nu(t){for(const e of t.x_)await e(!1)}function jA(t,e){const n=Ve(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Ey(n)?wy(n):Sa(n).Xo()&&_y(n,e))}function vy(t,e){const n=Ve(t),r=Sa(n);n.F_.delete(e),r.Xo()&&BA(n,e),n.F_.size===0&&(r.Xo()?r.n_():os(n)&&n.N_.set("Unknown"))}function _y(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).P_(e)}function BA(t,e){t.L_.xe(e),Sa(t).I_(e)}function wy(t){t.L_=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.N_.w_()}function Ey(t){return os(t)&&!Sa(t).Zo()&&t.F_.size>0}function os(t){return Ve(t).M_.size===0}function qA(t){t.L_=void 0}async function lM(t){t.N_.set("Online")}async function uM(t){t.F_.forEach((e,n)=>{_y(t,e)})}async function cM(t,e){qA(t),Ey(t)?(t.N_.D_(e),wy(t)):t.N_.set("Unknown")}async function fM(t,e,n){if(t.N_.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(t,r)}else if(e instanceof Hc?t.L_.Ke(e):e instanceof kA?t.L_.He(e):t.L_.We(e),!n.isEqual(De.min()))try{const r=await VA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.F_.get(u);h&&o.F_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.F_.get(l);if(!h)return;o.F_.set(l,h.withResumeToken(gn.EMPTY_BYTE_STRING,h.snapshotVersion)),BA(o,l);const d=new Yi(h.target,l,u,h.sequenceNumber);_y(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await Vf(t,r)}}async function Vf(t,e,n){if(!Ru(e))throw e;t.M_.add(1),await Nu(t),t.N_.set("Offline"),n||(n=()=>VA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ch(t)})}function $A(t,e){return e().catch(n=>Vf(t,n,e))}async function Nh(t){const e=Ve(t),n=po(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hM(e);)try{const i=await KL(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,dM(e,i)}catch(i){await Vf(e,i)}zA(e)&&HA(e)}function hM(t){return os(t)&&t.v_.length<10}function dM(t,e){t.v_.push(e);const n=po(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function zA(t){return os(t)&&!po(t).Zo()&&t.v_.length>0}function HA(t){po(t).start()}async function pM(t){po(t).V_()}async function mM(t){const e=po(t);for(const n of t.v_)e.d_(n.mutations)}async function gM(t,e,n){const r=t.v_.shift(),i=hy.from(r,e,n);await $A(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nh(t)}async function yM(t,e){e&&po(t).E_&&await async function(r,i){if(function(s){return sL(s)&&s!==oe.ABORTED}(i.code)){const o=r.v_.shift();po(r).t_(),await $A(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Nh(r)}}(t,e),zA(t)&&HA(t)}async function S1(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=os(n);n.M_.add(3),await Nu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ch(n)}async function vM(t,e){const n=Ve(t);e?(n.M_.delete(2),await Ch(n)):e||(n.M_.add(2),await Nu(n),n.N_.set("Unknown"))}function Sa(t){return t.B_||(t.B_=function(n,r,i){const o=Ve(n);return o.f_(),new rM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:lM.bind(null,t),To:uM.bind(null,t),Ao:cM.bind(null,t),h_:fM.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Ey(t)?wy(t):t.N_.set("Unknown")):(await t.B_.stop(),qA(t))})),t.B_}function po(t){return t.k_||(t.k_=function(n,r,i){const o=Ve(n);return o.f_(),new iM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:pM.bind(null,t),Ao:yM.bind(null,t),R_:mM.bind(null,t),A_:gM.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Nh(t)):(await t.k_.stop(),t.v_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Ty(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Ru(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=gl(),this.sortedSet=new It(this.comparator)}static emptySet(e){return new Ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.q_=new It(Se.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Oe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fa{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new fa(e,n,Ys.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class wM{constructor(){this.queries=new Ta(e=>hA(e),bh),this.onlineState="Unknown",this.z_=new Set}}async function WA(t,e){const n=Ve(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new _M,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Sy(s,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Ay(n)}async function YA(t,e){const n=Ve(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EM(t,e){const n=Ve(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Ay(n)}function TM(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Ay(t){t.z_.forEach(e=>{e.next()})}var Cm,b1;(b1=Cm||(Cm={})).J_="default",b1.Cache="cache";class GA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ze(),this.mutatedKeys=ze(),this.Ia=dA(e),this.Ta=new Ys(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new A1,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=Ih(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?_!==v&&(r.track({type:3,doc:p}),w=!0):this.Ra(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=v?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((h,d)=>function(p,_){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return v(p)-v(_)}(h.type,d.type)||this.Ia(h.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new fa(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new A1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ze(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new QA(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new KA(r))}),n}pa(e){this.la=e.hs,this.Pa=ze();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return fa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class AM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bM{constructor(e){this.key=e,this.wa=!1}}class IM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ta(a=>hA(a),bh),this.Da=new Map,this.Ca=new Set,this.va=new It(Se.comparator),this.Fa=new Map,this.Ma=new my,this.xa={},this.Oa=new Map,this.Na=ca.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function kM(t,e,n=!0){const r=nb(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await XA(r,e,n,!0),i}async function RM(t,e){const n=nb(t);await XA(n,e,!0,!1)}async function XA(t,e,n,r){const i=await QL(t.localStore,jr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await PM(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,i),a}async function PM(t,e,n,r,i){t.Ba=(d,f,p)=>async function(v,w,y,g){let E=w.view.da(y);E.Xi&&(E=await w1(v.localStore,w.query,!1).then(({documents:S})=>w.view.da(S,E)));const m=g&&g.targetChanges.get(w.targetId),k=g&&g.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(E,v.isPrimaryClient,m,k);return k1(v,w.targetId,N.fa),N.snapshot}(t,d,f,p);const o=await w1(t.localStore,e,!0),s=new SM(e,o.hs),a=s.da(o.documents),l=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);k1(t,n,u.fa);const h=new AM(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function OM(t,e,n){const r=Ve(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!bh(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Om(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vy(r.remoteStore,i.targetId),Nm(r,i.targetId)}).catch(ku)):(Nm(r,i.targetId),await Om(r.localStore,i.targetId,!0))}async function CM(t,e){const n=Ve(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function NM(t,e,n){const r=FM(t);try{const i=await function(s,a){const l=Ve(s),u=Yt.now(),h=a.reduce((p,_)=>p.add(_.key),ze());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=wi(),v=ze();return l.os.getEntries(p,h).next(w=>{_=w,_.forEach((y,g)=>{g.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{d=w;const y=[];for(const g of a){const E=tL(g,d.get(g.key).overlayedDocument);E!=null&&y.push(new vo(g.key,E,iA(E.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:mA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new It(Ze)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await xu(r,i.changes),await Nh(r.remoteStore)}catch(i){const o=Sy(i,"Failed to persist write");n.reject(o)}}async function JA(t,e){const n=Ve(t);try{const r=await YL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ut(s.wa):i.removedDocuments.size>0&&(ut(s.wa),s.wa=!1))}),await xu(n,r,e)}catch(r){await ku(r)}}function I1(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ve(s);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.U_)f.j_(a)&&(u=!0)}),u&&Ay(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xM(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new It(Se.comparator);s=s.insert(o,dn.newNoDocument(o,De.min()));const a=ze().add(o),l=new Ph(De.min(),new Map,new It(Ze),s,a);await JA(r,l),r.va=r.va.remove(o),r.Fa.delete(e),by(r)}else await Om(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch(ku)}async function DM(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await WL(n.localStore,e);eb(n,r,null),ZA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,i)}catch(i){await ku(i)}}async function LM(t,e,n){const r=Ve(t);try{const i=await function(s,a){const l=Ve(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ut(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);eb(r,e,n),ZA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,i)}catch(i){await ku(i)}}function ZA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function eb(t,e,n){const r=Ve(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||tb(t,r)})}function tb(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(vy(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),by(t))}function k1(t,e,n){for(const r of n)r instanceof KA?(t.Ma.addReference(r.key,e),MM(t,r)):r instanceof QA?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||tb(t,r.key)):Oe()}function MM(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.Ca.add(r),by(t))}function by(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Se(dt.fromString(e)),r=t.Na.next();t.Fa.set(r,new bM(n)),t.va=t.va.insert(n,r),jA(t.remoteStore,new Yi(jr(fy(n.path)),r,"TargetPurposeLimboResolution",oy.oe))}}async function xu(t,e,n){const r=Ve(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const h=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=yy.Ki(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(l,u){const h=Ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(u,f=>le.forEach(f.qi,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>le.forEach(f.Qi,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Ru(d))throw d;Ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.ns.get(f),_=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(_);h.ns=h.ns.insert(f,v)}}}(r.localStore,o))}async function VM(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await MA(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ve(oe.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.us)}}function UM(t,e){const n=Ve(t),r=n.Fa.get(e);if(r&&r.wa)return ze().add(r.key);{let i=ze();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function nb(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xM.bind(null,e),e.Sa.h_=EM.bind(null,e.eventManager),e.Sa.ka=TM.bind(null,e.eventManager),e}function FM(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LM.bind(null,e),e}class R1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HL(this.persistence,new $L,e.initialUser,this.serializer)}createPersistence(e){return new jL(gy.Hr,this.serializer)}createSharedClientState(e){return new JL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wM}()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),r=function(o){return new nM(o)}(e.databaseInfo);return function(o,s,a,l){return new oM(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new aM(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return T1.D()?new T1:new ZL}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const d=new IM(i,o,s,a,l,u);return h&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ve(r);Ee("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Nu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=tA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $M(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>S1(e.remoteStore,i)),t._onlineComponents=e}function qM(t){return t.name==="FirebaseError"?t.code===oe.FAILED_PRECONDITION||t.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qM(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await np(t,new R1)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await np(t,new R1);return t._offlineComponents}async function ib(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await P1(t,new jM))),t._onlineComponents}function zM(t){return ib(t).then(e=>e.syncEngine)}async function ob(t){const e=await ib(t),n=e.eventManager;return n.onListen=kM.bind(null,e.syncEngine),n.onUnlisten=OM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CM.bind(null,e.syncEngine),n}function HM(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new rb({next:f=>{s.enqueueAndForget(()=>YA(o,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new GA(fy(a.path),h,{includeMetadataChanges:!0,ra:!0});return WA(o,d)}(await ob(t),t.asyncQueue,e,n,r)),r.promise}function WM(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new rb({next:f=>{s.enqueueAndForget(()=>YA(o,d)),f.fromCache&&l.source==="server"?u.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new GA(a,h,{includeMetadataChanges:!0,ra:!0});return WA(o,d)}(await ob(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YM(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!Se.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N1(t){if(Se.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GM(t,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cD;switch(r.type){case"firstParty":return new pD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O1.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),O1.delete(n),r.terminate())}(this),Promise.resolve()}}function KM(t,e,n,r={}){var i;const o=(t=$r(t,Dh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=sS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new fD(new eA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class so extends ss{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Se(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Lh(t,e,...n){if(t=Pt(t),ab("collection","path",e),t instanceof Dh){const r=dt.fromString(e,...n);return N1(r),new so(t,null,r)}{if(!(t instanceof An||t instanceof so))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return N1(r),new so(t.firestore,null,r)}}function ha(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=tA.newId()),ab("doc","path",e),t instanceof Dh){const r=dt.fromString(e,...n);return C1(r),new An(t,null,new Se(r))}{if(!(t instanceof An||t instanceof so))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return C1(r),new An(t.firestore,t instanceof so?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new UA(this,"async_queue_retry"),this.hu=()=>{const n=tp();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new fi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ru(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw _i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Ty.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Oe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Aa extends Dh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new QM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lb(this),this._firestoreClient.terminate()}}function XM(t,e){const n=typeof t=="object"?t:Gg(),r=typeof t=="string"?t:e||"(default)",i=yh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=rS("firestore");o&&KM(i,...o)}return i}function Iy(t){return t._firestoreClient||lb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lb(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new kD(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new BM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(gn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^__.*__$/;class ZM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class ub{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Uh{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Uh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Uf(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(cb(this.fu)&&JM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class e4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Oh(e)}Fu(e,n,r,i=!1){return new Uh({fu:e,methodName:n,vu:r,path:en.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(t){const e=t._freezeSettings(),n=Oh(t._databaseId);return new e4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fb(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",s,r);const a=hb(r,s);let l,u;if(o.merge)l=new $n(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const d of o.mergeFields){const f=xm(e,d,n);if(!s.contains(f))throw new ve(oe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pb(h,f)||h.push(f)}l=new $n(h),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new ZM(new Pn(a),l,u)}class jh extends Vh{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function t4(t,e,n){return new Uh({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends Vh{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=t4(this,e,!0),r=this.Mu.map(o=>ba(o,n)),i=new ua(r);return new XD(e.path,i)}isEqual(e){return e instanceof Ry&&ru(this.Mu,e.Mu)}}function n4(t,e,n,r){const i=t.Fu(1,e,n);Py("Data must be an object, but it was:",i,r);const o=[],s=Pn.empty();is(r,(l,u)=>{const h=Oy(e,l,n);u=Pt(u);const d=i.Su(h);if(u instanceof jh)o.push(h);else{const f=ba(u,d);f!=null&&(o.push(h),s.set(h,f))}});const a=new $n(o);return new ub(s,a,i.fieldTransforms)}function r4(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[xm(e,r,n)],l=[i];if(o.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(xm(e,o[f])),l.push(o[f+1]);const u=[],h=Pn.empty();for(let f=a.length-1;f>=0;--f)if(!pb(u,a[f])){const p=a[f];let _=l[f];_=Pt(_);const v=s.Su(p);if(_ instanceof jh)u.push(p);else{const w=ba(_,v);w!=null&&(u.push(p),h.set(p,w))}}const d=new $n(u);return new ub(h,d,s.fieldTransforms)}function i4(t,e,n,r=!1){return ba(n,t.Fu(r?4:3,e))}function ba(t,e){if(db(t=Pt(t)))return Py("Unsupported field value:",e,t),hb(t,e);if(t instanceof Vh)return function(r,i){if(!cb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ba(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Yt.fromDate(r);return{timestampValue:Mf(i.serializer,o)}}if(r instanceof Yt){const o=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(i.serializer,o)}}if(r instanceof ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:PA(i.serializer,r._byteString)};if(r instanceof An){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:py(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${xh(r)}`)}(t,e)}function hb(t,e){const n={};return nA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const o=ba(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function db(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof ky||t instanceof da||t instanceof An||t instanceof Vh)}function Py(t,e,n){if(!db(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xh(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function xm(t,e,n){if((e=Pt(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return Oy(t,e);throw Uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const o4=new RegExp("[~\\*/\\[\\]]");function Oy(t,e,n){if(e.search(o4)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ve(oe.INVALID_ARGUMENT,a+t+l)}function pb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s4 extends mb{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?Oy(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class gb extends Ny{}function xy(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Ly).length,a=o.filter(l=>l instanceof Bh).length;if(s>1||s>0&&a>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bh extends gb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bh(e,n,r)}_apply(e){const n=this._parse(e);return yb(e._query,n),new ss(e.firestore,e.converter,bm(e._query,n))}_parse(e){const n=Fh(e.firestore);return function(o,s,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){L1(d,h);const p=[];for(const _ of d)p.push(D1(l,o,_));f={arrayValue:{values:p}}}else f=D1(l,o,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||L1(d,h),f=i4(a,s,d,h==="in"||h==="not-in");return Bt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dy(t,e,n){const r=e,i=Cy("where",t);return Bh._create(i,r,n)}class Ly extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)yb(s,l),s=bm(s,l)}(e._query,n),new ss(e.firestore,e.converter,bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends gb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new My(e,n,r)}_apply(e){return new ss(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function l4(t){return GM("limit",t),My._create("limit",t,"F")}function D1(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!Se.isDocumentKey(r))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r1(t,new Se(r))}if(n instanceof An)return r1(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function L1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yb(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u4{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ky(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ay(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);ut(LA(r));const i=new uu(r.get(1),r.get(3)),o=new Se(r.popFirst(5));return i.isEqual(n)||_i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _b extends mb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wc extends _b{data(e={}){return super.data(e)}}class c4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:f4(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){t=$r(t,An);const e=$r(t.firestore,Aa);return HM(Iy(e),t._key).then(n=>p4(e,t,n))}class wb extends u4{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function Vy(t){t=$r(t,ss);const e=$r(t.firestore,Aa),n=Iy(e),r=new wb(e);return a4(t._query),WM(n,t._query).then(i=>new c4(e,r,t,i))}function h4(t,e,n){t=$r(t,An);const r=$r(t.firestore,Aa),i=vb(t.converter,e,n);return Uy(r,[fb(Fh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function M1(t,e,n,...r){t=$r(t,An);const i=$r(t.firestore,Aa),o=Fh(i);let s;return s=typeof(e=Pt(e))=="string"||e instanceof Mh?r4(o,"updateDoc",t._key,e,n,r):n4(o,"updateDoc",t._key,e),Uy(i,[s.toMutation(t._key,vr.exists(!0))])}function d4(t,e){const n=$r(t.firestore,Aa),r=ha(t),i=vb(t.converter,e);return Uy(n,[fb(Fh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function Uy(t,e){return function(r,i){const o=new fi;return r.asyncQueue.enqueueAndForget(async()=>NM(await zM(r),i,o)),o.promise}(Iy(t),e)}function p4(t,e,n){const r=n.docs.get(e._key),i=new wb(t);return new _b(t,i,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}function m4(...t){return new Ry("arrayUnion",t)}(function(e,n=!0){(function(i){Ea=i})(ns),Wo(new co("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Aa(new hD(r.getProvider("auth-internal")),new gD(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Vr(Z0,"4.6.3",e),Vr(Z0,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebasestorage.googleapis.com",Tb="storageBucket",g4=2*60*1e3,y4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Hr{constructor(e,n,r=0){super(rp(e),`Firebase Storage: ${n} (${rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ot;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ot||(Ot={}));function rp(t){return"storage/"+t}function Fy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Ot.UNKNOWN,t)}function v4(t){return new Ct(Ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _4(t){return new Ct(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Ot.UNAUTHENTICATED,t)}function E4(){return new Ct(Ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T4(t){return new Ct(Ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function S4(){return new Ct(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A4(){return new Ct(Ot.CANCELED,"User canceled the upload/download.")}function b4(t){return new Ct(Ot.INVALID_URL,"Invalid URL '"+t+"'.")}function I4(t){return new Ct(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function k4(){return new Ct(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tb+"' property when initializing the app?")}function R4(){return new Ct(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P4(){return new Ct(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O4(t){return new Ct(Ot.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lm(t){return new Ct(Ot.INVALID_ARGUMENT,t)}function Sb(){return new Ct(Ot.APP_DELETED,"The Firebase app was deleted.")}function C4(t){return new Ct(Ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dl(t,e){return new Ct(Ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function il(t){throw new Ct(Ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zn.makeFromUrl(e,n)}catch{return new zn(e,"")}if(r.path==="")return r;throw I4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(m){m.path_=decodeURIComponent(m.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},v=n===Eb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${v}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:p,indices:_,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let m=0;m<E.length;m++){const k=E[m],N=k.regex.exec(e);if(N){const S=N[k.indices.bucket];let T=N[k.indices.path];T||(T=""),r=new zn(S,T),k.postModify(r);break}}if(r==null)throw b4(e);return r}}class N4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function f(){o&&clearTimeout(o)}function p(w,...y){if(u){f();return}if(w){f(),h.call(null,w,...y);return}if(l()||s){f(),h.call(null,w,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let _=!1;function v(w){_||(_=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function D4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){return t!==void 0}function M4(t){return typeof t=="object"&&!Array.isArray(t)}function jy(t){return typeof t=="string"||t instanceof String}function V1(t){return By()&&t instanceof Blob}function By(){return typeof Blob<"u"}function U1(t,e,n,r){if(r<e)throw Lm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ab(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vo||(Vo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i,o,s,a,l,u,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ec(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Vo.NO_ERROR,l=o.getStatus();if(!a||V4(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Vo.ABORT;r(!1,new Ec(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ec(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());L4(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Fy();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?Sb():A4();s(l)}else{const l=S4();s(l)}};this.canceled_?n(!1,new Ec(!1,null,!0)):this.backoffId_=x4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function j4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function q4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $4(t,e,n,r,i,o,s=!0){const a=Ab(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return B4(u,e),F4(u,n),j4(u,o),q4(u,r),new U4(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function H4(...t){const e=z4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(By())return new Blob(t);throw new Ct(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function W4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){if(typeof atob>"u")throw O4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ip{constructor(e,n){this.data=e,this.contentType=n||null}}function bb(t,e){switch(t){case pr.RAW:return new ip(Ib(e));case pr.BASE64:case pr.BASE64URL:return new ip(kb(t,e));case pr.DATA_URL:return new ip(K4(e),Q4(e))}throw Fy()}function Ib(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function G4(t){let e;try{e=decodeURIComponent(t)}catch{throw Dl(pr.DATA_URL,"Malformed data URL.")}return Ib(e)}function kb(t,e){switch(t){case pr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Dl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Dl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y4(e)}catch(i){throw i.message.includes("polyfill")?i:Dl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Rb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=X4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function K4(t){const e=new Rb(t);return e.base64?kb(pr.BASE64,e.rest):G4(e.rest)}function Q4(t){return new Rb(t).contentType}function X4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){let r=0,i="";V1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(V1(this.data_)){const r=this.data_,i=W4(r,e,n);return i===null?null:new zi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zi(r,!0)}}static getBlob(...e){if(By()){const n=e.map(r=>r instanceof zi?r.data_:r);return new zi(H4.apply(null,n))}else{const n=e.map(s=>jy(s)?bb(pr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new zi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){let e;try{e=JSON.parse(t)}catch{return null}return M4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ob(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e){return e}class wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||eV}}let Tc=null;function tV(t){return!jy(t)||t.length<2?t:Ob(t)}function Cb(){if(Tc)return Tc;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(o,s){return tV(s)}const n=new wn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new wn("size");return i.xform=r,t.push(i),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),Tc=t,Tc}function nV(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new zn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function rV(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return nV(r,t),r}function Nb(t,e,n){const r=Pb(e);return r===null?null:rV(t,r,n)}function iV(t,e,n,r){const i=Pb(e);if(i===null||!jy(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const h=t.bucket,d=t.fullPath,f="/b/"+s(h)+"/o/"+s(d),p=qy(f,n,r),_=Ab({alt:"media",token:u});return p+_})[0]}function oV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class xb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){if(!t)throw Fy()}function sV(t,e){function n(r,i){const o=Nb(t,i,e);return Db(o!==null),o}return n}function aV(t,e){function n(r,i){const o=Nb(t,i,e);return Db(o!==null),iV(o,i,t.host,t._protocol)}return n}function Lb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=E4():i=w4():n.getStatus()===402?i=_4(t.bucket):n.getStatus()===403?i=T4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function lV(t){const e=Lb(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=v4(t.path)),o.serverResponse=i.serverResponse,o}return n}function uV(t,e,n){const r=e.fullServerUrl(),i=qy(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new xb(i,o,aV(t,n),s);return a.errorHandler=lV(e),a}function cV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=cV(null,e)),r}function hV(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let m=0;m<2;m++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=fV(e,r,i),h=oV(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=zi.getBlob(d,r,f);if(p===null)throw R4();const _={name:u.fullPath},v=qy(o,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,g=new xb(v,w,sV(t,n),y);return g.urlParams=_,g.headers=s,g.body=p.uploadData(),g.errorHandler=Lb(e),g}class dV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pV extends dV{initXhr(){this.xhr_.responseType="text"}}function Mb(){return new pV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jo(e,n)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ob(this._location.path)}get storage(){return this._service}get parent(){const e=J4(this._location.path);if(e===null)return null;const n=new zn(this._location.bucket,e);return new Jo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C4(e)}}function mV(t,e,n){t._throwIfRoot("uploadBytes");const r=hV(t.storage,t._location,Cb(),new zi(e,!0),n);return t.storage.makeRequestWithTokens(r,Mb).then(i=>({metadata:i,ref:t}))}function gV(t,e,n=pr.RAW,r){t._throwIfRoot("uploadString");const i=bb(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),mV(t,i.data,o)}function yV(t){t._throwIfRoot("getDownloadURL");const e=uV(t.storage,t._location,Cb());return t.storage.makeRequestWithTokens(e,Mb).then(n=>{if(n===null)throw P4();return n})}function vV(t,e){const n=Z4(t._location.path,e),r=new zn(t._location.bucket,n);return new Jo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return/^[A-Za-z]+:\/\//.test(t)}function wV(t,e){return new Jo(t,e)}function Vb(t,e){if(t instanceof $y){const n=t;if(n._bucket==null)throw k4();const r=new Jo(n,n._bucket);return e!=null?Vb(r,e):r}else return e!==void 0?vV(t,e):t}function EV(t,e){if(e&&_V(e)){if(t instanceof $y)return wV(t,e);throw Lm("To use ref(service, url), the first argument must be a Storage instance.")}else return Vb(t,e)}function F1(t,e){const n=e==null?void 0:e[Tb];return n==null?null:zn.makeFromBucketSpec(n,t)}function TV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sS(i,t.app.options.projectId))}class $y{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Eb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g4,this._maxUploadRetryTime=y4,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new N4(Sb());{const s=$4(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const j1="@firebase/storage",B1="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="storage";function SV(t,e,n,r){return t=Pt(t),gV(t,e,n,r)}function AV(t){return t=Pt(t),yV(t)}function bV(t,e){return t=Pt(t),EV(t,e)}function IV(t=Gg(),e){t=Pt(t);const r=yh(t,Ub).getImmediate({identifier:e}),i=rS("storage");return i&&kV(r,...i),r}function kV(t,e,n,r={}){TV(t,e,n,r)}function RV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $y(n,r,i,e,ns)}function PV(){Wo(new co(Ub,RV,"PUBLIC").setMultipleInstances(!0)),Vr(j1,B1,""),Vr(j1,B1,"esm2017")}PV();const OV={apiKey:"AIzaSyCvRTdV8LGc2dgV_KFzo3F2JikkNSIiUGs",authDomain:"ktech-blog.firebaseapp.com",projectId:"ktech-blog",storageBucket:"ktech-blog.appspot.com",messagingSenderId:"28417069508",appId:"1:28417069508:web:011e9a11e1c5ac1a7a1491",measurementId:"G-7DF5WGDF7X"},zy=uS(OV),Du=tD(zy),hi=XM(zy),CV=IV(zy),NV=()=>{const[t,e,n,r]=oD(Du);return{loading:n,error:r,signup:async o=>{if(!o.email||!o.password||!o.username||!o.fullName)return alert("Please fill all the fields"),null;try{const s=Lh(hi,"users"),a=xy(s,Dy("username","==",o.username));if(!(await Vy(a)).empty)return alert("Username already exists"),null;const u=await t(o.email,o.password);if(!u&&r)return console.log(r),null;if(console.log("User created:",u),u){const h={uid:u.user.uid,email:o.email,fullname:o.fullName,username:o.username,posts:[],createdAt:Date.now()};return await h4(ha(hi,"users",u.user.uid),h),localStorage.setItem("user-info",JSON.stringify(h)),u.user;console.log("User document set in Firestore and localStorage")}}catch(s){console.log(s)}}}},as=re.createContext(),xV=({children:t})=>{const[e,n]=re.useState(null);re.useEffect(()=>{const i=localStorage.getItem("user-info");i&&n(JSON.parse(i))},[]);const r=()=>{n(null),localStorage.removeItem("user-info")};return Z.jsx(as.Provider,{value:{currentUser:e,setCurrentUser:n,logout:r},children:t})},DV=()=>{const[t,e]=re.useState({username:"",fullName:"",email:"",password:""}),{loading:n,error:r,signup:i}=NV(),{setCurrentUser:o}=re.useContext(as),s=ts(),a=async l=>{l.preventDefault();const u=await i(t);u&&(o(u),s("/"))};return Z.jsxs("div",{className:"auth",children:[Z.jsx("h1",{children:"Register"}),Z.jsxs("form",{onSubmit:a,children:[Z.jsx("input",{required:!0,type:"text",placeholder:"username",name:"username",value:t.username,onChange:l=>e({...t,username:l.target.value})}),Z.jsx("input",{required:!0,type:"text",placeholder:"full name",value:t.fullName,onChange:l=>e({...t,fullName:l.target.value})}),Z.jsx("input",{required:!0,type:"email",placeholder:"email",value:t.email,onChange:l=>e({...t,email:l.target.value})}),Z.jsx("input",{required:!0,type:"password",placeholder:"password",value:t.password,onChange:l=>e({...t,password:l.target.value})}),r&&Z.jsxs("div",{className:"alert",children:[" ",r.message," "]}),Z.jsx("button",{type:"submit",disabled:n,children:n?"Registering...":"Register"}),Z.jsxs("span",{children:[" Do you have an account ? ",Z.jsx(En,{to:"/login",children:"Login"})]})]})]})},LV=()=>{const[t,e,n,r]=sD(Du);return{loading:n,error:r,login:async o=>{if(!o.email||!o.password){alert("Please fill all the fields");return}try{const s=await t(o.email,o.password);if(s){const a=ha(hi,"users",s.user.uid),u={...(await Dm(a)).data(),uid:s.user.uid};return localStorage.setItem("user-info",JSON.stringify(u)),u}}catch(s){alert(s.message)}}}},MV=()=>{const[t,e]=re.useState({email:"",password:""}),{loading:n,error:r,login:i}=LV(),{setCurrentUser:o}=re.useContext(as),s=ts(),a=async l=>{l.preventDefault();const u=await i(t);u&&(o(u),s("/"))};return Z.jsxs("div",{className:"auth",children:[Z.jsx("h1",{children:"Login"}),Z.jsxs("form",{onSubmit:a,children:[Z.jsx("input",{type:"text",placeholder:"email",value:t.email,onChange:l=>e({...t,email:l.target.value})}),Z.jsx("input",{type:"password",placeholder:"password",value:t.password,onChange:l=>e({...t,password:l.target.value})}),r&&Z.jsxs("div",{className:"alert",children:[" ",r.message," "]}),Z.jsx("button",{disabled:n,children:n?"Loading":"Login"}),Z.jsxs("span",{children:[" Don't you have an account ? ",Z.jsx(En,{to:"/register",children:"Register"})]})]})]})},VV=t=>{const[e,n]=re.useState([]),[r,i]=re.useState(!0),[o,s]=re.useState(null);return re.useEffect(()=>{(async()=>{i(!0);try{const l=Lh(hi,"posts");let u=l;t&&(u=xy(l,Dy("cat","==",t)));const d=(await Vy(u)).docs.map(f=>({id:f.id,...f.data()}));n(d),console.log(e)}catch(l){s(l)}finally{i(!1)}})()},[t]),{posts:e,isLoading:r,error:o}},UV=()=>{const t=ts(),e=_a(),r=new URLSearchParams(e.search).get("cat"),{posts:i,isLoading:o,error:s}=VV(r);if(o)return Z.jsx("p",{children:"Loading..."});if(s)return Z.jsxs("p",{children:["Error: ",s.message]});const a=u=>new DOMParser().parseFromString(u,"text/html").body.textContent||"",l=u=>{t(`/post/${u}`)};return Z.jsx("div",{className:"home",children:Z.jsx("div",{className:"posts",children:i.map(u=>Z.jsxs("div",{className:"post",children:[Z.jsx("div",{className:"img",children:Z.jsx("img",{src:u.imageURL,alt:""})}),Z.jsxs("div",{className:"content",children:[Z.jsx(En,{className:"link",to:`/post/${u.id}`,children:Z.jsx("h1",{children:u.title})}),Z.jsx("p",{children:a(u.desc)}),Z.jsx("button",{onClick:()=>l(u.id),children:"Read More"})]})]},u.id))})})},FV="/assets/edit-04ba7a77.png",jV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA5LTIzPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmM4Nzk5NmE5LWU4NGQtNGM3Zi1iZTRjLWM5YzBmZDc5NzAxYzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PsfwAB4AAAjrSURBVGiB1ZpdjF1VFcd//33uTD+cKbXWpgkh9YGSAIqBYBoTAhFQUWmCIUqEN/tCQjQUKvGxj0gL8yBEHsBgYoSAkggVmhhrFSKRAMKDomBAPnzipUML7cy95/x9WHvfc+50OnOnLY1dyc29555z9l7/tddae31sMQb5/vvh6FFoGpichLpOpARN0wAwMQH9/gXAdcCFwLnAeUhbsD+NBHDI9rtI7wnex/4XsJ9Vq15nbq5MJUBIMa6NgbRr17I8alkQMzMwNwcSrirJjokksC8GvgVcb9gmmMxMUxhBcv4dN+K98kQfeBF4Bvt3SK/l/xMAVdU4JTQ3h+666+SAePdumJ5myFjTVECdmfsysBO4AZgozxgGsm1IAlkqwDFYYNtWSFxArwA2NMA+wQxwEMBSpaaphwJYswbddtv4QDwzg+s6bkrClqGRdC72PcDNlsrLg3w/KaQtwBnc6Pi26TzjeKDJq9YbrpT0a+y7kN4GEk3jLAioKnTHHcsD8d69RSUAUtFXw02CB7A/g2Ts2lCpjBP/BfBxKYAJZwRSTahVwj4M/MD2L7JAE7FqWCLdeefIUGlREDFHomkaVxXYDwgeyyD6meHekOci/ZWAiPfU+Q12D1vYfaRppEeU0sNZrRugMiCbZs+e0aGGIB58EI4caQGGR/qUU3pC8A2kOoOsTkr6Y5DByuPabgTOzP9JcIPtQ0iVoEaCuh46gXZFDh/GAHYsoT1FSgcziD52QqpiPk47CADFqgJYUnLw15d0FfAX4LMKlU7YuKqG7yYA33svhPEKaJicrKiqfcDlSPPYE0NdDgCnHcQoHpS9G8AEMA9cKOlp7NUKNdOQd0DesyfsImwhjNt+CGkH0M8gPhFVWo6cV1+2LM3LngSeAL6LLVIydY1T6qiWXQzq+8AOwq32hhvYSkG0m97S/y1BAmWbsUKgA+A7wE6HcCtSQkCiriElAbUjtJjJzKcF6rQyEOWVwSA+sHBXHxON1BFkEfzdki5AqrNbJlFV8VDYyE+w1xGhQ1oSxFIMFYb7fdi0CTZujN9dgCsbTwZn4Q6QJrHvHr4n0aN1tduQbsn20BvGSMtRYazdleO7ruGaa2DrVkgJXn8dDh6MAHMh490xTgC0qBh2lTfpb9u+WnAAu+p1Qo3b8zs1ES4svRpF6vPzo8wUEOvXw+bN8MgjETFv3w5r18KHH4ZjWUi9XjvmYtMGLzmqoSbiuduBA0Cj7L4uBv4GTAzjoeVcbPF0l14aqrOQqipWooToq1cHwMFgdAWqKsC98ELcX94chx404lO+JHi5RJ83WprAHkiqltTlLpDJSbjiisUlvFJ65ZWILJYbq1XJgSJ63g683CMc0/Zh8JfD7mVJgmPH4MAB2LAB1qwZ9UpSfHLuRUpxr3vfjoRtdjbGSmnxuUbnFTaxXwrs61izZncP+3xJl+RVSLR6uLRUCtiXXgoD3rEDVq0aNXYI3YfWBYeXDIBzc/Dww+HRyrtjaEPeKAvqyzh69KIe9lVEZlcP947lpdJOODkZ+j89HUwfOhTfU1Px7OxsPLduXVx/9FEA2LAh3i0ruVBAS04/DP0HRAhzbQK+mO8P45exqDt507QrsH8/PPdc+9zzz8d/i13Xdby70HWPN786jumihLS17OQed+9YiopnKlQ2xkLz8yvf3RejWJGiXlsS9vn5IuKaU6Vi5Av/W+z3qc7TatDnEnBOuXVaotvTIYzxSC6hPGxJwPSZmvl0k/KmKGlNcbdnLRUVSsCHcJaiaaswxxIwC6CIYc4mPKaV/38S0lvlhs9sJnvK5BbIGwn7TWwsNSr12bOBgtccyPFWAl4DUNhLd7n+n8lIVrF16Y0E/Jkot0T8fDaYSYmipR72Mdu/T6xd+ybwMhAV8TNc8jkpihy+qNWLWr3634mPPwZ4atjLsE/Ne42by5wseZiMOGvPsxw7Ngy6niZnXD7ViUpE271eWGjoBpUrpZa3XvZa+wF6OZn6O/ZvsG/KeUmPMKjxEHUDxSuvjCSp0LZto8C2bYucZOF741EkfdIAuyfpGTfNqwL1OtKaIXogFW2jZvlsEdpsb2ICtmyJ/0p+snnz6PXGjfEp4f34WlxUyaUoh31flnXqEUaTgL8Cv8K+OVffJzqATkwpBUOPPtpWSrqSLh6m5OPd634/8pNxVyWCxGICTymlA7mfUpfabobKjwXXA+tyqy15mOUvJqNOZjc7G2nuSkgKQMvn6i4boKSe7aOSdmWVFYOBU05VTbTR3gN2ErFY05YqTrBJLqxP9Xor+5RCxDggIu0rxnYn8CbRr2lIiQKk27/7OfBQLpsO8mrJS4E51a3nxPVgd373cx3rl4KfEaWruhRA2mZJZ5mYmxNTU/uQvondJ7xbt2R5JsiZWWeBTiAdpKq+TtPMZ9uI3WLXrk4PsTQXpWj2TE5WzM8/i/1Vh/H3RO7e5ic/GfZHW9i0JZ/nqapraZo5QnMabJRPRbSlvelhxttgJ+bna6amvob0mOyJiAqo8wT4k8hdwrMUELXjhMWE4bc0zdUjIGCkvDoEoltvZbirh6EnHzkCTfM9YC+lGZrb06VIdkLbWSEAWlUCqY9Uya6wH9CqVTeQUn8EREpo587hEMeph2dm2s0L5CNHzPQ0sq8H7ge25KUfODxd8SilmboyAKOnJUpLA+C/wA+RnqRpIKUWREelCh1XNdbOnVBVpVVtpqaieAf7SOkLSPfYHhAHBmSpb7tRbHReIOHjWF/wDLabvAIiDgwA/NT2xdhPEqcvhtGuB4PjQMASEvTjj8M774CEJyfR3FyVJQbweeBHwC3EAYKyF9TYJVIQ5L55a05xpqR1GN1DNVZ0bO8mejUQhwVqVVV41cOH0e7di/K7rCo0992Hiqq1Dck6q9JlSDdifwW4nM5JoVYii2x2nR4H8CrwB+BJ7Bfzs7HRldU7wUGaFQGJeQ1798IHH+BNmyItDkmHzq5fD7OzWzOgy4gO2BbgHKRp2wiOOCo27yL9Q/Yr2H/k/ff/yXnnlalC1S+5pOHtt6Pxs8QqdOl/NxTJGDuGck8AAAAASUVORK5CYII=",BV=({relatedPosts:t})=>Z.jsxs("div",{className:"menu",children:[Z.jsx("h1",{children:"Other posts you may like"}),t.map(e=>Z.jsxs("div",{className:"post",children:[e.imageURL&&Z.jsx("img",{src:e.imageURL,alt:e.title}),Z.jsx("h2",{children:e.title}),Z.jsx(En,{to:`/post/${e.id}`,children:Z.jsx("button",{children:"Read More"})})]},e.id))]});var qV=["second","minute","hour","day","week","month","year"];function $V(t,e){if(e===0)return["just now","right now"];var n=qV[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]}var zV=["","","","","","",""];function HV(t,e){if(e===0)return["",""];var n=zV[~~(e/2)];return[t+" "+n+"",t+" "+n+""]}var Mm={},Fb=function(t,e){Mm[t]=e},WV=function(t){return Mm[t]||Mm.en_US},op=[60,60,24,7,365/7/12,12];function q1(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function YV(t,e){var n=t<0?1:0;t=Math.abs(t);for(var r=t,i=0;t>=op[i]&&i<op.length;i++)t/=op[i];return t=Math.floor(t),i*=2,t>(i===0?9:1)&&(i+=1),e(t,i,r)[n].replace("%s",t.toString())}function GV(t,e){var n=e?q1(e):new Date;return(+n-+q1(t))/1e3}var KV=function(t,e,n){var r=GV(t,n&&n.relativeDate);return YV(r,WV(e))};Fb("en_US",$V);Fb("zh_CN",HV);const QV=()=>{const t=f=>new DOMParser().parseFromString(f,"text/html").body.textContent||"",{id:e}=MO(),[n,r]=re.useState(null),[i,o]=re.useState(null),[s,a]=re.useState([]),[l,u]=re.useState(!0),[h,d]=re.useState(null);return re.useEffect(()=>{(async()=>{try{const p=ha(hi,"posts",e),_=await Dm(p);if(_.exists()){const v={id:_.id,..._.data()};r(v);const w=ha(hi,"users",v.createdBy),y=await Dm(w);if(y.exists())o(y.data());else throw new Error("User not found");const g=xy(Lh(hi,"posts"),Dy("cat","==",v.cat),l4(3)),m=(await Vy(g)).docs.filter(k=>k.id!==e).map(k=>({id:k.id,...k.data()}));a(m)}else throw new Error("Post not found")}catch(p){d(p)}finally{u(!1)}})()},[e]),l?Z.jsx("p",{children:"Loading..."}):h?Z.jsxs("p",{children:["Error: ",h.message]}):n?Z.jsxs("div",{className:"single",children:[Z.jsxs("div",{className:"content",children:[n.imageURL&&Z.jsx("img",{src:n.imageURL,alt:n.title}),Z.jsxs("div",{className:"user",children:[Z.jsx("img",{src:"https://images.pexels.com/photos/7008010/pexels-photo-7008010.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:""}),Z.jsxs("div",{className:"info",children:[Z.jsxs("span",{children:[" ",i?i.username:"Unknown user"," "]}),Z.jsxs("p",{children:["Posted ",KV(n.createdAt)," "]})]}),Z.jsxs("div",{className:"edit",children:[Z.jsx(En,{to:`/write?edit=${n.id}`,children:Z.jsx("img",{src:FV,alt:""})}),Z.jsx("img",{src:jV,alt:""})]})]}),Z.jsxs("h1",{children:[" ",n.title," "]}),Z.jsxs("p",{children:[" ",t(n.desc)," "]})]}),Z.jsx(BV,{relatedPosts:s})]}):Z.jsx("p",{children:"No post found"})};function XV(){this.__data__=[],this.size=0}var JV=XV;function ZV(t,e){return t===e||t!==t&&e!==e}var jb=ZV,eU=jb;function tU(t,e){for(var n=t.length;n--;)if(eU(t[n][0],e))return n;return-1}var qh=tU,nU=qh,rU=Array.prototype,iU=rU.splice;function oU(t){var e=this.__data__,n=nU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iU.call(e,n,1),--this.size,!0}var sU=oU,aU=qh;function lU(t){var e=this.__data__,n=aU(e,t);return n<0?void 0:e[n][1]}var uU=lU,cU=qh;function fU(t){return cU(this.__data__,t)>-1}var hU=fU,dU=qh;function pU(t,e){var n=this.__data__,r=dU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mU=pU,gU=JV,yU=sU,vU=uU,_U=hU,wU=mU;function Ia(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ia.prototype.clear=gU;Ia.prototype.delete=yU;Ia.prototype.get=vU;Ia.prototype.has=_U;Ia.prototype.set=wU;var $h=Ia,EU=$h;function TU(){this.__data__=new EU,this.size=0}var SU=TU;function AU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var bU=AU;function IU(t){return this.__data__.get(t)}var kU=IU;function RU(t){return this.__data__.has(t)}var PU=RU,OU=typeof Bn=="object"&&Bn&&Bn.Object===Object&&Bn,Bb=OU,CU=Bb,NU=typeof self=="object"&&self&&self.Object===Object&&self,xU=CU||NU||Function("return this")(),ki=xU,DU=ki,LU=DU.Symbol,Hy=LU,$1=Hy,qb=Object.prototype,MU=qb.hasOwnProperty,VU=qb.toString,ol=$1?$1.toStringTag:void 0;function UU(t){var e=MU.call(t,ol),n=t[ol];try{t[ol]=void 0;var r=!0}catch{}var i=VU.call(t);return r&&(e?t[ol]=n:delete t[ol]),i}var FU=UU,jU=Object.prototype,BU=jU.toString;function qU(t){return BU.call(t)}var $U=qU,z1=Hy,zU=FU,HU=$U,WU="[object Null]",YU="[object Undefined]",H1=z1?z1.toStringTag:void 0;function GU(t){return t==null?t===void 0?YU:WU:H1&&H1 in Object(t)?zU(t):HU(t)}var zh=GU;function KU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $b=KU,QU=zh,XU=$b,JU="[object AsyncFunction]",ZU="[object Function]",eF="[object GeneratorFunction]",tF="[object Proxy]";function nF(t){if(!XU(t))return!1;var e=QU(t);return e==ZU||e==eF||e==JU||e==tF}var zb=nF,rF=ki,iF=rF["__core-js_shared__"],oF=iF,sp=oF,W1=function(){var t=/[^.]+$/.exec(sp&&sp.keys&&sp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sF(t){return!!W1&&W1 in t}var aF=sF,lF=Function.prototype,uF=lF.toString;function cF(t){if(t!=null){try{return uF.call(t)}catch{}try{return t+""}catch{}}return""}var Hb=cF,fF=zb,hF=aF,dF=$b,pF=Hb,mF=/[\\^$.*+?()[\]{}|]/g,gF=/^\[object .+?Constructor\]$/,yF=Function.prototype,vF=Object.prototype,_F=yF.toString,wF=vF.hasOwnProperty,EF=RegExp("^"+_F.call(wF).replace(mF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TF(t){if(!dF(t)||hF(t))return!1;var e=fF(t)?EF:gF;return e.test(pF(t))}var SF=TF;function AF(t,e){return t==null?void 0:t[e]}var bF=AF,IF=SF,kF=bF;function RF(t,e){var n=kF(t,e);return IF(n)?n:void 0}var ka=RF,PF=ka,OF=ki,CF=PF(OF,"Map"),Wy=CF,NF=ka,xF=NF(Object,"create"),Hh=xF,Y1=Hh;function DF(){this.__data__=Y1?Y1(null):{},this.size=0}var LF=DF;function MF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var VF=MF,UF=Hh,FF="__lodash_hash_undefined__",jF=Object.prototype,BF=jF.hasOwnProperty;function qF(t){var e=this.__data__;if(UF){var n=e[t];return n===FF?void 0:n}return BF.call(e,t)?e[t]:void 0}var $F=qF,zF=Hh,HF=Object.prototype,WF=HF.hasOwnProperty;function YF(t){var e=this.__data__;return zF?e[t]!==void 0:WF.call(e,t)}var GF=YF,KF=Hh,QF="__lodash_hash_undefined__";function XF(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=KF&&e===void 0?QF:e,this}var JF=XF,ZF=LF,e3=VF,t3=$F,n3=GF,r3=JF;function Ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ra.prototype.clear=ZF;Ra.prototype.delete=e3;Ra.prototype.get=t3;Ra.prototype.has=n3;Ra.prototype.set=r3;var i3=Ra,G1=i3,o3=$h,s3=Wy;function a3(){this.size=0,this.__data__={hash:new G1,map:new(s3||o3),string:new G1}}var l3=a3;function u3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var c3=u3,f3=c3;function h3(t,e){var n=t.__data__;return f3(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Wh=h3,d3=Wh;function p3(t){var e=d3(this,t).delete(t);return this.size-=e?1:0,e}var m3=p3,g3=Wh;function y3(t){return g3(this,t).get(t)}var v3=y3,_3=Wh;function w3(t){return _3(this,t).has(t)}var E3=w3,T3=Wh;function S3(t,e){var n=T3(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var A3=S3,b3=l3,I3=m3,k3=v3,R3=E3,P3=A3;function Pa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pa.prototype.clear=b3;Pa.prototype.delete=I3;Pa.prototype.get=k3;Pa.prototype.has=R3;Pa.prototype.set=P3;var Wb=Pa,O3=$h,C3=Wy,N3=Wb,x3=200;function D3(t,e){var n=this.__data__;if(n instanceof O3){var r=n.__data__;if(!C3||r.length<x3-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new N3(r)}return n.set(t,e),this.size=n.size,this}var L3=D3,M3=$h,V3=SU,U3=bU,F3=kU,j3=PU,B3=L3;function Oa(t){var e=this.__data__=new M3(t);this.size=e.size}Oa.prototype.clear=V3;Oa.prototype.delete=U3;Oa.prototype.get=F3;Oa.prototype.has=j3;Oa.prototype.set=B3;var q3=Oa,$3="__lodash_hash_undefined__";function z3(t){return this.__data__.set(t,$3),this}var H3=z3;function W3(t){return this.__data__.has(t)}var Y3=W3,G3=Wb,K3=H3,Q3=Y3;function Ff(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new G3;++e<n;)this.add(t[e])}Ff.prototype.add=Ff.prototype.push=K3;Ff.prototype.has=Q3;var X3=Ff;function J3(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Z3=J3;function ej(t,e){return t.has(e)}var tj=ej,nj=X3,rj=Z3,ij=tj,oj=1,sj=2;function aj(t,e,n,r,i,o){var s=n&oj,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=n&sj?new nj:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var _=t[d],v=e[d];if(r)var w=s?r(v,_,d,e,t,o):r(_,v,d,t,e,o);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!rj(e,function(y,g){if(!ij(p,g)&&(_===y||i(_,y,n,r,o)))return p.push(g)})){f=!1;break}}else if(!(_===v||i(_,v,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Yb=aj,lj=ki,uj=lj.Uint8Array,cj=uj;function fj(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var hj=fj;function dj(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pj=dj,K1=Hy,Q1=cj,mj=jb,gj=Yb,yj=hj,vj=pj,_j=1,wj=2,Ej="[object Boolean]",Tj="[object Date]",Sj="[object Error]",Aj="[object Map]",bj="[object Number]",Ij="[object RegExp]",kj="[object Set]",Rj="[object String]",Pj="[object Symbol]",Oj="[object ArrayBuffer]",Cj="[object DataView]",X1=K1?K1.prototype:void 0,ap=X1?X1.valueOf:void 0;function Nj(t,e,n,r,i,o,s){switch(n){case Cj:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Oj:return!(t.byteLength!=e.byteLength||!o(new Q1(t),new Q1(e)));case Ej:case Tj:case bj:return mj(+t,+e);case Sj:return t.name==e.name&&t.message==e.message;case Ij:case Rj:return t==e+"";case Aj:var a=yj;case kj:var l=r&_j;if(a||(a=vj),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=wj,s.set(t,e);var h=gj(a(t),a(e),r,i,o,s);return s.delete(t),h;case Pj:if(ap)return ap.call(t)==ap.call(e)}return!1}var xj=Nj;function Dj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Lj=Dj,Mj=Array.isArray,Yy=Mj,Vj=Lj,Uj=Yy;function Fj(t,e,n){var r=e(t);return Uj(t)?r:Vj(r,n(t))}var jj=Fj;function Bj(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var qj=Bj;function $j(){return[]}var zj=$j,Hj=qj,Wj=zj,Yj=Object.prototype,Gj=Yj.propertyIsEnumerable,J1=Object.getOwnPropertySymbols,Kj=J1?function(t){return t==null?[]:(t=Object(t),Hj(J1(t),function(e){return Gj.call(t,e)}))}:Wj,Qj=Kj;function Xj(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jj=Xj;function Zj(t){return t!=null&&typeof t=="object"}var Yh=Zj,e6=zh,t6=Yh,n6="[object Arguments]";function r6(t){return t6(t)&&e6(t)==n6}var i6=r6,Z1=i6,o6=Yh,Gb=Object.prototype,s6=Gb.hasOwnProperty,a6=Gb.propertyIsEnumerable,l6=Z1(function(){return arguments}())?Z1:function(t){return o6(t)&&s6.call(t,"callee")&&!a6.call(t,"callee")},u6=l6,jf={exports:{}};function c6(){return!1}var f6=c6;jf.exports;(function(t,e){var n=ki,r=f6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(jf,jf.exports);var Kb=jf.exports,h6=9007199254740991,d6=/^(?:0|[1-9]\d*)$/;function p6(t,e){var n=typeof t;return e=e??h6,!!e&&(n=="number"||n!="symbol"&&d6.test(t))&&t>-1&&t%1==0&&t<e}var m6=p6,g6=9007199254740991;function y6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=g6}var Qb=y6,v6=zh,_6=Qb,w6=Yh,E6="[object Arguments]",T6="[object Array]",S6="[object Boolean]",A6="[object Date]",b6="[object Error]",I6="[object Function]",k6="[object Map]",R6="[object Number]",P6="[object Object]",O6="[object RegExp]",C6="[object Set]",N6="[object String]",x6="[object WeakMap]",D6="[object ArrayBuffer]",L6="[object DataView]",M6="[object Float32Array]",V6="[object Float64Array]",U6="[object Int8Array]",F6="[object Int16Array]",j6="[object Int32Array]",B6="[object Uint8Array]",q6="[object Uint8ClampedArray]",$6="[object Uint16Array]",z6="[object Uint32Array]",ht={};ht[M6]=ht[V6]=ht[U6]=ht[F6]=ht[j6]=ht[B6]=ht[q6]=ht[$6]=ht[z6]=!0;ht[E6]=ht[T6]=ht[D6]=ht[S6]=ht[L6]=ht[A6]=ht[b6]=ht[I6]=ht[k6]=ht[R6]=ht[P6]=ht[O6]=ht[C6]=ht[N6]=ht[x6]=!1;function H6(t){return w6(t)&&_6(t.length)&&!!ht[v6(t)]}var W6=H6;function Y6(t){return function(e){return t(e)}}var G6=Y6,Bf={exports:{}};Bf.exports;(function(t,e){var n=Bb,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Bf,Bf.exports);var K6=Bf.exports,Q6=W6,X6=G6,ew=K6,tw=ew&&ew.isTypedArray,J6=tw?X6(tw):Q6,Xb=J6,Z6=Jj,e5=u6,t5=Yy,n5=Kb,r5=m6,i5=Xb,o5=Object.prototype,s5=o5.hasOwnProperty;function a5(t,e){var n=t5(t),r=!n&&e5(t),i=!n&&!r&&n5(t),o=!n&&!r&&!i&&i5(t),s=n||r||i||o,a=s?Z6(t.length,String):[],l=a.length;for(var u in t)(e||s5.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r5(u,l)))&&a.push(u);return a}var l5=a5,u5=Object.prototype;function c5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||u5;return t===n}var f5=c5;function h5(t,e){return function(n){return t(e(n))}}var d5=h5,p5=d5,m5=p5(Object.keys,Object),g5=m5,y5=f5,v5=g5,_5=Object.prototype,w5=_5.hasOwnProperty;function E5(t){if(!y5(t))return v5(t);var e=[];for(var n in Object(t))w5.call(t,n)&&n!="constructor"&&e.push(n);return e}var T5=E5,S5=zb,A5=Qb;function b5(t){return t!=null&&A5(t.length)&&!S5(t)}var I5=b5,k5=l5,R5=T5,P5=I5;function O5(t){return P5(t)?k5(t):R5(t)}var C5=O5,N5=jj,x5=Qj,D5=C5;function L5(t){return N5(t,D5,x5)}var M5=L5,nw=M5,V5=1,U5=Object.prototype,F5=U5.hasOwnProperty;function j5(t,e,n,r,i,o){var s=n&V5,a=nw(t),l=a.length,u=nw(e),h=u.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:F5.call(e,f)))return!1}var p=o.get(t),_=o.get(e);if(p&&_)return p==e&&_==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=s;++d<l;){f=a[d];var y=t[f],g=e[f];if(r)var E=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(!(E===void 0?y===g||i(y,g,n,r,o):E)){v=!1;break}w||(w=f=="constructor")}if(v&&!w){var m=t.constructor,k=e.constructor;m!=k&&"constructor"in t&&"constructor"in e&&!(typeof m=="function"&&m instanceof m&&typeof k=="function"&&k instanceof k)&&(v=!1)}return o.delete(t),o.delete(e),v}var B5=j5,q5=ka,$5=ki,z5=q5($5,"DataView"),H5=z5,W5=ka,Y5=ki,G5=W5(Y5,"Promise"),K5=G5,Q5=ka,X5=ki,J5=Q5(X5,"Set"),Z5=J5,e9=ka,t9=ki,n9=e9(t9,"WeakMap"),r9=n9,Vm=H5,Um=Wy,Fm=K5,jm=Z5,Bm=r9,Jb=zh,Ca=Hb,rw="[object Map]",i9="[object Object]",iw="[object Promise]",ow="[object Set]",sw="[object WeakMap]",aw="[object DataView]",o9=Ca(Vm),s9=Ca(Um),a9=Ca(Fm),l9=Ca(jm),u9=Ca(Bm),ko=Jb;(Vm&&ko(new Vm(new ArrayBuffer(1)))!=aw||Um&&ko(new Um)!=rw||Fm&&ko(Fm.resolve())!=iw||jm&&ko(new jm)!=ow||Bm&&ko(new Bm)!=sw)&&(ko=function(t){var e=Jb(t),n=e==i9?t.constructor:void 0,r=n?Ca(n):"";if(r)switch(r){case o9:return aw;case s9:return rw;case a9:return iw;case l9:return ow;case u9:return sw}return e});var c9=ko,lp=q3,f9=Yb,h9=xj,d9=B5,lw=c9,uw=Yy,cw=Kb,p9=Xb,m9=1,fw="[object Arguments]",hw="[object Array]",Sc="[object Object]",g9=Object.prototype,dw=g9.hasOwnProperty;function y9(t,e,n,r,i,o){var s=uw(t),a=uw(e),l=s?hw:lw(t),u=a?hw:lw(e);l=l==fw?Sc:l,u=u==fw?Sc:u;var h=l==Sc,d=u==Sc,f=l==u;if(f&&cw(t)){if(!cw(e))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new lp),s||p9(t)?f9(t,e,n,r,i,o):h9(t,e,l,n,r,i,o);if(!(n&m9)){var p=h&&dw.call(t,"__wrapped__"),_=d&&dw.call(e,"__wrapped__");if(p||_){var v=p?t.value():t,w=_?e.value():e;return o||(o=new lp),i(v,w,n,r,o)}}return f?(o||(o=new lp),d9(t,e,n,r,i,o)):!1}var v9=y9,_9=v9,pw=Yh;function Zb(t,e,n,r,i){return t===e?!0:t==null||e==null||!pw(t)&&!pw(e)?t!==t&&e!==e:_9(t,e,n,r,Zb,i)}var w9=Zb,E9=w9;function T9(t,e){return E9(t,e)}var S9=T9,eI={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Bn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),h=i(47),d=i(48),f=i(49),p=i(12),_=i(32),v=i(33),w=i(31),y=i(1),g={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:p.default,Class:_.default,Style:v.default,Store:w.default}};r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var E in g)g.hasOwnProperty(E)&&(y[E]=g[E])};return function(y,g){w(y,g);function E(){this.constructor=y}y.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(y,w);function y(g){var E=this;return g="[Parchment] "+g,E=w.call(this,g)||this,E.message=g,E.name=E.constructor.name,E}return y}(Error);r.ParchmentError=s;var a={},l={},u={},h={};r.DATA_KEY="__blot";var d;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(w,y){var g=_(w);if(g==null)throw new s("Unable to create "+w+" blot");var E=g,m=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(y);return new E(m,y)}r.create=f;function p(w,y){return y===void 0&&(y=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:y?p(w.parentNode,y):null}r.find=p;function _(w,y){y===void 0&&(y=d.ANY);var g;if(typeof w=="string")g=h[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)g=h.text;else if(typeof w=="number")w&d.LEVEL&d.BLOCK?g=h.block:w&d.LEVEL&d.INLINE&&(g=h.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var m in E)if(g=l[E[m]],g)break;g=g||u[w.tagName]}return g==null?null:y&d.LEVEL&g.scope&&y&d.TYPE&g.scope?g:null}r.query=_;function v(){for(var w=[],y=0;y<arguments.length;y++)w[y]=arguments[y];if(w.length>1)return w.map(function(m){return v(m)});var g=w[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(h[g.blotName||g.attrName]=g,typeof g.keyName=="string")a[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(m){return m.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var E=Array.isArray(g.tagName)?g.tagName:[g.tagName];E.forEach(function(m){(u[m]==null||g.className==null)&&(u[m]=g)})}return g}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var p={};return d.length===0?this:(p.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var p={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},h.prototype.push=function(d){var f=this.ops.length,p=this.ops[f-1];if(d=a(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(d),this;if(s(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],p=[];return this.forEach(function(_){var v=d(_)?f:p;v.push(_)}),[f,p]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+l.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+l.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var p=[],_=l.iterator(this.ops),v=0;v<f&&_.hasNext();){var w;v<d?w=_.next(d-v):(w=_.next(f-v),p.push(w)),v+=l.length(w)}return new h(p)},h.prototype.compose=function(d){var f=l.iterator(this.ops),p=l.iterator(d.ops),_=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var w=v.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),_.push(f.next());v.retain-w>0&&p.next(v.retain-w)}for(var y=new h(_);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(f.peekType()==="delete")y.push(f.next());else{var g=Math.min(f.peekLength(),p.peekLength()),E=f.next(g),m=p.next(g);if(typeof m.retain=="number"){var k={};typeof E.retain=="number"?k.retain=g:k.insert=E.insert;var N=l.attributes.compose(E.attributes,m.attributes,typeof E.retain=="number");if(N&&(k.attributes=N),y.push(k),!p.hasNext()&&s(y.ops[y.ops.length-1],k)){var S=new h(f.rest());return y.concat(S).chop()}}else typeof m.delete=="number"&&typeof E.retain=="number"&&y.push(m)}return y.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var p=[this,d].map(function(g){return g.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;var m=g===d?"on":"with";throw new Error("diff() called "+m+" non-document")}).join("")}),_=new h,v=o(p[0],p[1],f),w=l.iterator(this.ops),y=l.iterator(d.ops);return v.forEach(function(g){for(var E=g[1].length;E>0;){var m=0;switch(g[0]){case o.INSERT:m=Math.min(y.peekLength(),E),_.push(y.next(m));break;case o.DELETE:m=Math.min(E,w.peekLength()),w.next(m),_.delete(m);break;case o.EQUAL:m=Math.min(w.peekLength(),y.peekLength(),E);var k=w.next(m),N=y.next(m);s(k.insert,N.insert)?_.retain(m,l.attributes.diff(k.attributes,N.attributes)):_.push(N).delete(m);break}E-=m}}),_.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var p=l.iterator(this.ops),_=new h,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),y=l.length(w)-p.peekLength(),g=typeof w.insert=="string"?w.insert.indexOf(f,y)-y:-1;if(g<0)_.push(p.next());else if(g>0)_.push(p.next(g));else{if(d(_,p.next(1).attributes||{},v)===!1)return;v+=1,_=new h}}_.length()>0&&d(_,{},v)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var p=l.iterator(this.ops),_=l.iterator(d.ops),v=new h;p.hasNext()||_.hasNext();)if(p.peekType()==="insert"&&(f||_.peekType()!=="insert"))v.retain(l.length(p.next()));else if(_.peekType()==="insert")v.push(_.next());else{var w=Math.min(p.peekLength(),_.peekLength()),y=p.next(w),g=_.next(w);if(y.delete)continue;g.delete?v.push(g):v.retain(w,l.attributes.transform(y.attributes,g.attributes,f))}return v.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var p=l.iterator(this.ops),_=0;p.hasNext()&&_<=d;){var v=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){d-=Math.min(v,d-_);continue}else w==="insert"&&(_<d||!f)&&(d+=v);_+=v}return d},n.exports=h},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},u=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var _=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!v)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},h=function(p,_){s&&_.name==="__proto__"?s(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},d=function(p,_){if(_==="__proto__")if(i.call(p,_)){if(a)return a(p,_).value}else return;return p[_]};n.exports=function f(){var p,_,v,w,y,g,E=arguments[0],m=1,k=arguments.length,N=!1;for(typeof E=="boolean"&&(N=E,E=arguments[1]||{},m=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});m<k;++m)if(p=arguments[m],p!=null)for(_ in p)v=d(E,_),w=d(p,_),E!==w&&(N&&w&&(u(w)||(y=l(w)))?(y?(y=!1,g=v&&l(v)?v:[]):g=v&&u(v)?v:{},h(E,{name:_,newValue:f(N,g,w)})):typeof w<"u"&&h(E,{name:_,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function I(R,P){for(var L=0;L<P.length;L++){var j=P[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}return function(R,P,L){return P&&I(R.prototype,P),L&&I(R,L),R}}(),s=function I(R,P,L){R===null&&(R=Function.prototype);var j=Object.getOwnPropertyDescriptor(R,P);if(j===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:I(H,P,L)}else{if("value"in j)return j.value;var W=j.get;return W===void 0?void 0:W.call(L)}},a=i(3),l=E(a),u=i(2),h=E(u),d=i(0),f=E(d),p=i(16),_=E(p),v=i(6),w=E(v),y=i(7),g=E(y);function E(I){return I&&I.__esModule?I:{default:I}}function m(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function k(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function N(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var S=1,T=function(I){N(R,I);function R(){return m(this,R),k(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,j){var H=f.default.query(L,f.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,j)}},{key:"formatAt",value:function(L,j,H,W){this.format(H,W)}},{key:"insertAt",value:function(L,j,H){if(typeof j=="string"&&j.endsWith(`
`)){var W=f.default.create(O.blotName);this.parent.insertBefore(W,L===0?this:this.next),W.insertAt(0,j.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,j,H)}}]),R}(f.default.Embed);T.scope=f.default.Scope.BLOCK_BLOT;var O=function(I){N(R,I);function R(P){m(this,R);var L=k(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(L,j){return j.length()===0?L:L.insert(j.value(),b(j))},new h.default).insert(`
`,b(this))),this.cache.delta}},{key:"deleteAt",value:function(L,j){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,j),this.cache={}}},{key:"formatAt",value:function(L,j,H,W){j<=0||(f.default.query(H,f.default.Scope.BLOCK)?L+j===this.length()&&this.format(H,W):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(j,this.length()-L-1),H,W),this.cache={})}},{key:"insertAt",value:function(L,j,H){if(H!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,j,H);if(j.length!==0){var W=j.split(`
`),Y=W.shift();Y.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var B=this;W.reduce(function(U,x){return B=B.split(U,!0),B.insertAt(0,x),x.length},L+Y.length)}}},{key:"insertBefore",value:function(L,j){var H=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,j),H instanceof _.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,j){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,j),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j&&(L===0||L>=this.length()-S)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var W=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,j);return this.cache={},W}}}]),R}(f.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[w.default,f.default.Embed,g.default];function b(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(R=(0,l.default)(R,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?R:b(I.parent,R)}r.bubbleFormats=b,r.BlockEmbed=T,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(U,x){var M=[],F=!0,$=!1,z=void 0;try{for(var V=U[Symbol.iterator](),q;!(F=(q=V.next()).done)&&(M.push(q.value),!(x&&M.length===x));F=!0);}catch(K){$=!0,z=K}finally{try{!F&&V.return&&V.return()}finally{if($)throw z}}return M}return function(U,x){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return B(U,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(U,x){for(var M=0;M<x.length;M++){var F=x[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(U,F.key,F)}}return function(U,x,M){return x&&B(U.prototype,x),M&&B(U,M),U}}();i(50);var l=i(2),u=b(l),h=i(14),d=b(h),f=i(8),p=b(f),_=i(9),v=b(_),w=i(0),y=b(w),g=i(15),E=b(g),m=i(3),k=b(m),N=i(10),S=b(N),T=i(34),O=b(T);function b(B){return B&&B.__esModule?B:{default:B}}function I(B,U,x){return U in B?Object.defineProperty(B,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):B[U]=x,B}function R(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}var P=(0,S.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(x){x===!0&&(x="log"),S.default.level(x)}},{key:"find",value:function(x){return x.__quill||y.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&P.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,M){var F=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var z=x.attrName||x.blotName;typeof z=="string"?this.register("formats/"+z,x,M):Object.keys(x).forEach(function(V){F.register(V,x[V],M)})}else this.imports[x]!=null&&!$&&P.warn("Overwriting "+x+" with",M),this.imports[x]=M,(x.startsWith("blots/")||x.startsWith("formats/"))&&M.blotName!=="abstract"?y.default.register(M):x.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(U){var x=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,B),this.options=j(U,M),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",U);this.options.debug&&B.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(z){z===p.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(z,V){var q=x.selection.lastRange,K=q&&q.length===0?q.index:void 0;H.call(x,function(){return x.editor.update(null,V,K)},z)});var $=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents($),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var F=x;x=document.createElement("div"),x.classList.add(F)}return this.container.insertBefore(x,M),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,M,F){var $=this,z=W(x,M,F),V=s(z,4);return x=V[0],M=V[1],F=V[3],H.call(this,function(){return $.editor.deleteText(x,M)},F,x,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,M){var F=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var z=F.getSelection(!0),V=new u.default;if(z==null)return V;if(y.default.query(x,y.default.Scope.BLOCK))V=F.editor.formatLine(z.index,z.length,I({},x,M));else{if(z.length===0)return F.selection.format(x,M),V;V=F.editor.formatText(z.index,z.length,I({},x,M))}return F.setSelection(z,p.default.sources.SILENT),V},$)}},{key:"formatLine",value:function(x,M,F,$,z){var V=this,q=void 0,K=W(x,M,F,$,z),Q=s(K,4);return x=Q[0],M=Q[1],q=Q[2],z=Q[3],H.call(this,function(){return V.editor.formatLine(x,M,q)},z,x,0)}},{key:"formatText",value:function(x,M,F,$,z){var V=this,q=void 0,K=W(x,M,F,$,z),Q=s(K,4);return x=Q[0],M=Q[1],q=Q[2],z=Q[3],H.call(this,function(){return V.editor.formatText(x,M,q)},z,x,0)}},{key:"getBounds",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof x=="number"?F=this.selection.getBounds(x,M):F=this.selection.getBounds(x.index,x.length);var $=this.container.getBoundingClientRect();return{bottom:F.bottom-$.top,height:F.height,left:F.left-$.left,right:F.right-$.left,top:F.top-$.top,width:F.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,F=W(x,M),$=s(F,2);return x=$[0],M=$[1],this.editor.getContents(x,M)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,M):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,M)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,F=W(x,M),$=s(F,2);return x=$[0],M=$[1],this.editor.getText(x,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,M,F){var $=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return H.call(this,function(){return $.editor.insertEmbed(x,M,F)},z,x)}},{key:"insertText",value:function(x,M,F,$,z){var V=this,q=void 0,K=W(x,0,F,$,z),Q=s(K,4);return x=Q[0],q=Q[2],z=Q[3],H.call(this,function(){return V.editor.insertText(x,M,q)},z,x,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,M,F){this.clipboard.dangerouslyPasteHTML(x,M,F)}},{key:"removeFormat",value:function(x,M,F){var $=this,z=W(x,M,F),V=s(z,4);return x=V[0],M=V[1],F=V[3],H.call(this,function(){return $.editor.removeFormat(x,M)},F,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var M=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){x=new u.default(x);var $=M.getLength(),z=M.editor.deleteText(0,$),V=M.editor.applyDelta(x),q=V.ops[V.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var K=z.compose(V);return K},F)}},{key:"setSelection",value:function(x,M,F){if(x==null)this.selection.setRange(null,M||B.sources.API);else{var $=W(x,M,F),z=s($,4);x=z[0],M=z[1],F=z[3],this.selection.setRange(new g.Range(x,M),F),F!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,F=new u.default().insert(x);return this.setContents(F,M)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(x);return this.selection.update(x),M}},{key:"updateContents",value:function(x){var M=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return x=new u.default(x),M.editor.applyDelta(x,F)},F,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":O.default};function j(B,U){if(U=(0,k.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===L.DEFAULTS.theme)U.theme=O.default;else if(U.theme=L.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var x=(0,k.default)(!0,{},U.theme.DEFAULTS);[x,U].forEach(function($){$.modules=$.modules||{},Object.keys($.modules).forEach(function(z){$.modules[z]===!0&&($.modules[z]={})})});var M=Object.keys(x.modules).concat(Object.keys(U.modules)),F=M.reduce(function($,z){var V=L.import("modules/"+z);return V==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):$[z]=V.DEFAULTS||{},$},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,k.default)(!0,{},L.DEFAULTS,{modules:F},x,U),["bounds","container","scrollingContainer"].forEach(function($){typeof U[$]=="string"&&(U[$]=document.querySelector(U[$]))}),U.modules=Object.keys(U.modules).reduce(function($,z){return U.modules[z]&&($[z]=U.modules[z]),$},{}),U}function H(B,U,x,M){if(this.options.strict&&!this.isEnabled()&&U===p.default.sources.USER)return new u.default;var F=x==null?null:this.getSelection(),$=this.editor.delta,z=B();if(F!=null&&(x===!0&&(x=F.index),M==null?F=Y(F,z,U):M!==0&&(F=Y(F,x,M,U)),this.setSelection(F,p.default.sources.SILENT)),z.length()>0){var V,q=[p.default.events.TEXT_CHANGE,z,$,U];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(q)),U!==p.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,q)}}return z}function W(B,U,x,M,F){var $={};return typeof B.index=="number"&&typeof B.length=="number"?typeof U!="number"?(F=M,M=x,x=U,U=B.length,B=B.index):(U=B.length,B=B.index):typeof U!="number"&&(F=M,M=x,x=U,U=0),(typeof x>"u"?"undefined":o(x))==="object"?($=x,F=M):typeof x=="string"&&(M!=null?$[x]=M:F=x),F=F||p.default.sources.API,[B,U,$,F]}function Y(B,U,x,M){if(B==null)return null;var F=void 0,$=void 0;if(U instanceof u.default){var z=[B.index,B.index+B.length].map(function(Q){return U.transformPosition(Q,M!==p.default.sources.USER)}),V=s(z,2);F=V[0],$=V[1]}else{var q=[B.index,B.index+B.length].map(function(Q){return Q<U||Q===U&&M===p.default.sources.USER?Q:x>=0?Q+x:Math.max(U,Q+x)}),K=s(q,2);F=K[0],$=K[1]}return new g.Range(F,$-F)}r.expandConfig=j,r.overload=W,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,g){for(var E=0;E<g.length;E++){var m=g[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,E){return g&&w(y.prototype,g),E&&w(y,E),y}}(),s=function w(y,g,E){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,g);if(m===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:w(k,g,E)}else{if("value"in m)return m.value;var N=m.get;return N===void 0?void 0:N.call(E)}},a=i(7),l=d(a),u=i(0),h=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function _(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var v=function(w){_(y,w);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"formatAt",value:function(E,m,k,N){if(y.compare(this.statics.blotName,k)<0&&h.default.query(k,h.default.Scope.BLOT)){var S=this.isolate(E,m);N&&S.wrap(k,N)}else s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,E,m,k,N)}},{key:"optimize",value:function(E){if(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,E),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var m=this.parent.isolate(this.offset(),this.length());this.moveChildren(m),m.wrap(this)}}}],[{key:"compare",value:function(E,m){var k=y.order.indexOf(E),N=y.order.indexOf(m);return k>=0||N>=0?k-N:E===m?0:E<m?-1:1}}]),y}(h.default.Inline);v.allowedChildren=[v,h.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(E,m){for(var k=0;k<m.length;k++){var N=m[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,m,k){return m&&g(E.prototype,m),k&&g(E,k),E}}(),s=function g(E,m,k){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,m);if(N===void 0){var S=Object.getPrototypeOf(E);return S===null?void 0:g(S,m,k)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(k)}},a=i(54),l=d(a),u=i(10),h=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function p(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function _(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var v=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(g){document.addEventListener(g,function(){for(var E=arguments.length,m=Array(E),k=0;k<E;k++)m[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var S;(S=N.__quill.emitter).handleDOM.apply(S,m)}})})});var y=function(g){_(E,g);function E(){f(this,E);var m=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return m.listeners={},m.on("error",v.error),m}return o(E,[{key:"emit",value:function(){v.log.apply(v,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,S=Array(N>1?N-1:0),T=1;T<N;T++)S[T-1]=arguments[T];(this.listeners[k.type]||[]).forEach(function(O){var b=O.node,I=O.handler;(k.target===b||b.contains(k.target))&&I.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,N,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:S})}}]),E}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var h,d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];(h=console)[u].apply(h,f)}}function l(u){return o.reduce(function(h,d){return h[d]=a.bind(console,d,u),h},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,p,_){return _||(_={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?_.strict?f===p:f==p:d(f,p,_)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,p,_){var v,w;if(u(f)||u(p)||f.prototype!==p.prototype)return!1;if(a(f))return a(p)?(f=o.call(f),p=o.call(p),l(f,p,_)):!1;if(h(f)){if(!h(p)||f.length!==p.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==p[v])return!1;return!0}try{var y=s(f),g=s(p)}catch{return!1}if(y.length!=g.length)return!1;for(y.sort(),g.sort(),v=y.length-1;v>=0;v--)if(y[v]!=g[v])return!1;for(v=y.length-1;v>=0;v--)if(w=y[v],!l(f[w],p[w],_))return!1;return typeof f==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function T(O,b){var I=[],R=!0,P=!1,L=void 0;try{for(var j=O[Symbol.iterator](),H;!(R=(H=j.next()).done)&&(I.push(H.value),!(b&&I.length===b));R=!0);}catch(W){P=!0,L=W}finally{try{!R&&j.return&&j.return()}finally{if(P)throw L}}return I}return function(O,b){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(O,b){for(var I=0;I<b.length;I++){var R=b[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,b,I){return b&&T(O.prototype,b),I&&T(O,I),O}}(),a=function T(O,b,I){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,b);if(R===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:T(P,b,I)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(I)}},l=i(2),u=g(l),h=i(0),d=g(h),f=i(4),p=g(f),_=i(6),v=g(_),w=i(7),y=g(w);function g(T){return T&&T.__esModule?T:{default:T}}function E(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function m(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function k(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var N=function(T){k(O,T);function O(){return E(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(v.default);N.blotName="code",N.tagName="CODE";var S=function(T){k(O,T);function O(){return E(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var I=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(P,L){return P.insert(L).insert(`
`,I.formats())},new u.default)}},{key:"format",value:function(I,R){if(!(I===this.statics.blotName&&R)){var P=this.descendant(y.default,this.length()-1),L=o(P,1),j=L[0];j!=null&&j.deleteAt(j.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,I,R)}}},{key:"formatAt",value:function(I,R,P,L){if(R!==0&&!(d.default.query(P,d.default.Scope.BLOCK)==null||P===this.statics.blotName&&L===this.statics.formats(this.domNode))){var j=this.newlineIndex(I);if(!(j<0||j>=I+R)){var H=this.newlineIndex(I,!0)+1,W=j-H+1,Y=this.isolate(H,W),B=Y.next;Y.format(P,L),B instanceof O&&B.formatAt(0,I-H+R-W,P,L)}}}},{key:"insertAt",value:function(I,R,P){if(P==null){var L=this.descendant(y.default,I),j=o(L,2),H=j[0],W=j[1];H.insertAt(W,R)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var P=this.domNode.textContent.slice(I).indexOf(`
`);return P>-1?I+P:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,I);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(I),R.moveChildren(this),R.remove())}},{key:"replace",value:function(I){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var P=d.default.find(R);P==null?R.parentNode.removeChild(R):P instanceof d.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(I){var R=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,I);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),O}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=N,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(U,x){var M=[],F=!0,$=!1,z=void 0;try{for(var V=U[Symbol.iterator](),q;!(F=(q=V.next()).done)&&(M.push(q.value),!(x&&M.length===x));F=!0);}catch(K){$=!0,z=K}finally{try{!F&&V.return&&V.return()}finally{if($)throw z}}return M}return function(U,x){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return B(U,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(U,x){for(var M=0;M<x.length;M++){var F=x[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(U,F.key,F)}}return function(U,x,M){return x&&B(U.prototype,x),M&&B(U,M),U}}(),l=i(2),u=R(l),h=i(20),d=R(h),f=i(0),p=R(f),_=i(13),v=R(_),w=i(24),y=R(w),g=i(4),E=R(g),m=i(16),k=R(m),N=i(21),S=R(N),T=i(11),O=R(T),b=i(3),I=R(b);function R(B){return B&&B.__esModule?B:{default:B}}function P(B,U,x){return U in B?Object.defineProperty(B,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):B[U]=x,B}function L(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}var j=/^[ -~]*$/,H=function(){function B(U){L(this,B),this.scroll=U,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(x){var M=this,F=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),x=Y(x),x.reduce(function(z,V){var q=V.retain||V.delete||V.insert.length||1,K=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var Q=V.insert;Q.endsWith(`
`)&&F&&(F=!1,Q=Q.slice(0,-1)),z>=$&&!Q.endsWith(`
`)&&(F=!0),M.scroll.insertAt(z,Q);var ie=M.scroll.line(z),pe=s(ie,2),Ie=pe[0],Re=pe[1],Ue=(0,I.default)({},(0,g.bubbleFormats)(Ie));if(Ie instanceof E.default){var je=Ie.descendant(p.default.Leaf,Re),Lt=s(je,1),st=Lt[0];Ue=(0,I.default)(Ue,(0,g.bubbleFormats)(st))}K=d.default.attributes.diff(Ue,K)||{}}else if(o(V.insert)==="object"){var te=Object.keys(V.insert)[0];if(te==null)return z;M.scroll.insertAt(z,te,V.insert[te])}$+=q}return Object.keys(K).forEach(function(ne){M.scroll.formatAt(z,q,ne,K[ne])}),z+q},0),x.reduce(function(z,V){return typeof V.delete=="number"?(M.scroll.deleteAt(z,V.delete),z):z+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,M){return this.scroll.deleteAt(x,M),this.update(new u.default().retain(x).delete(M))}},{key:"formatLine",value:function(x,M){var F=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(z){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[z])){var V=F.scroll.lines(x,Math.max(M,1)),q=M;V.forEach(function(K){var Q=K.length();if(!(K instanceof v.default))K.format(z,$[z]);else{var ie=x-K.offset(F.scroll),pe=K.newlineIndex(ie+q)-ie+1;K.formatAt(ie,pe,z,$[z])}q-=Q})}}),this.scroll.optimize(),this.update(new u.default().retain(x).retain(M,(0,S.default)($)))}},{key:"formatText",value:function(x,M){var F=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(z){F.scroll.formatAt(x,M,z,$[z])}),this.update(new u.default().retain(x).retain(M,(0,S.default)($)))}},{key:"getContents",value:function(x,M){return this.delta.slice(x,x+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,M){return x.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],$=[];M===0?this.scroll.path(x).forEach(function(V){var q=s(V,1),K=q[0];K instanceof E.default?F.push(K):K instanceof p.default.Leaf&&$.push(K)}):(F=this.scroll.lines(x,M),$=this.scroll.descendants(p.default.Leaf,x,M));var z=[F,$].map(function(V){if(V.length===0)return{};for(var q=(0,g.bubbleFormats)(V.shift());Object.keys(q).length>0;){var K=V.shift();if(K==null)return q;q=W((0,g.bubbleFormats)(K),q)}return q});return I.default.apply(I.default,z)}},{key:"getText",value:function(x,M){return this.getContents(x,M).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(x,M,F){return this.scroll.insertAt(x,M,F),this.update(new u.default().retain(x).insert(P({},M,F)))}},{key:"insertText",value:function(x,M){var F=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,M),Object.keys($).forEach(function(z){F.scroll.formatAt(x,M.length,z,$[z])}),this.update(new u.default().retain(x).insert(M,(0,S.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==E.default.blotName||x.children.length>1?!1:x.children.head instanceof k.default}},{key:"removeFormat",value:function(x,M){var F=this.getText(x,M),$=this.scroll.line(x+M),z=s($,2),V=z[0],q=z[1],K=0,Q=new u.default;V!=null&&(V instanceof v.default?K=V.newlineIndex(q)-q+1:K=V.length()-q,Q=V.delta().slice(q,q+K-1).insert(`
`));var ie=this.getContents(x,M+K),pe=ie.diff(new u.default().insert(F).concat(Q)),Ie=new u.default().retain(x).concat(pe);return this.applyDelta(Ie)}},{key:"update",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(j)&&p.default.find(M[0].target)){var z=p.default.find(M[0].target),V=(0,g.bubbleFormats)(z),q=z.offset(this.scroll),K=M[0].oldValue.replace(y.default.CONTENTS,""),Q=new u.default().insert(K),ie=new u.default().insert(z.value()),pe=new u.default().retain(q).concat(Q.diff(ie,F));x=pe.reduce(function(Ie,Re){return Re.insert?Ie.insert(Re.insert,V):Ie.push(Re)},new u.default),this.delta=$.compose(x)}else this.delta=this.getDelta(),(!x||!(0,O.default)($.compose(x),this.delta))&&(x=$.diff(this.delta,F));return x}}]),B}();function W(B,U){return Object.keys(U).reduce(function(x,M){return B[M]==null||(U[M]===B[M]?x[M]=U[M]:Array.isArray(U[M])?U[M].indexOf(B[M])<0&&(x[M]=U[M].concat([B[M]])):x[M]=[U[M],B[M]]),x},{})}function Y(B){return B.reduce(function(U,x){if(x.insert===1){var M=(0,S.default)(x.attributes);return delete M.image,U.insert({image:x.attributes.image},M)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,S.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var F=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(F,x.attributes)}return U.push(x)},new u.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function T(O,b){var I=[],R=!0,P=!1,L=void 0;try{for(var j=O[Symbol.iterator](),H;!(R=(H=j.next()).done)&&(I.push(H.value),!(b&&I.length===b));R=!0);}catch(W){P=!0,L=W}finally{try{!R&&j.return&&j.return()}finally{if(P)throw L}}return I}return function(O,b){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(O,b){for(var I=0;I<b.length;I++){var R=b[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,b,I){return b&&T(O.prototype,b),I&&T(O,I),O}}(),a=i(0),l=y(a),u=i(21),h=y(u),d=i(11),f=y(d),p=i(8),_=y(p),v=i(10),w=y(v);function y(T){return T&&T.__esModule?T:{default:T}}function g(T){if(Array.isArray(T)){for(var O=0,b=Array(T.length);O<T.length;O++)b[O]=T[O];return b}else return Array.from(T)}function E(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}var m=(0,w.default)("quill:selection"),k=function T(O){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,T),this.index=O,this.length=b},N=function(){function T(O,b){var I=this;E(this,T),this.emitter=b,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(R,P){R===_.default.events.TEXT_CHANGE&&P.length()>0&&I.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var R=I.getNativeRange();R!=null&&R.start.node!==I.cursor.textNode&&I.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(R,P){if(P.range){var L=P.range,j=L.startNode,H=L.startOffset,W=L.endNode,Y=L.endOffset;I.setNativeRange(j,H,W,Y)}}),this.update(_.default.sources.SILENT)}return s(T,[{key:"handleComposition",value:function(){var b=this;this.root.addEventListener("compositionstart",function(){b.composing=!0}),this.root.addEventListener("compositionend",function(){if(b.composing=!1,b.cursor.parent){var I=b.cursor.restore();if(!I)return;setTimeout(function(){b.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var b=this;this.emitter.listenDOM("mousedown",document.body,function(){b.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){b.mouseDown=!1,b.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(b,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[b])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(b,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var P=l.default.find(R.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var L=P.split(R.start.offset);P.parent.insertBefore(this.cursor,L)}else P.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(b,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();b=Math.min(b,R-1),I=Math.min(b+I,R-1)-b;var P=void 0,L=this.scroll.leaf(b),j=o(L,2),H=j[0],W=j[1];if(H==null)return null;var Y=H.position(W,!0),B=o(Y,2);P=B[0],W=B[1];var U=document.createRange();if(I>0){U.setStart(P,W);var x=this.scroll.leaf(b+I),M=o(x,2);if(H=M[0],W=M[1],H==null)return null;var F=H.position(W,!0),$=o(F,2);return P=$[0],W=$[1],U.setEnd(P,W),U.getBoundingClientRect()}else{var z="left",V=void 0;return P instanceof Text?(W<P.data.length?(U.setStart(P,W),U.setEnd(P,W+1)):(U.setStart(P,W-1),U.setEnd(P,W),z="right"),V=U.getBoundingClientRect()):(V=H.domNode.getBoundingClientRect(),W>0&&(z="right")),{bottom:V.top+V.height,height:V.height,left:V[z],right:V[z],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var b=document.getSelection();if(b==null||b.rangeCount<=0)return null;var I=b.getRangeAt(0);if(I==null)return null;var R=this.normalizeNative(I);return m.info("getNativeRange",R),R}},{key:"getRange",value:function(){var b=this.getNativeRange();if(b==null)return[null,null];var I=this.normalizedToRange(b);return[I,b]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(b){var I=this,R=[[b.start.node,b.start.offset]];b.native.collapsed||R.push([b.end.node,b.end.offset]);var P=R.map(function(H){var W=o(H,2),Y=W[0],B=W[1],U=l.default.find(Y,!0),x=U.offset(I.scroll);return B===0?x:U instanceof l.default.Container?x+U.length():x+U.index(Y,B)}),L=Math.min(Math.max.apply(Math,g(P)),this.scroll.length()-1),j=Math.min.apply(Math,[L].concat(g(P)));return new k(j,L-j)}},{key:"normalizeNative",value:function(b){if(!S(this.root,b.startContainer)||!b.collapsed&&!S(this.root,b.endContainer))return null;var I={start:{node:b.startContainer,offset:b.startOffset},end:{node:b.endContainer,offset:b.endOffset},native:b};return[I.start,I.end].forEach(function(R){for(var P=R.node,L=R.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>L)P=P.childNodes[L],L=0;else if(P.childNodes.length===L)P=P.lastChild,L=P instanceof Text?P.data.length:P.childNodes.length+1;else break;R.node=P,R.offset=L}),I}},{key:"rangeToNative",value:function(b){var I=this,R=b.collapsed?[b.index]:[b.index,b.index+b.length],P=[],L=this.scroll.length();return R.forEach(function(j,H){j=Math.min(L-1,j);var W=void 0,Y=I.scroll.leaf(j),B=o(Y,2),U=B[0],x=B[1],M=U.position(x,H!==0),F=o(M,2);W=F[0],x=F[1],P.push(W,x)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(b){var I=this.lastRange;if(I!=null){var R=this.getBounds(I.index,I.length);if(R!=null){var P=this.scroll.length()-1,L=this.scroll.line(Math.min(I.index,P)),j=o(L,1),H=j[0],W=H;if(I.length>0){var Y=this.scroll.line(Math.min(I.index+I.length,P)),B=o(Y,1);W=B[0]}if(!(H==null||W==null)){var U=b.getBoundingClientRect();R.top<U.top?b.scrollTop-=U.top-R.top:R.bottom>U.bottom&&(b.scrollTop+=R.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(b,I){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(m.info("setNativeRange",b,I,R,P),!(b!=null&&(this.root.parentNode==null||b.parentNode==null||R.parentNode==null))){var j=document.getSelection();if(j!=null)if(b!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||b!==H.startContainer||I!==H.startOffset||R!==H.endContainer||P!==H.endOffset){b.tagName=="BR"&&(I=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode),R.tagName=="BR"&&(P=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var W=document.createRange();W.setStart(b,I),W.setEnd(R,P),j.removeAllRanges(),j.addRange(W)}}else j.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof I=="string"&&(R=I,I=!1),m.info("setRange",b),b!=null){var P=this.rangeToNative(b);this.setNativeRange.apply(this,g(P).concat([I]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,I=this.lastRange,R=this.getRange(),P=o(R,2),L=P[0],j=P[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(I,this.lastRange)){var H;!this.composing&&j!=null&&j.native.collapsed&&j.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[_.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(I),b];if((H=this.emitter).emit.apply(H,[_.default.events.EDITOR_CHANGE].concat(W)),b!==_.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,W)}}}}]),T}();function S(T,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),T.contains(O)}r.Range=k,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var y=0;y<w.length;y++){var g=w[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,w,y){return w&&_(v.prototype,w),y&&_(v,y),v}}(),s=function _(v,w,y){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,w);if(g===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,y)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(y)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(y,g){y.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){d(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(d){o(f,d);function f(p){var _=d.call(this,p)||this;return _.build(),_}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var v=h(_);p.insertBefore(v,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},f.prototype.deleteAt=function(p,_){if(p===0&&_===this.length())return this.remove();this.children.forEachAt(p,_,function(v,w,y){v.deleteAt(w,y)})},f.prototype.descendant=function(p,_){var v=this.children.find(_),w=v[0],y=v[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,y]:w instanceof f?w.descendant(p,y):[null,-1]},f.prototype.descendants=function(p,_,v){_===void 0&&(_=0),v===void 0&&(v=Number.MAX_VALUE);var w=[],y=v;return this.children.forEachAt(_,v,function(g,E,m){(p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p)&&w.push(g),g instanceof f&&(w=w.concat(g.descendants(p,E,y))),y-=m}),w},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(p,_,v,w){this.children.forEachAt(p,_,function(y,g,E){y.formatAt(g,E,v,w)})},f.prototype.insertAt=function(p,_,v){var w=this.children.find(p),y=w[0],g=w[1];if(y)y.insertAt(g,_,v);else{var E=v==null?l.create("text",_):l.create(_,v);this.appendChild(E)}},f.prototype.insertBefore=function(p,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,_)},f.prototype.length=function(){return this.children.reduce(function(p,_){return p+_.length()},0)},f.prototype.moveChildren=function(p,_){this.children.forEach(function(v){p.insertBefore(v,_)})},f.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var _=l.create(this.statics.defaultChild);this.appendChild(_),_.optimize(p)}else this.remove()},f.prototype.path=function(p,_){_===void 0&&(_=!1);var v=this.children.find(p,_),w=v[0],y=v[1],g=[[this,p]];return w instanceof f?g.concat(w.path(y,_)):(w!=null&&g.push([w,y]),g)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),d.prototype.replace.call(this,p)},f.prototype.split=function(p,_){if(_===void 0&&(_=!1),!_){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(w,y,g){w=w.split(y,_),v.appendChild(w)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,_){var v=this,w=[],y=[];p.forEach(function(g){g.target===v.domNode&&g.type==="childList"&&(w.push.apply(w,g.addedNodes),y.push.apply(y,g.removedNodes))}),y.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(g);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===v.domNode)&&E.detach()}}),w.filter(function(g){return g.parentNode==v.domNode}).sort(function(g,E){return g===E?0:g.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var E=null;g.nextSibling!=null&&(E=l.find(g.nextSibling));var m=h(g);(m.next!=E||m.next==null)&&(m.parent!=null&&m.parent.removeChild(v),v.insertBefore(m,E||void 0))})},f}(a.default);function h(d){var f=l.find(d);if(f==null)try{f=l.create(d)}catch{f=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(_){f.domNode.appendChild(_)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){d(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),h=function(d){o(f,d);function f(p){var _=d.call(this,p)||this;return _.attributes=new a.default(_.domNode),_}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,_){var v=u.query(p);v instanceof s.default?this.attributes.attribute(v,_):_&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==_)&&this.replaceWith(p,_)},f.prototype.formats=function(){var p=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(p[this.statics.blotName]=_),p},f.prototype.replaceWith=function(p,_){var v=d.prototype.replaceWith.call(this,p,_);return this.attributes.copy(v),v},f.prototype.update=function(p,_){var v=this;d.prototype.update.call(this,p,_),p.some(function(w){return w.target===v.domNode&&w.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,_){var v=d.prototype.wrap.call(this,p,_);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(l.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(d,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=s(!0,{},h);d||(f=Object.keys(f).reduce(function(_,v){return f[v]!=null&&(_[v]=f[v]),_},{}));for(var p in u)u[p]!==void 0&&h[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,p){return o(u[p],h[p])||(f[p]=h[p]===void 0?null:h[p]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(p,_){return u[_]===void 0&&(p[_]=h[_]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=a.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=u:typeof h.insert=="string"?p.insert=h.insert.substr(d,u):p.insert=h.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,w){return w!=null&&v instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,w,y,g,E){typeof w=="object"&&(y=w.depth,g=w.prototype,E=w.includeNonEnumerable,w=w.circular);var m=[],k=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof y>"u"&&(y=1/0);function S(T,O){if(T===null)return null;if(O===0)return T;var b,I;if(typeof T!="object")return T;if(o(T,s))b=new s;else if(o(T,a))b=new a;else if(o(T,l))b=new l(function(U,x){T.then(function(M){U(S(M,O-1))},function(M){x(S(M,O-1))})});else if(u.__isArray(T))b=[];else if(u.__isRegExp(T))b=new RegExp(T.source,_(T)),T.lastIndex&&(b.lastIndex=T.lastIndex);else if(u.__isDate(T))b=new Date(T.getTime());else{if(N&&Buffer.isBuffer(T))return Buffer.allocUnsafe?b=Buffer.allocUnsafe(T.length):b=new Buffer(T.length),T.copy(b),b;o(T,Error)?b=Object.create(T):typeof g>"u"?(I=Object.getPrototypeOf(T),b=Object.create(I)):(b=Object.create(g),I=g)}if(w){var R=m.indexOf(T);if(R!=-1)return k[R];m.push(T),k.push(b)}o(T,s)&&T.forEach(function(U,x){var M=S(x,O-1),F=S(U,O-1);b.set(M,F)}),o(T,a)&&T.forEach(function(U){var x=S(U,O-1);b.add(x)});for(var P in T){var L;I&&(L=Object.getOwnPropertyDescriptor(I,P)),!(L&&L.set==null)&&(b[P]=S(T[P],O-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(T),P=0;P<j.length;P++){var H=j[P],W=Object.getOwnPropertyDescriptor(T,H);W&&!W.enumerable&&!E||(b[H]=S(T[H],O-1),W.enumerable||Object.defineProperty(b,H,{enumerable:!1}))}if(E)for(var Y=Object.getOwnPropertyNames(T),P=0;P<Y.length;P++){var B=Y[P],W=Object.getOwnPropertyDescriptor(T,B);W&&W.enumerable||(b[B]=S(T[B],O-1),Object.defineProperty(b,B,{enumerable:!1}))}return b}return S(v,y)}u.clonePrototype=function(w){if(w===null)return null;var y=function(){};return y.prototype=w,new y};function h(v){return Object.prototype.toString.call(v)}u.__objToStr=h;function d(v){return typeof v=="object"&&h(v)==="[object Date]"}u.__isDate=d;function f(v){return typeof v=="object"&&h(v)==="[object Array]"}u.__isArray=f;function p(v){return typeof v=="object"&&h(v)==="[object RegExp]"}u.__isRegExp=p;function _(v){var w="";return v.global&&(w+="g"),v.ignoreCase&&(w+="i"),v.multiline&&(w+="m"),w}return u.__getRegExpFlags=_,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(I,R){var P=[],L=!0,j=!1,H=void 0;try{for(var W=I[Symbol.iterator](),Y;!(L=(Y=W.next()).done)&&(P.push(Y.value),!(R&&P.length===R));L=!0);}catch(B){j=!0,H=B}finally{try{!L&&W.return&&W.return()}finally{if(j)throw H}}return P}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return b(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(I,R){for(var P=0;P<R.length;P++){var L=R[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,R,P){return R&&b(I.prototype,R),P&&b(I,P),I}}(),a=function b(I,R,P){I===null&&(I=Function.prototype);var L=Object.getOwnPropertyDescriptor(I,R);if(L===void 0){var j=Object.getPrototypeOf(I);return j===null?void 0:b(j,R,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},l=i(0),u=m(l),h=i(8),d=m(h),f=i(4),p=m(f),_=i(16),v=m(_),w=i(13),y=m(w),g=i(25),E=m(g);function m(b){return b&&b.__esModule?b:{default:b}}function k(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function N(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:b}function S(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}function T(b){return b instanceof p.default||b instanceof f.BlockEmbed}var O=function(b){S(I,b);function I(R,P){k(this,I);var L=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R));return L.emitter=P.emitter,Array.isArray(P.whitelist)&&(L.whitelist=P.whitelist.reduce(function(j,H){return j[H]=!0,j},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,L){var j=this.line(P),H=o(j,2),W=H[0],Y=H[1],B=this.line(P+L),U=o(B,1),x=U[0];if(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,P,L),x!=null&&W!==x&&Y>0){if(W instanceof f.BlockEmbed||x instanceof f.BlockEmbed){this.optimize();return}if(W instanceof y.default){var M=W.newlineIndex(W.length(),!0);if(M>-1&&(W=W.split(M+1),W===x)){this.optimize();return}}else if(x instanceof y.default){var F=x.newlineIndex(0);F>-1&&x.split(F+1)}var $=x.children.head instanceof v.default?null:x.children.head;W.moveChildren(x,$),W.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,L,j,H){this.whitelist!=null&&!this.whitelist[j]||(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,P,L,j,H),this.optimize())}},{key:"insertAt",value:function(P,L,j){if(!(j!=null&&this.whitelist!=null&&!this.whitelist[L])){if(P>=this.length())if(j==null||u.default.query(L,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),j==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,j)}else{var W=u.default.create(L,j);this.appendChild(W)}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,P,L,j);this.optimize()}}},{key:"insertBefore",value:function(P,L){if(P.statics.scope===u.default.Scope.INLINE_BLOT){var j=u.default.create(this.statics.defaultChild);j.appendChild(P),P=j}a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,P,L)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(T,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,j=function H(W,Y,B){var U=[],x=B;return W.children.forEachAt(Y,B,function(M,F,$){T(M)?U.push(M):M instanceof u.default.Container&&(U=U.concat(H(M,F,x))),x-=$}),U};return j(this,P,L)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P,L),P.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,P,L))}},{key:"path",value:function(P){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var L=d.default.sources.USER;typeof P=="string"&&(L=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,L,P),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,L,P)}}}]),I}(u.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[p.default,f.BlockEmbed,E.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V(q,K){var Q=[],ie=!0,pe=!1,Ie=void 0;try{for(var Re=q[Symbol.iterator](),Ue;!(ie=(Ue=Re.next()).done)&&(Q.push(Ue.value),!(K&&Q.length===K));ie=!0);}catch(je){pe=!0,Ie=je}finally{try{!ie&&Re.return&&Re.return()}finally{if(pe)throw Ie}}return Q}return function(q,K){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return V(q,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(q,K){for(var Q=0;Q<K.length;Q++){var ie=K[Q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(q,ie.key,ie)}}return function(q,K,Q){return K&&V(q.prototype,K),Q&&V(q,Q),q}}(),l=i(21),u=b(l),h=i(11),d=b(h),f=i(3),p=b(f),_=i(2),v=b(_),w=i(20),y=b(w),g=i(0),E=b(g),m=i(5),k=b(m),N=i(10),S=b(N),T=i(9),O=b(T);function b(V){return V&&V.__esModule?V:{default:V}}function I(V,q,K){return q in V?Object.defineProperty(V,q,{value:K,enumerable:!0,configurable:!0,writable:!0}):V[q]=K,V}function R(V,q){if(!(V instanceof q))throw new TypeError("Cannot call a class as a function")}function P(V,q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:V}function L(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);V.prototype=Object.create(q&&q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,q):V.__proto__=q)}var j=(0,S.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(V){L(q,V),a(q,null,[{key:"match",value:function(Q,ie){return ie=z(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!ie[pe]!==Q[pe]&&ie[pe]!==null})?!1:ie.key===(Q.which||Q.keyCode)}}]);function q(K,Q){R(this,q);var ie=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,Q));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(pe){pe==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||ie.options.bindings[pe]&&ie.addBinding(ie.options.bindings[pe])}),ie.addBinding({key:q.keys.ENTER,shiftKey:null},M),ie.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},B),ie.addBinding({key:q.keys.DELETE},{collapsed:!0},U)):(ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),ie.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),ie.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},x),ie.addBinding({key:q.keys.DELETE},{collapsed:!1},x),ie.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),ie.listen(),ie}return a(q,[{key:"addBinding",value:function(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=z(Q);if(Ie==null||Ie.key==null)return j.warn("Attempted to add invalid keyboard binding",Ie);typeof ie=="function"&&(ie={handler:ie}),typeof pe=="function"&&(pe={handler:pe}),Ie=(0,p.default)(Ie,ie,pe),this.bindings[Ie.key]=this.bindings[Ie.key]||[],this.bindings[Ie.key].push(Ie)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var pe=ie.which||ie.keyCode,Ie=(Q.bindings[pe]||[]).filter(function(at){return q.match(ie,at)});if(Ie.length!==0){var Re=Q.quill.getSelection();if(!(Re==null||!Q.quill.hasFocus())){var Ue=Q.quill.getLine(Re.index),je=s(Ue,2),Lt=je[0],st=je[1],te=Q.quill.getLeaf(Re.index),ne=s(te,2),fe=ne[0],de=ne[1],se=Re.length===0?[fe,de]:Q.quill.getLeaf(Re.index+Re.length),Le=s(se,2),Ne=Le[0],xe=Le[1],Nt=fe instanceof E.default.Text?fe.value().slice(0,de):"",nt=Ne instanceof E.default.Text?Ne.value().slice(xe):"",Me={collapsed:Re.length===0,empty:Re.length===0&&Lt.length()<=1,format:Q.quill.getFormat(Re),offset:st,prefix:Nt,suffix:nt},Oi=Ie.some(function(at){if(at.collapsed!=null&&at.collapsed!==Me.collapsed||at.empty!=null&&at.empty!==Me.empty||at.offset!=null&&at.offset!==Me.offset)return!1;if(Array.isArray(at.format)){if(at.format.every(function(Dn){return Me.format[Dn]==null}))return!1}else if(o(at.format)==="object"&&!Object.keys(at.format).every(function(Dn){return at.format[Dn]===!0?Me.format[Dn]!=null:at.format[Dn]===!1?Me.format[Dn]==null:(0,d.default)(at.format[Dn],Me.format[Dn])}))return!1;return at.prefix!=null&&!at.prefix.test(Me.prefix)||at.suffix!=null&&!at.suffix.test(Me.suffix)?!1:at.handler.call(Q,Re,Me)!==!0});Oi&&ie.preventDefault()}}}})}}]),q}(O.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,K){K.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,k.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function(q){this.quill.history.cutoff();var K=new v.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(K,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,k.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,K){this.quill.format("list",!1,k.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var K=this.quill.getLine(q.index),Q=s(K,2),ie=Q[0],pe=Q[1],Ie=(0,p.default)({},ie.formats(),{list:"checked"}),Re=new v.default().retain(q.index).insert(`
`,Ie).retain(ie.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Re,k.default.sources.USER),this.quill.setSelection(q.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,K){var Q=this.quill.getLine(q.index),ie=s(Q,2),pe=ie[0],Ie=ie[1],Re=new v.default().retain(q.index).insert(`
`,K.format).retain(pe.length()-Ie-1).retain(1,{header:null});this.quill.updateContents(Re,k.default.sources.USER),this.quill.setSelection(q.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,K){var Q=K.prefix.length,ie=this.quill.getLine(q.index),pe=s(ie,2),Ie=pe[0],Re=pe[1];if(Re>Q)return!0;var Ue=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":Ue="unchecked";break;case"[x]":Ue="checked";break;case"-":case"*":Ue="bullet";break;default:Ue="ordered"}this.quill.insertText(q.index," ",k.default.sources.USER),this.quill.history.cutoff();var je=new v.default().retain(q.index-Re).delete(Q+1).retain(Ie.length()-2-Re).retain(1,{list:Ue});this.quill.updateContents(je,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-Q,k.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var K=this.quill.getLine(q.index),Q=s(K,2),ie=Q[0],pe=Q[1],Ie=new v.default().retain(q.index+ie.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ie,k.default.sources.USER)}},"embed left":Y(W.keys.LEFT,!1),"embed left shift":Y(W.keys.LEFT,!0),"embed right":Y(W.keys.RIGHT,!1),"embed right shift":Y(W.keys.RIGHT,!0)}};function Y(V,q){var K,Q=V===W.keys.LEFT?"prefix":"suffix";return K={key:V,shiftKey:q,altKey:null},I(K,Q,/^$/),I(K,"handler",function(pe){var Ie=pe.index;V===W.keys.RIGHT&&(Ie+=pe.length+1);var Re=this.quill.getLeaf(Ie),Ue=s(Re,1),je=Ue[0];return je instanceof E.default.Embed?(V===W.keys.LEFT?q?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):q?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),K}function B(V,q){if(!(V.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(V.index),Q=s(K,1),ie=Q[0],pe={};if(q.offset===0){var Ie=this.quill.getLine(V.index-1),Re=s(Ie,1),Ue=Re[0];if(Ue!=null&&Ue.length()>1){var je=ie.formats(),Lt=this.quill.getFormat(V.index-1,1);pe=y.default.attributes.diff(je,Lt)||{}}}var st=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(V.index-st,st,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(V.index-st,st,pe,k.default.sources.USER),this.quill.focus()}}function U(V,q){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(V.index>=this.quill.getLength()-K)){var Q={},ie=0,pe=this.quill.getLine(V.index),Ie=s(pe,1),Re=Ie[0];if(q.offset>=Re.length()-1){var Ue=this.quill.getLine(V.index+1),je=s(Ue,1),Lt=je[0];if(Lt){var st=Re.formats(),te=this.quill.getFormat(V.index,1);Q=y.default.attributes.diff(st,te)||{},ie=Lt.length()}}this.quill.deleteText(V.index,K,k.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(V.index+ie-1,K,Q,k.default.sources.USER)}}function x(V){var q=this.quill.getLines(V),K={};if(q.length>1){var Q=q[0].formats(),ie=q[q.length-1].formats();K=y.default.attributes.diff(ie,Q)||{}}this.quill.deleteText(V,k.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(V.index,1,K,k.default.sources.USER),this.quill.setSelection(V.index,k.default.sources.SILENT),this.quill.focus()}function M(V,q){var K=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var Q=Object.keys(q.format).reduce(function(ie,pe){return E.default.query(pe,E.default.Scope.BLOCK)&&!Array.isArray(q.format[pe])&&(ie[pe]=q.format[pe]),ie},{});this.quill.insertText(V.index,`
`,Q,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(ie){Q[ie]==null&&(Array.isArray(q.format[ie])||ie!=="link"&&K.quill.format(ie,q.format[ie],k.default.sources.USER))})}function F(V){return{key:W.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(K){var Q=E.default.query("code-block"),ie=K.index,pe=K.length,Ie=this.quill.scroll.descendant(Q,ie),Re=s(Ie,2),Ue=Re[0],je=Re[1];if(Ue!=null){var Lt=this.quill.getIndex(Ue),st=Ue.newlineIndex(je,!0)+1,te=Ue.newlineIndex(Lt+je+pe),ne=Ue.domNode.textContent.slice(st,te).split(`
`);je=0,ne.forEach(function(fe,de){V?(Ue.insertAt(st+je,Q.TAB),je+=Q.TAB.length,de===0?ie+=Q.TAB.length:pe+=Q.TAB.length):fe.startsWith(Q.TAB)&&(Ue.deleteAt(st+je,Q.TAB.length),je-=Q.TAB.length,de===0?ie-=Q.TAB.length:pe-=Q.TAB.length),je+=fe.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ie,pe,k.default.sources.SILENT)}}}}function $(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(K,Q){this.quill.format(V,!Q.format[V],k.default.sources.USER)}}}function z(V){if(typeof V=="string"||typeof V=="number")return z({key:V});if((typeof V>"u"?"undefined":o(V))==="object"&&(V=(0,u.default)(V,!1)),typeof V.key=="string")if(W.keys[V.key.toUpperCase()]!=null)V.key=W.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[H]=V.shortKey,delete V.shortKey),V}r.default=W,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(g,E){var m=[],k=!0,N=!1,S=void 0;try{for(var T=g[Symbol.iterator](),O;!(k=(O=T.next()).done)&&(m.push(O.value),!(E&&m.length===E));k=!0);}catch(b){N=!0,S=b}finally{try{!k&&T.return&&T.return()}finally{if(N)throw S}}return m}return function(g,E){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return y(g,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function y(g,E,m){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,E);if(k===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,E,m)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(m)}},a=function(){function y(g,E){for(var m=0;m<E.length;m++){var k=E[m];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,E,m){return E&&y(g.prototype,E),m&&y(g,m),g}}(),l=i(0),u=f(l),h=i(7),d=f(h);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function _(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var w=function(y){v(g,y),a(g,null,[{key:"value",value:function(){}}]);function g(E,m){p(this,g);var k=_(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return k.selection=m,k.textNode=document.createTextNode(g.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(m,k){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,k);for(var N=this,S=0;N!=null&&N.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=g.CONTENTS.length,N.optimize(),N.formatAt(S,g.CONTENTS.length,m,k),this._length=0)}},{key:"index",value:function(m,k){return m===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,m,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var m=this.textNode,k=this.selection.getNativeRange(),N=void 0,S=void 0,T=void 0;if(k!=null&&k.start.node===m&&k.end.node===m){var O=[m,k.start.offset,k.end.offset];N=O[0],S=O[1],T=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var b=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof d.default?(N=this.next.domNode,this.next.insertAt(0,b),this.textNode.data=g.CONTENTS):(this.textNode.data=b,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var I=[S,T].map(function(P){return Math.max(0,Math.min(N.data.length,P-1))}),R=o(I,2);return S=R[0],T=R[1],{startNode:N,startOffset:S,endNode:N,endOffset:T}}}}},{key:"update",value:function(m,k){var N=this;if(m.some(function(T){return T.type==="characterData"&&T.target===N.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(y,g){for(var E=0;E<g.length;E++){var m=g[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,E){return g&&w(y.prototype,g),E&&w(y,E),y}}(),s=function w(y,g,E){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,g);if(m===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:w(k,g,E)}else{if("value"in m)return m.value;var N=m.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function d(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function f(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var p=function(w){f(y,w);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"value",value:function(E){var m=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,E);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+m.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):m}}]),y}(l.default.Attributor.Style),_=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=_,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(w,y){for(var g=0;g<y.length;g++){var E=y[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,y,g){return y&&v(w.prototype,y),g&&v(w,g),w}}(),s=function v(w,y,g){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,y);if(E===void 0){var m=Object.getPrototypeOf(w);return m===null?void 0:v(m,y,g)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(g)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function d(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function f(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){f(w,v);function w(){return h(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(g,E){if(g!==this.statics.blotName||!E)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,g,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(g){var E=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,g);return g=this.sanitize(g),E.setAttribute("href",g),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return _(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(v,w){var y=document.createElement("a");y.href=v;var g=y.href.slice(0,y.href.indexOf(":"));return w.indexOf(g)>-1}r.default=p,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(y,g){for(var E=0;E<g.length;E++){var m=g[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,E){return g&&w(y.prototype,g),E&&w(y,E),y}}(),a=i(23),l=d(a),u=i(107),h=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function _(w,y){w.setAttribute(y,w.getAttribute(y)!=="true")}var v=function(){function w(y){var g=this;f(this,w),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var E=this,m=document.createElement("span");return m.tabIndex="0",m.setAttribute("role","button"),m.classList.add("ql-picker-item"),g.hasAttribute("value")&&m.setAttribute("data-value",g.getAttribute("value")),g.textContent&&m.setAttribute("data-label",g.textContent),m.addEventListener("click",function(){E.selectItem(m,!0)}),m.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(m,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),m}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=h.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(m){var k=g.buildItem(m);E.appendChild(k),m.selected===!0&&g.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(E){g.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=this.container.querySelector(".ql-selected");if(g!==m&&(m!=null&&m.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var m=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",m)}}]),w}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=j(o),a=i(5),l=j(a),u=i(4),h=j(u),d=i(16),f=j(d),p=i(25),_=j(p),v=i(24),w=j(v),y=i(35),g=j(y),E=i(6),m=j(E),k=i(22),N=j(k),S=i(7),T=j(S),O=i(55),b=j(O),I=i(42),R=j(I),P=i(23),L=j(P);function j(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":_.default,"blots/cursor":w.default,"blots/embed":g.default,"blots/inline":m.default,"blots/scroll":N.default,"blots/text":T.default,"modules/clipboard":b.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(h.default,f.default,w.default,m.default,N.default,T.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,d){var f=this.isolate(l,u);if(o.query(h,o.Scope.BLOT)!=null&&d)f.wrap(h,d);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);f.wrap(p),p.format(h,d)}},a.prototype.insertAt=function(l,u,h){var d=h==null?o.create("text",u):o.create(u,h),f=this.split(l);this.parent.insertBefore(d,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var f=o.default.keys(this.domNode),p=s.default.keys(this.domNode),_=a.default.keys(this.domNode);f.concat(p).concat(_).forEach(function(v){var w=l.query(v,l.Scope.ATTRIBUTE);w instanceof o.default&&(d.attributes[w.attrName]=w)})},h.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(p){var _=f.attributes[p].value(f.domNode);d.format(p,_)})},h.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=d.attributes[p].value(d.domNode),f},{})},h}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(d){var f=a(d,this.keyName);f.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var f=a(d,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var h=u.split("-"),d=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+d}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[a(this.keyName)]=f,!0):!1},h.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var f=d.style[a(this.keyName)];return this.canAdd(d,f)?f:""},h}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){s(this,l),this.quill=u,this.options=h,this.modules={}}return o(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(g,E){for(var m=0;m<E.length;m++){var k=E[m];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,E,m){return E&&y(g.prototype,E),m&&y(g,m),g}}(),s=function y(g,E,m){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,E);if(k===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,E,m)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=d(a),u=i(7),h=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function p(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function _(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var v="\uFEFF",w=function(y){_(g,y);function g(E){f(this,g);var m=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return m.contentNode=document.createElement("span"),m.contentNode.setAttribute("contenteditable",!1),[].slice.call(m.domNode.childNodes).forEach(function(k){m.contentNode.appendChild(k)}),m.leftGuard=document.createTextNode(v),m.rightGuard=document.createTextNode(v),m.domNode.appendChild(m.leftGuard),m.domNode.appendChild(m.contentNode),m.domNode.appendChild(m.rightGuard),m}return o(g,[{key:"index",value:function(m,k){return m===this.leftGuard?0:m===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,m,k)}},{key:"restore",value:function(m){var k=void 0,N=void 0,S=m.data.split(v).join("");if(m===this.leftGuard)if(this.prev instanceof h.default){var T=this.prev.length();this.prev.insertAt(T,S),k={startNode:this.prev.domNode,startOffset:T+S.length}}else N=document.createTextNode(S),this.parent.insertBefore(l.default.create(N),this),k={startNode:N,startOffset:S.length};else m===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(N=document.createTextNode(S),this.parent.insertBefore(l.default.create(N),this.next),k={startNode:N,startOffset:S.length}));return m.data=v,k}},{key:"update",value:function(m,k){var N=this;m.forEach(function(S){if(S.type==="characterData"&&(S.target===N.leftGuard||S.target===N.rightGuard)){var T=N.restore(S.target);T&&(k.range=T)}})}}]),g}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),h=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),h=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function y(g,E){for(var m=0;m<E.length;m++){var k=E[m];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,E,m){return E&&y(g.prototype,E),m&&y(g,m),g}}(),s=function y(g,E,m){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,E);if(k===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:y(N,E,m)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function f(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new l.default.Attributor.Class("font","ql-font",p),v=function(y){f(g,y);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(m){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),w=new v("font","font-family",p);r.FontStyle=w,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(m,k){for(var N=0;N<k.length;N++){var S=k[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,k,N){return k&&E(m.prototype,k),N&&E(m,N),m}}(),s=i(0),a=f(s),l=i(5),u=f(l),h=i(9),d=f(h);function f(E){return E&&E.__esModule?E:{default:E}}function p(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function _(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function v(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var w=function(E){v(m,E);function m(k,N){p(this,m);var S=_(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,k,N));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(T,O,b,I){T!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||I===u.default.sources.USER?S.record(O,b):S.transform(O))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(m,[{key:"change",value:function(N,S){if(this.stack[N].length!==0){var T=this.stack[N].pop();this.stack[S].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[N],u.default.sources.USER),this.ignoreChange=!1;var O=g(T[N]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,S){if(N.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(S),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var b=this.stack.undo.pop();T=T.compose(b.undo),N=b.redo.compose(N)}else this.lastRecorded=O;this.stack.undo.push({redo:N,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),m}(d.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(E){var m=E.ops[E.ops.length-1];return m==null?!1:m.insert!=null?typeof m.insert=="string"&&m.insert.endsWith(`
`):m.attributes!=null?Object.keys(m.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function g(E){var m=E.reduce(function(N,S){return N+=S.delete||0,N},0),k=E.length()-m;return y(E)&&(k-=1),k}r.default=w,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(F,$){for(var z=0;z<$.length;z++){var V=$[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,$,z){return $&&M(F.prototype,$),z&&M(F,z),F}}(),s=function M(F,$,z){F===null&&(F=Function.prototype);var V=Object.getOwnPropertyDescriptor(F,$);if(V===void 0){var q=Object.getPrototypeOf(F);return q===null?void 0:M(q,$,z)}else{if("value"in V)return V.value;var K=V.get;return K===void 0?void 0:K.call(z)}},a=i(3),l=O(a),u=i(2),h=O(u),d=i(8),f=O(d),p=i(23),_=O(p),v=i(34),w=O(v),y=i(59),g=O(y),E=i(60),m=O(E),k=i(28),N=O(k),S=i(61),T=O(S);function O(M){return M&&M.__esModule?M:{default:M}}function b(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function I(M,F){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:M}function R(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):M.__proto__=F)}var P=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],H=["1","2","3",!1],W=["small",!1,"large","huge"],Y=function(M){R(F,M);function F($,z){b(this,F);var V=I(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,$,z)),q=function K(Q){if(!document.body.contains($.root))return document.body.removeEventListener("click",K);V.tooltip!=null&&!V.tooltip.root.contains(Q.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ie){ie.container.contains(Q.target)||ie.close()})};return $.emitter.listenDOM("click",document.body,q),V}return o(F,[{key:"addModule",value:function(z){var V=s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(z,V){z.forEach(function(q){var K=q.getAttribute("class")||"";K.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),V[Q]!=null))if(Q==="direction")q.innerHTML=V[Q][""]+V[Q].rtl;else if(typeof V[Q]=="string")q.innerHTML=V[Q];else{var ie=q.value||"";ie!=null&&V[Q][ie]&&(q.innerHTML=V[Q][ie])}})})}},{key:"buildPickers",value:function(z,V){var q=this;this.pickers=z.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&x(Q,P),new m.default(Q,V.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var ie=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&x(Q,L,ie==="background"?"#ffffff":"#000000"),new g.default(Q,V[ie])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?x(Q,j):Q.classList.contains("ql-header")?x(Q,H):Q.classList.contains("ql-size")&&x(Q,W)),new N.default(Q)});var K=function(){q.pickers.forEach(function(ie){ie.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,K)}}]),F}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var z=new FileReader;z.onload=function(V){var q=F.quill.getSelection(!0);F.quill.updateContents(new h.default().retain(q.index).delete(q.length).insert({image:V.target.result}),f.default.sources.USER),F.quill.setSelection(q.index+1,f.default.sources.SILENT),$.value=""},z.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){R(F,M);function F($,z){b(this,F);var V=I(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,$,z));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return o(F,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(V){_.default.match(V,"enter")?(z.save(),V.preventDefault()):_.default.match(V,"escape")&&(z.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":z=U(z);case"formula":{if(!z)break;var q=this.quill.getSelection(!0);if(q!=null){var K=q.index+q.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),z,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",f.default.sources.USER),this.quill.setSelection(K+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(T.default);function U(M){var F=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":M}function x(M,F){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(z){var V=document.createElement("option");z===$?V.setAttribute("selected","selected"):V.setAttribute("value",z),M.appendChild(V)})}r.BaseTooltip=B,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),d=h[0],f=h[1],p,_=a-f,v=this.iterator(d);(p=v())&&_<a+l;){var w=p.length();a>_?u(p,a-_,Math.min(l,_+w-a)):u(p,0,Math.min(w,a+l-_)),_+=w}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){d(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){o(f,d);function f(p){var _=d.call(this,p)||this;return _.scroll=_,_.observer=new MutationObserver(function(v){_.update(v)}),_.observer.observe(_.domNode,l),_.attach(),_}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,_){this.update(),p===0&&_===this.length()?this.children.forEach(function(v){v.remove()}):d.prototype.deleteAt.call(this,p,_)},f.prototype.formatAt=function(p,_,v,w){this.update(),d.prototype.formatAt.call(this,p,_,v,w)},f.prototype.insertAt=function(p,_,v){this.update(),d.prototype.insertAt.call(this,p,_,v)},f.prototype.optimize=function(p,_){var v=this;p===void 0&&(p=[]),_===void 0&&(_={}),d.prototype.optimize.call(this,_);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var y=function(k,N){N===void 0&&(N=!0),!(k==null||k===v)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),N&&y(k.parent))},g=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(g),k.optimize(_))},E=p,m=0;E.length>0;m+=1){if(m>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var N=a.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(y(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var T=a.find(S,!1);y(T,!1),T instanceof s.default&&T.children.forEach(function(O){y(O,!1)})})):k.type==="attributes"&&y(N.prev)),y(N))}),this.children.forEach(g),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)p.push(w.pop())}},f.prototype.update=function(p,_){var v=this;_===void 0&&(_={}),p=p||this.observer.takeRecords(),p.map(function(w){var y=a.find(w.target,!0);return y==null?null:y.domNode[a.DATA_KEY].mutations==null?(y.domNode[a.DATA_KEY].mutations=[w],y):(y.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===v||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],_)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,_),this.optimize(p,_)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){h(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var f in h)if(h[f]!==d[f])return!1;return!0}var u=function(h){o(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return h.formats.call(this,f)},d.prototype.format=function(f,p){var _=this;f===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(d.blotName,!0)),_.attributes.copy(v)}),this.unwrap()):h.prototype.format.call(this,f,p)},d.prototype.formatAt=function(f,p,_,v){if(this.formats()[_]!=null||a.query(_,a.Scope.ATTRIBUTE)){var w=this.isolate(f,p);w.format(_,v)}else h.prototype.formatAt.call(this,f,p,_,v)},d.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var _=this.next;_ instanceof d&&_.prev===this&&l(p,_.formats())&&(_.moveChildren(this),_.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var f=a.query(h.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},h.prototype.format=function(d,f){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,d,f))},h.prototype.formatAt=function(d,f,p,_){a.query(p,a.Scope.BLOCK)!=null?this.format(p,_):u.prototype.formatAt.call(this,d,f,p,_)},h.prototype.insertAt=function(d,f,p){if(p==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,p);else{var _=this.split(d),v=a.create(f,p);_.parent.insertBefore(v,_)}},h.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){l(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){l.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,f,p){h===0&&d===this.length()?this.format(f,p):l.prototype.formatAt.call(this,h,d,f,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(h,u);function h(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},h.prototype.index=function(d,f){return this.domNode===d?f:-1},h.prototype.insertAt=function(d,f,p){p==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,p)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,f){return[this.domNode,d]},h.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var p=a.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},h.prototype.update=function(d,f){var p=this;d.some(function(_){return _.type==="characterData"&&_.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],f,p=0;p<h;p++)if(f=u[p],l.call(d,f,p,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(m,k,N){if(m==k)return m?[[s,m]]:[];(N<0||m.length<N)&&(N=null);var S=d(m,k),T=m.substring(0,S);m=m.substring(S),k=k.substring(S),S=f(m,k);var O=m.substring(m.length-S);m=m.substring(0,m.length-S),k=k.substring(0,k.length-S);var b=l(m,k);return T&&b.unshift([s,T]),O&&b.push([s,O]),_(b),N!=null&&(b=y(b,N)),b=g(b),b}function l(m,k){var N;if(!m)return[[o,k]];if(!k)return[[i,m]];var S=m.length>k.length?m:k,T=m.length>k.length?k:m,O=S.indexOf(T);if(O!=-1)return N=[[o,S.substring(0,O)],[s,T],[o,S.substring(O+T.length)]],m.length>k.length&&(N[0][0]=N[2][0]=i),N;if(T.length==1)return[[i,m],[o,k]];var b=p(m,k);if(b){var I=b[0],R=b[1],P=b[2],L=b[3],j=b[4],H=a(I,P),W=a(R,L);return H.concat([[s,j]],W)}return u(m,k)}function u(m,k){for(var N=m.length,S=k.length,T=Math.ceil((N+S)/2),O=T,b=2*T,I=new Array(b),R=new Array(b),P=0;P<b;P++)I[P]=-1,R[P]=-1;I[O+1]=0,R[O+1]=0;for(var L=N-S,j=L%2!=0,H=0,W=0,Y=0,B=0,U=0;U<T;U++){for(var x=-U+H;x<=U-W;x+=2){var M=O+x,F;x==-U||x!=U&&I[M-1]<I[M+1]?F=I[M+1]:F=I[M-1]+1;for(var $=F-x;F<N&&$<S&&m.charAt(F)==k.charAt($);)F++,$++;if(I[M]=F,F>N)W+=2;else if($>S)H+=2;else if(j){var z=O+L-x;if(z>=0&&z<b&&R[z]!=-1){var V=N-R[z];if(F>=V)return h(m,k,F,$)}}}for(var q=-U+Y;q<=U-B;q+=2){var z=O+q,V;q==-U||q!=U&&R[z-1]<R[z+1]?V=R[z+1]:V=R[z-1]+1;for(var K=V-q;V<N&&K<S&&m.charAt(N-V-1)==k.charAt(S-K-1);)V++,K++;if(R[z]=V,V>N)B+=2;else if(K>S)Y+=2;else if(!j){var M=O+L-q;if(M>=0&&M<b&&I[M]!=-1){var F=I[M],$=O+F-M;if(V=N-V,F>=V)return h(m,k,F,$)}}}}return[[i,m],[o,k]]}function h(m,k,N,S){var T=m.substring(0,N),O=k.substring(0,S),b=m.substring(N),I=k.substring(S),R=a(T,O),P=a(b,I);return R.concat(P)}function d(m,k){if(!m||!k||m.charAt(0)!=k.charAt(0))return 0;for(var N=0,S=Math.min(m.length,k.length),T=S,O=0;N<T;)m.substring(O,T)==k.substring(O,T)?(N=T,O=N):S=T,T=Math.floor((S-N)/2+N);return T}function f(m,k){if(!m||!k||m.charAt(m.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,S=Math.min(m.length,k.length),T=S,O=0;N<T;)m.substring(m.length-T,m.length-O)==k.substring(k.length-T,k.length-O)?(N=T,O=N):S=T,T=Math.floor((S-N)/2+N);return T}function p(m,k){var N=m.length>k.length?m:k,S=m.length>k.length?k:m;if(N.length<4||S.length*2<N.length)return null;function T(W,Y,B){for(var U=W.substring(B,B+Math.floor(W.length/4)),x=-1,M="",F,$,z,V;(x=Y.indexOf(U,x+1))!=-1;){var q=d(W.substring(B),Y.substring(x)),K=f(W.substring(0,B),Y.substring(0,x));M.length<K+q&&(M=Y.substring(x-K,x)+Y.substring(x,x+q),F=W.substring(0,B-K),$=W.substring(B+q),z=Y.substring(0,x-K),V=Y.substring(x+q))}return M.length*2>=W.length?[F,$,z,V,M]:null}var O=T(N,S,Math.ceil(N.length/4)),b=T(N,S,Math.ceil(N.length/2)),I;if(!O&&!b)return null;b?O?I=O[4].length>b[4].length?O:b:I=b:I=O;var R,P,L,j;m.length>k.length?(R=I[0],P=I[1],L=I[2],j=I[3]):(L=I[0],j=I[1],R=I[2],P=I[3]);var H=I[4];return[R,P,L,j,H]}function _(m){m.push([s,""]);for(var k=0,N=0,S=0,T="",O="",b;k<m.length;)switch(m[k][0]){case o:S++,O+=m[k][1],k++;break;case i:N++,T+=m[k][1],k++;break;case s:N+S>1?(N!==0&&S!==0&&(b=d(O,T),b!==0&&(k-N-S>0&&m[k-N-S-1][0]==s?m[k-N-S-1][1]+=O.substring(0,b):(m.splice(0,0,[s,O.substring(0,b)]),k++),O=O.substring(b),T=T.substring(b)),b=f(O,T),b!==0&&(m[k][1]=O.substring(O.length-b)+m[k][1],O=O.substring(0,O.length-b),T=T.substring(0,T.length-b))),N===0?m.splice(k-S,N+S,[o,O]):S===0?m.splice(k-N,N+S,[i,T]):m.splice(k-N-S,N+S,[i,T],[o,O]),k=k-N-S+(N?1:0)+(S?1:0)+1):k!==0&&m[k-1][0]==s?(m[k-1][1]+=m[k][1],m.splice(k,1)):k++,S=0,N=0,T="",O="";break}m[m.length-1][1]===""&&m.pop();var I=!1;for(k=1;k<m.length-1;)m[k-1][0]==s&&m[k+1][0]==s&&(m[k][1].substring(m[k][1].length-m[k-1][1].length)==m[k-1][1]?(m[k][1]=m[k-1][1]+m[k][1].substring(0,m[k][1].length-m[k-1][1].length),m[k+1][1]=m[k-1][1]+m[k+1][1],m.splice(k-1,1),I=!0):m[k][1].substring(0,m[k+1][1].length)==m[k+1][1]&&(m[k-1][1]+=m[k+1][1],m[k][1]=m[k][1].substring(m[k+1][1].length)+m[k+1][1],m.splice(k+1,1),I=!0)),k++;I&&_(m)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function w(m,k){if(k===0)return[s,m];for(var N=0,S=0;S<m.length;S++){var T=m[S];if(T[0]===i||T[0]===s){var O=N+T[1].length;if(k===O)return[S+1,m];if(k<O){m=m.slice();var b=k-N,I=[T[0],T[1].slice(0,b)],R=[T[0],T[1].slice(b)];return m.splice(S,1,I,R),[S+1,m]}else N=O}}throw new Error("cursor_pos is out of bounds!")}function y(m,k){var N=w(m,k),S=N[1],T=N[0],O=S[T],b=S[T+1];if(O==null)return m;if(O[0]!==s)return m;if(b!=null&&O[1]+b[1]===b[1]+O[1])return S.splice(T,2,b,O),E(S,T,2);if(b!=null&&b[1].indexOf(O[1])===0){S.splice(T,2,[b[0],O[1]],[0,O[1]]);var I=b[1].slice(O[1].length);return I.length>0&&S.splice(T+2,0,[b[0],I]),E(S,T,3)}else return m}function g(m){for(var k=!1,N=function(b){return b.charCodeAt(0)>=56320&&b.charCodeAt(0)<=57343},S=function(b){return b.charCodeAt(b.length-1)>=55296&&b.charCodeAt(b.length-1)<=56319},T=2;T<m.length;T+=1)m[T-2][0]===s&&S(m[T-2][1])&&m[T-1][0]===i&&N(m[T-1][1])&&m[T][0]===o&&N(m[T][1])&&(k=!0,m[T-1][1]=m[T-2][1].slice(-1)+m[T-1][1],m[T][1]=m[T-2][1].slice(-1)+m[T][1],m[T-2][1]=m[T-2][1].slice(0,-1));if(!k)return m;for(var O=[],T=0;T<m.length;T+=1)m[T][1].length>0&&O.push(m[T]);return O}function E(m,k,N){for(var S=k+N-1;S>=0&&S>=k-1;S--)if(S+1<m.length){var T=m[S],O=m[S+1];T[0]===O[1]&&m.splice(S,2,[T[0],T[1]+O[1]])}return m}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)i.call(d,f)&&h.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h,d){var f=o?o+h:h,p=this._events[f];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var _=0,v=p.length,w=new Array(v);_<v;_++)w[_]=p[_].fn;return w},l.prototype.emit=function(h,d,f,p,_,v){var w=o?o+h:h;if(!this._events[w])return!1;var y=this._events[w],g=arguments.length,E,m;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,_),!0;case 6:return y.fn.call(y.context,d,f,p,_,v),!0}for(m=1,E=new Array(g-1);m<g;m++)E[m-1]=arguments[m];y.fn.apply(y.context,E)}else{var k=y.length,N;for(m=0;m<k;m++)switch(y[m].once&&this.removeListener(h,y[m].fn,void 0,!0),g){case 1:y[m].fn.call(y[m].context);break;case 2:y[m].fn.call(y[m].context,d);break;case 3:y[m].fn.call(y[m].context,d,f);break;case 4:y[m].fn.call(y[m].context,d,f,p);break;default:if(!E)for(N=1,E=new Array(g-1);N<g;N++)E[N-1]=arguments[N];y[m].fn.apply(y[m].context,E)}}return!0},l.prototype.on=function(h,d,f){var p=new a(d,f||this),_=o?o+h:h;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.once=function(h,d,f){var p=new a(d,f||this,!0),_=o?o+h:h;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.removeListener=function(h,d,f,p){var _=o?o+h:h;if(!this._events[_])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[_],this;var v=this._events[_];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[_]);else{for(var w=0,y=[],g=v.length;w<g;w++)(v[w].fn!==d||p&&!v[w].once||f&&v[w].context!==f)&&y.push(v[w]);y.length?this._events[_]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new s:delete this._events[_]}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=o?o+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},s=function(){function te(ne,fe){var de=[],se=!0,Le=!1,Ne=void 0;try{for(var xe=ne[Symbol.iterator](),Nt;!(se=(Nt=xe.next()).done)&&(de.push(Nt.value),!(fe&&de.length===fe));se=!0);}catch(nt){Le=!0,Ne=nt}finally{try{!se&&xe.return&&xe.return()}finally{if(Le)throw Ne}}return de}return function(ne,fe){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return te(ne,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(ne,fe){for(var de=0;de<fe.length;de++){var se=fe[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ne,se.key,se)}}return function(ne,fe,de){return fe&&te(ne.prototype,fe),de&&te(ne,de),ne}}(),l=i(3),u=R(l),h=i(2),d=R(h),f=i(0),p=R(f),_=i(5),v=R(_),w=i(10),y=R(w),g=i(9),E=R(g),m=i(36),k=i(37),N=i(13),S=R(N),T=i(26),O=i(38),b=i(39),I=i(40);function R(te){return te&&te.__esModule?te:{default:te}}function P(te,ne,fe){return ne in te?Object.defineProperty(te,ne,{value:fe,enumerable:!0,configurable:!0,writable:!0}):te[ne]=fe,te}function L(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function j(te,ne){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:te}function H(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ne):te.__proto__=ne)}var W=(0,y.default)("quill:clipboard"),Y="__ql-matcher",B=[[Node.TEXT_NODE,st],[Node.TEXT_NODE,Ue],["br",pe],[Node.ELEMENT_NODE,Ue],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Lt],["li",Re],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",Ie]],U=[m.AlignAttribute,O.DirectionAttribute].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),x=[m.AlignStyle,k.BackgroundStyle,T.ColorStyle,O.DirectionStyle,b.FontStyle,I.SizeStyle].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),M=function(te){H(ne,te);function ne(fe,de){L(this,ne);var se=j(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,fe,de));return se.quill.root.addEventListener("paste",se.onPaste.bind(se)),se.container=se.quill.addContainer("ql-clipboard"),se.container.setAttribute("contenteditable",!0),se.container.setAttribute("tabindex",-1),se.matchers=[],B.concat(se.options.matchers).forEach(function(Le){var Ne=s(Le,2),xe=Ne[0],Nt=Ne[1];!de.matchVisual&&Nt===je||se.addMatcher(xe,Nt)}),se}return a(ne,[{key:"addMatcher",value:function(de,se){this.matchers.push([de,se])}},{key:"convert",value:function(de){if(typeof de=="string")return this.container.innerHTML=de.replace(/\>\r?\n +\</g,"><"),this.convert();var se=this.quill.getFormat(this.quill.selection.savedRange.index);if(se[S.default.blotName]){var Le=this.container.innerText;return this.container.innerHTML="",new d.default().insert(Le,P({},S.default.blotName,se[S.default.blotName]))}var Ne=this.prepareMatching(),xe=s(Ne,2),Nt=xe[0],nt=xe[1],Me=q(this.container,Nt,nt);return z(Me,`
`)&&Me.ops[Me.ops.length-1].attributes==null&&(Me=Me.compose(new d.default().retain(Me.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Me),this.container.innerHTML="",Me}},{key:"dangerouslyPasteHTML",value:function(de,se){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof de=="string")this.quill.setContents(this.convert(de),se),this.quill.setSelection(0,v.default.sources.SILENT);else{var Ne=this.convert(se);this.quill.updateContents(new d.default().retain(de).concat(Ne),Le),this.quill.setSelection(de+Ne.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(de){var se=this;if(!(de.defaultPrevented||!this.quill.isEnabled())){var Le=this.quill.getSelection(),Ne=new d.default().retain(Le.index),xe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Ne=Ne.concat(se.convert()).delete(Le.length),se.quill.updateContents(Ne,v.default.sources.USER),se.quill.setSelection(Ne.length()-Le.length,v.default.sources.SILENT),se.quill.scrollingContainer.scrollTop=xe,se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var de=this,se=[],Le=[];return this.matchers.forEach(function(Ne){var xe=s(Ne,2),Nt=xe[0],nt=xe[1];switch(Nt){case Node.TEXT_NODE:Le.push(nt);break;case Node.ELEMENT_NODE:se.push(nt);break;default:[].forEach.call(de.container.querySelectorAll(Nt),function(Me){Me[Y]=Me[Y]||[],Me[Y].push(nt)});break}}),[se,Le]}}]),ne}(E.default);M.DEFAULTS={matchers:[],matchVisual:!0};function F(te,ne,fe){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(de,se){return F(de,se,ne[se])},te):te.reduce(function(de,se){return se.attributes&&se.attributes[ne]?de.push(se):de.insert(se.insert,(0,u.default)({},P({},ne,fe),se.attributes))},new d.default)}function $(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return te[ne]||(te[ne]=window.getComputedStyle(te))}function z(te,ne){for(var fe="",de=te.ops.length-1;de>=0&&fe.length<ne.length;--de){var se=te.ops[de];if(typeof se.insert!="string")break;fe=se.insert+fe}return fe.slice(-1*ne.length)===ne}function V(te){if(te.childNodes.length===0)return!1;var ne=$(te);return["block","list-item"].indexOf(ne.display)>-1}function q(te,ne,fe){return te.nodeType===te.TEXT_NODE?fe.reduce(function(de,se){return se(te,de)},new d.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(de,se){var Le=q(se,ne,fe);return se.nodeType===te.ELEMENT_NODE&&(Le=ne.reduce(function(Ne,xe){return xe(se,Ne)},Le),Le=(se[Y]||[]).reduce(function(Ne,xe){return xe(se,Ne)},Le)),de.concat(Le)},new d.default):new d.default}function K(te,ne,fe){return F(fe,te,!0)}function Q(te,ne){var fe=p.default.Attributor.Attribute.keys(te),de=p.default.Attributor.Class.keys(te),se=p.default.Attributor.Style.keys(te),Le={};return fe.concat(de).concat(se).forEach(function(Ne){var xe=p.default.query(Ne,p.default.Scope.ATTRIBUTE);xe!=null&&(Le[xe.attrName]=xe.value(te),Le[xe.attrName])||(xe=U[Ne],xe!=null&&(xe.attrName===Ne||xe.keyName===Ne)&&(Le[xe.attrName]=xe.value(te)||void 0),xe=x[Ne],xe!=null&&(xe.attrName===Ne||xe.keyName===Ne)&&(xe=x[Ne],Le[xe.attrName]=xe.value(te)||void 0))}),Object.keys(Le).length>0&&(ne=F(ne,Le)),ne}function ie(te,ne){var fe=p.default.query(te);if(fe==null)return ne;if(fe.prototype instanceof p.default.Embed){var de={},se=fe.value(te);se!=null&&(de[fe.blotName]=se,ne=new d.default().insert(de,fe.formats(te)))}else typeof fe.formats=="function"&&(ne=F(ne,fe.blotName,fe.formats(te)));return ne}function pe(te,ne){return z(ne,`
`)||ne.insert(`
`),ne}function Ie(){return new d.default}function Re(te,ne){var fe=p.default.query(te);if(fe==null||fe.blotName!=="list-item"||!z(ne,`
`))return ne;for(var de=-1,se=te.parentNode;!se.classList.contains("ql-clipboard");)(p.default.query(se)||{}).blotName==="list"&&(de+=1),se=se.parentNode;return de<=0?ne:ne.compose(new d.default().retain(ne.length()-1).retain(1,{indent:de}))}function Ue(te,ne){return z(ne,`
`)||(V(te)||ne.length()>0&&te.nextSibling&&V(te.nextSibling))&&ne.insert(`
`),ne}function je(te,ne){if(V(te)&&te.nextElementSibling!=null&&!z(ne,`

`)){var fe=te.offsetHeight+parseFloat($(te).marginTop)+parseFloat($(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+fe*1.5&&ne.insert(`
`)}return ne}function Lt(te,ne){var fe={},de=te.style||{};return de.fontStyle&&$(te).fontStyle==="italic"&&(fe.italic=!0),de.fontWeight&&($(te).fontWeight.startsWith("bold")||parseInt($(te).fontWeight)>=700)&&(fe.bold=!0),Object.keys(fe).length>0&&(ne=F(ne,fe)),parseFloat(de.textIndent||0)>0&&(ne=new d.default().insert("	").concat(ne)),ne}function st(te,ne){var fe=te.data;if(te.parentNode.tagName==="O:P")return ne.insert(fe.trim());if(fe.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ne;if(!$(te.parentNode).whiteSpace.startsWith("pre")){var de=function(Le,Ne){return Ne=Ne.replace(/[^\u00a0]/g,""),Ne.length<1&&Le?" ":Ne};fe=fe.replace(/\r\n/g," ").replace(/\n/g," "),fe=fe.replace(/\s\s+/g,de.bind(de,!0)),(te.previousSibling==null&&V(te.parentNode)||te.previousSibling!=null&&V(te.previousSibling))&&(fe=fe.replace(/^\s+/,de.bind(de,!1))),(te.nextSibling==null&&V(te.parentNode)||te.nextSibling!=null&&V(te.nextSibling))&&(fe=fe.replace(/\s+$/,de.bind(de,!1)))}return ne.insert(fe)}r.default=M,r.matchAttributor=Q,r.matchBlot=ie,r.matchNewline=Ue,r.matchSpacing=je,r.matchText=st},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var y=0;y<w.length;y++){var g=w[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,w,y){return w&&_(v.prototype,w),y&&_(v,y),v}}(),s=function _(v,w,y){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,w);if(g===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,y)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(y)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function I(R,P){var L=[],j=!0,H=!1,W=void 0;try{for(var Y=R[Symbol.iterator](),B;!(j=(B=Y.next()).done)&&(L.push(B.value),!(P&&L.length===P));j=!0);}catch(U){H=!0,W=U}finally{try{!j&&Y.return&&Y.return()}finally{if(H)throw W}}return L}return function(R,P){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(R,P){for(var L=0;L<P.length;L++){var j=P[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}return function(R,P,L){return P&&I(R.prototype,P),L&&I(R,L),R}}(),a=i(2),l=y(a),u=i(0),h=y(u),d=i(5),f=y(d),p=i(10),_=y(p),v=i(9),w=y(v);function y(I){return I&&I.__esModule?I:{default:I}}function g(I,R,P){return R in I?Object.defineProperty(I,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[R]=P,I}function E(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function m(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function k(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var N=(0,_.default)("quill:toolbar"),S=function(I){k(R,I);function R(P,L){E(this,R);var j=m(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P,L));if(Array.isArray(j.options.container)){var H=document.createElement("div");O(H,j.options.container),P.container.parentNode.insertBefore(H,P.container),j.container=H}else typeof j.options.container=="string"?j.container=document.querySelector(j.options.container):j.container=j.options.container;if(!(j.container instanceof HTMLElement)){var W;return W=N.error("Container required for toolbar",j.options),m(j,W)}return j.container.classList.add("ql-toolbar"),j.controls=[],j.handlers={},Object.keys(j.options.handlers).forEach(function(Y){j.addHandler(Y,j.options.handlers[Y])}),[].forEach.call(j.container.querySelectorAll("button, select"),function(Y){j.attach(Y)}),j.quill.on(f.default.events.EDITOR_CHANGE,function(Y,B){Y===f.default.events.SELECTION_CHANGE&&j.update(B)}),j.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var Y=j.quill.selection.getRange(),B=o(Y,1),U=B[0];j.update(U)}),j}return s(R,[{key:"addHandler",value:function(L,j){this.handlers[L]=j}},{key:"attach",value:function(L){var j=this,H=[].find.call(L.classList,function(Y){return Y.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){N.warn("ignoring attaching to disabled format",H,L);return}if(h.default.query(H)==null){N.warn("ignoring attaching to nonexistent format",H,L);return}}var W=L.tagName==="SELECT"?"change":"click";L.addEventListener(W,function(Y){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var U=L.options[L.selectedIndex];U.hasAttribute("selected")?B=!1:B=U.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),Y.preventDefault();j.quill.focus();var x=j.quill.selection.getRange(),M=o(x,1),F=M[0];if(j.handlers[H]!=null)j.handlers[H].call(j,B);else if(h.default.query(H).prototype instanceof h.default.Embed){if(B=prompt("Enter "+H),!B)return;j.quill.updateContents(new l.default().retain(F.index).delete(F.length).insert(g({},H,B)),f.default.sources.USER)}else j.quill.format(H,B,f.default.sources.USER);j.update(F)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var j=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var W=o(H,2),Y=W[0],B=W[1];if(B.tagName==="SELECT"){var U=void 0;if(L==null)U=null;else if(j[Y]==null)U=B.querySelector("option[selected]");else if(!Array.isArray(j[Y])){var x=j[Y];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),U=B.querySelector('option[value="'+x+'"]')}U==null?(B.value="",B.selectedIndex=-1):U.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=j[Y]===B.getAttribute("value")||j[Y]!=null&&j[Y].toString()===B.getAttribute("value")||j[Y]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",j[Y]!=null)})}}]),R}(w.default);S.DEFAULTS={};function T(I,R,P){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),P!=null&&(L.value=P),I.appendChild(L)}function O(I,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(P){var L=document.createElement("span");L.classList.add("ql-formats"),P.forEach(function(j){if(typeof j=="string")T(L,j);else{var H=Object.keys(j)[0],W=j[H];Array.isArray(W)?b(L,H,W):T(L,H,W)}}),I.appendChild(L)})}function b(I,R,P){var L=document.createElement("select");L.classList.add("ql-"+R),P.forEach(function(j){var H=document.createElement("option");j!==!1?H.setAttribute("value",j):H.setAttribute("selected","selected"),L.appendChild(H)}),I.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var R=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(j){h.default.query(j,h.default.Scope.INLINE)!=null&&R.quill.format(j,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(R){var P=this.quill.getFormat().align;R==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!R&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",R,f.default.sources.USER)},indent:function(R){var P=this.quill.getSelection(),L=this.quill.getFormat(P),j=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var H=R==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",j+H,f.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,f.default.sources.USER)},list:function(R){var P=this.quill.getSelection(),L=this.quill.getFormat(P);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",R,f.default.sources.USER)}}},r.default=S,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var y=0;y<w.length;y++){var g=w[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,w,y){return w&&_(v.prototype,w),y&&_(v,y),v}}(),s=function _(v,w,y){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,w);if(g===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,y)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(y)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(w,y){h(this,v);var g=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return g.label.innerHTML=y,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),g}return o(v,[{key:"buildItem",value:function(y){var g=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return g.style.backgroundColor=y.getAttribute("value")||"",g}},{key:"selectItem",value:function(y,g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,g);var E=this.label.querySelector(".ql-color-label"),m=y&&y.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=m:E.style.fill=m)}}]),v}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var y=0;y<w.length;y++){var g=w[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,w,y){return w&&_(v.prototype,w),y&&_(v,y),v}}(),s=function _(v,w,y){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,w);if(g===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,y)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(y)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(w,y){h(this,v);var g=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=y[E.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(v,[{key:"selectItem",value:function(y,g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,g),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var d=this;s(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),v=0;if(_.right>p.right&&(v=p.right-_.right,this.root.style.left=d+v+"px"),_.left<p.left&&(v=p.left-_.left,this.root.style.left=d+v+"px"),_.bottom>p.bottom){var w=_.bottom-_.top,y=h.bottom-h.top+w;this.root.style.top=f-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(I,R){var P=[],L=!0,j=!1,H=void 0;try{for(var W=I[Symbol.iterator](),Y;!(L=(Y=W.next()).done)&&(P.push(Y.value),!(R&&P.length===R));L=!0);}catch(B){j=!0,H=B}finally{try{!L&&W.return&&W.return()}finally{if(j)throw H}}return P}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return b(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(I,R,P){I===null&&(I=Function.prototype);var L=Object.getOwnPropertyDescriptor(I,R);if(L===void 0){var j=Object.getPrototypeOf(I);return j===null?void 0:b(j,R,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},a=function(){function b(I,R){for(var P=0;P<R.length;P++){var L=R[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,R,P){return R&&b(I.prototype,R),P&&b(I,P),I}}(),l=i(3),u=E(l),h=i(8),d=E(h),f=i(43),p=E(f),_=i(27),v=E(_),w=i(15),y=i(41),g=E(y);function E(b){return b&&b.__esModule?b:{default:b}}function m(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function k(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:b}function N(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(b){N(I,b);function I(R,P){m(this,I),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=S);var L=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,P));return L.quill.container.classList.add("ql-snow"),L}return a(I,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default),this.tooltip=new O(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,j){P.handlers.link.call(P,!j.format.link)})}}]),I}(p.default);T.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var R=this.quill.getSelection();if(R==null||R.length==0)return;var P=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var L=this.quill.theme.tooltip;L.edit("link",P)}else this.quill.format("link",!1)}}}}});var O=function(b){N(I,b);function I(R,P){m(this,I);var L=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,P));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(I,[{key:"listen",value:function(){var P=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(P.linkRange!=null){var j=P.linkRange;P.restoreFocus(),P.quill.formatText(j,"link",!1,d.default.sources.USER),delete P.linkRange}L.preventDefault(),P.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(L,j,H){if(L!=null){if(L.length===0&&H===d.default.sources.USER){var W=P.quill.scroll.descendant(v.default,L.index),Y=o(W,2),B=Y[0],U=Y[1];if(B!=null){P.linkRange=new w.Range(L.index-U,B.length());var x=v.default.formats(B.domNode);P.preview.textContent=x,P.preview.setAttribute("href",x),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(f.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=se(o),a=i(36),l=i(38),u=i(64),h=i(65),d=se(h),f=i(66),p=se(f),_=i(67),v=se(_),w=i(37),y=i(26),g=i(39),E=i(40),m=i(56),k=se(m),N=i(68),S=se(N),T=i(27),O=se(T),b=i(69),I=se(b),R=i(70),P=se(R),L=i(71),j=se(L),H=i(72),W=se(H),Y=i(73),B=se(Y),U=i(13),x=se(U),M=i(74),F=se(M),$=i(75),z=se($),V=i(57),q=se(V),K=i(41),Q=se(K),ie=i(28),pe=se(ie),Ie=i(59),Re=se(Ie),Ue=i(60),je=se(Ue),Lt=i(61),st=se(Lt),te=i(108),ne=se(te),fe=i(62),de=se(fe);function se(Le){return Le&&Le.__esModule?Le:{default:Le}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":g.FontClass,"formats/size":E.SizeClass,"formats/blockquote":d.default,"formats/code-block":x.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":k.default,"formats/code":U.Code,"formats/italic":S.default,"formats/link":O.default,"formats/script":I.default,"formats/strike":P.default,"formats/underline":j.default,"formats/image":W.default,"formats/video":B.default,"formats/list/item":_.ListItem,"modules/formula":F.default,"modules/syntax":z.default,"modules/toolbar":q.default,"themes/bubble":ne.default,"themes/snow":de.default,"ui/icons":Q.default,"ui/picker":pe.default,"ui/icon-picker":je.default,"ui/color-picker":Re.default,"ui/tooltip":st.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(w,y){for(var g=0;g<y.length;g++){var E=y[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,y,g){return y&&v(w.prototype,y),g&&v(w,g),w}}(),s=function v(w,y,g){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,y);if(E===void 0){var m=Object.getPrototypeOf(w);return m===null?void 0:v(m,y,g)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(g)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function d(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function f(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){f(w,v);function w(){return h(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(g,E){if(E==="+1"||E==="-1"){var m=this.value(g)||0;E=E==="+1"?m+1:m-1}return E===0?(this.remove(g),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,g,E)}},{key:"canAdd",value:function(g,E){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,g,E)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,g,parseInt(E))}},{key:"value",value:function(g){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,g))||void 0}}]),w}(l.default.Attributor.Class),_=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(_,v){for(var w=0;w<v.length;w++){var y=v[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(_,y.key,y)}}return function(_,v,w){return v&&p(_.prototype,v),w&&p(_,w),_}}(),s=i(4),a=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function h(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function d(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var f=function(p){d(_,p);function _(){return u(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),_}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function m(k,N){for(var S=0;S<N.length;S++){var T=N[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,N,S){return N&&m(k.prototype,N),S&&m(k,S),k}}(),s=function m(k,N,S){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,N);if(T===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:m(O,N,S)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(S)}},a=i(0),l=p(a),u=i(4),h=p(u),d=i(25),f=p(d);function p(m){return m&&m.__esModule?m:{default:m}}function _(m,k,N){return k in m?Object.defineProperty(m,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):m[k]=N,m}function v(m,k){if(!(m instanceof k))throw new TypeError("Cannot call a class as a function")}function w(m,k){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:m}function y(m,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);m.prototype=Object.create(k&&k.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(m,k):m.__proto__=k)}var g=function(m){y(k,m);function k(){return v(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(S,T){S===E.blotName&&!T?this.replaceWith(l.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,T){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,T),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,T))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(h.default);g.blotName="list-item",g.tagName="LI";var E=function(m){y(k,m),o(k,null,[{key:"create",value:function(S){var T=S==="ordered"?"OL":"UL",O=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,T);return(S==="checked"||S==="unchecked")&&O.setAttribute("data-checked",S==="checked"),O}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){v(this,k);var S=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),T=function(b){if(b.target.parentNode===N){var I=S.statics.formats(N),R=l.default.find(b.target);I==="checked"?R.format("list","unchecked"):I==="unchecked"&&R.format("list","checked")}};return N.addEventListener("touchstart",T),N.addEventListener("mousedown",T),S}return o(k,[{key:"format",value:function(S,T){this.children.length>0&&this.children.tail.format(S,T)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,T){if(S instanceof g)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,T);else{var O=T==null?this.length():T.offset(this),b=this.split(O);b.parent.insertBefore(S,b)}}},{key:"optimize",value:function(S){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var T=l.default.create(this.statics.defaultChild);S.moveChildren(T),this.appendChild(T)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(f.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[g],r.ListItem=g,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var y=0;y<w.length;y++){var g=w[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,w,y){return w&&_(v.prototype,w),y&&_(v,y),v}}(),s=function _(v,w,y){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,w);if(g===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,y)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(y)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=function(_){f(v,_);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,g){for(var E=0;E<g.length;E++){var m=g[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,E){return g&&w(y.prototype,g),E&&w(y,E),y}}(),s=function w(y,g,E){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,g);if(m===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:w(k,g,E)}else{if("value"in m)return m.value;var N=m.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=h(a),u=i(27);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function p(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var _=["alt","height","width"],v=function(w){p(y,w);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(E,m){_.indexOf(E)>-1?m?this.domNode.setAttribute(E,m):this.domNode.removeAttribute(E):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,E,m)}}],[{key:"create",value:function(E){var m=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,E);return typeof E=="string"&&m.setAttribute("src",this.sanitize(E)),m}},{key:"formats",value:function(E){return _.reduce(function(m,k){return E.hasAttribute(k)&&(m[k]=E.getAttribute(k)),m},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,u.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),y}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,g){for(var E=0;E<g.length;E++){var m=g[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,E){return g&&w(y.prototype,g),E&&w(y,E),y}}(),s=function w(y,g,E){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,g);if(m===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:w(k,g,E)}else{if("value"in m)return m.value;var N=m.get;return N===void 0?void 0:N.call(E)}},a=i(4),l=i(27),u=h(l);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function p(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var _=["height","width"],v=function(w){p(y,w);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(E,m){_.indexOf(E)>-1?m?this.domNode.setAttribute(E,m):this.domNode.removeAttribute(E):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,E,m)}}],[{key:"create",value:function(E){var m=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,E);return m.setAttribute("frameborder","0"),m.setAttribute("allowfullscreen",!0),m.setAttribute("src",this.sanitize(E)),m}},{key:"formats",value:function(E){return _.reduce(function(m,k){return E.hasAttribute(k)&&(m[k]=E.getAttribute(k)),m},{})}},{key:"sanitize",value:function(E){return u.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),y}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(m,k){for(var N=0;N<k.length;N++){var S=k[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,k,N){return k&&E(m.prototype,k),N&&E(m,N),m}}(),s=function E(m,k,N){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,k);if(S===void 0){var T=Object.getPrototypeOf(m);return T===null?void 0:E(T,k,N)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(N)}},a=i(35),l=p(a),u=i(5),h=p(u),d=i(9),f=p(d);function p(E){return E&&E.__esModule?E:{default:E}}function _(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function v(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function w(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var y=function(E){w(m,E);function m(){return _(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(N){var S=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",N)),S}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),m}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var g=function(E){w(m,E),o(m,null,[{key:"register",value:function(){h.default.register(y,!0)}}]);function m(){_(this,m);var k=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return m}(f.default);r.FormulaBlot=y,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function N(S,T){for(var O=0;O<T.length;O++){var b=T[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,T,O){return T&&N(S.prototype,T),O&&N(S,O),S}}(),s=function N(S,T,O){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,T);if(b===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:N(I,T,O)}else{if("value"in b)return b.value;var R=b.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=v(a),u=i(5),h=v(u),d=i(9),f=v(d),p=i(13),_=v(p);function v(N){return N&&N.__esModule?N:{default:N}}function w(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function y(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function g(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var E=function(N){g(S,N);function S(){return w(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var b=this.domNode.textContent;this.cachedText!==b&&((b.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(b),this.domNode.normalize(),this.attach()),this.cachedText=b)}}]),S}(_.default);E.className="ql-syntax";var m=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(N){g(S,N),o(S,null,[{key:"register",value:function(){h.default.register(m,!0),h.default.register(E,!0)}}]);function S(T,O){w(this,S);var b=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T,O));if(typeof b.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return b.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){b.highlight(),I=null},b.options.interval)}),b.highlight(),b}return o(S,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var b=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(I){I.highlight(O.options.highlight)}),this.quill.update(h.default.sources.SILENT),b!=null&&this.quill.setSelection(b,h.default.sources.SILENT)}}}]),S}(f.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var S=window.hljs.highlightAuto(N);return S.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=m,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(T,O,b){T===null&&(T=Function.prototype);var I=Object.getOwnPropertyDescriptor(T,O);if(I===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:S(R,O,b)}else{if("value"in I)return I.value;var P=I.get;return P===void 0?void 0:P.call(b)}},s=function(){function S(T,O){for(var b=0;b<O.length;b++){var I=O[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}}return function(T,O,b){return O&&S(T.prototype,O),b&&S(T,b),T}}(),a=i(3),l=w(a),u=i(8),h=w(u),d=i(43),f=w(d),p=i(15),_=i(41),v=w(_);function w(S){return S&&S.__esModule?S:{default:S}}function y(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function g(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function E(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){E(T,S);function T(O,b){y(this,T),b.modules.toolbar!=null&&b.modules.toolbar.container==null&&(b.modules.toolbar.container=m);var I=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,b));return I.quill.container.classList.add("ql-bubble"),I}return s(T,[{key:"extendToolbar",value:function(b){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(b.container),this.buildButtons([].slice.call(b.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(b.container.querySelectorAll("select")),v.default)}}]),T}(f.default);k.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(S){E(T,S);function T(O,b){y(this,T);var I=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,b));return I.quill.on(h.default.events.EDITOR_CHANGE,function(R,P,L,j){if(R===h.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&j===h.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var H=I.quill.getLines(P.index,P.length);if(H.length===1)I.position(I.quill.getBounds(P));else{var W=H[H.length-1],Y=I.quill.getIndex(W),B=Math.min(W.length()-1,P.index+P.length-Y),U=I.quill.getBounds(new p.Range(Y,B));I.position(U)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return s(T,[{key:"listen",value:function(){var b=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){b.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!b.root.classList.contains("ql-hidden")){var I=b.quill.getSelection();I!=null&&b.position(b.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(b){var I=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,b),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",I===0)return I;R.style.marginLeft=-1*I-R.offsetWidth/2+"px"}}]),T}(d.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(eI);var A9=eI.exports,b9=Bn&&Bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qf=Bn&&Bn.__assign||function(){return qf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qf.apply(this,arguments)},I9=Bn&&Bn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Gh=Bn&&Bn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Or=Gh(re),k9=Gh(FT),sl=Gh(S9),mw=Gh(A9),R9=function(t){b9(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,h,d,f;o==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(d=r).onEditorChangeSelection)===null||f===void 0||f.call(d,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Or.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Or.default.Children.count(n.children)){var i=Or.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),I9(this.cleanProps,this.dirtyProps).some(function(l){return!sl.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!sl.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),gw(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new mw.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?sl.default(n.ops,r.ops):sl.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),gw(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=k9.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Or.default.Children.count(i)?Or.default.cloneElement(Or.default.Children.only(i),a):o?Or.default.createElement("pre",qf({},a)):Or.default.createElement("div",qf({},a))},e.prototype.render=function(){var n;return Or.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,h;if(this.editor){var d=this.getEditorSelection(),f=!d&&n,p=d&&!n;sl.default(n,d)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=mw.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Or.default.Component);function gw(t){Promise.resolve().then(t)}var P9=R9;const O9=bw(P9);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var tI;function me(){return tI.apply(null,arguments)}function C9(t){tI=t}function Tr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Uo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gy(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function kn(t){return t===void 0}function Ei(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Lu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function nI(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Gi(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Wr(t,e,n,r){return II(t,e,n,r,!0).utc()}function N9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Fe(t){return t._pf==null&&(t._pf=N9()),t._pf}var qm;Array.prototype.some?qm=Array.prototype.some:qm=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Ky(t){if(t._isValid==null){var e=Fe(t),n=qm.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Kh(t){var e=Wr(NaN);return t!=null?Gi(Fe(e),t):Fe(e).userInvalidated=!0,e}var yw=me.momentProperties=[],up=!1;function Qy(t,e){var n,r,i,o=yw.length;if(kn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),kn(e._i)||(t._i=e._i),kn(e._f)||(t._f=e._f),kn(e._l)||(t._l=e._l),kn(e._strict)||(t._strict=e._strict),kn(e._tzm)||(t._tzm=e._tzm),kn(e._isUTC)||(t._isUTC=e._isUTC),kn(e._offset)||(t._offset=e._offset),kn(e._pf)||(t._pf=Fe(e)),kn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=yw[n],i=e[r],kn(i)||(t[r]=i);return t}function Mu(t){Qy(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),up===!1&&(up=!0,me.updateOffset(this),up=!1)}function Sr(t){return t instanceof Mu||t!=null&&t._isAMomentObject!=null}function rI(t){me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function or(t,e){var n=!0;return Gi(function(){if(me.deprecationHandler!=null&&me.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Xe(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}rI(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var vw={};function iI(t,e){me.deprecationHandler!=null&&me.deprecationHandler(t,e),vw[t]||(rI(e),vw[t]=!0)}me.suppressDeprecationWarnings=!1;me.deprecationHandler=null;function Yr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function x9(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],Yr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $m(t,e){var n=Gi({},t),r;for(r in e)Xe(e,r)&&(Uo(t[r])&&Uo(e[r])?(n[r]={},Gi(n[r],t[r]),Gi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&Uo(t[r])&&(n[r]=Gi({},n[r]));return n}function Xy(t){t!=null&&this.set(t)}var zm;Object.keys?zm=Object.keys:zm=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var D9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L9(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Yr(r)?r.call(e,n):r}function zr(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Jy=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ac=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,cp={},Gs={};function Te(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Gs[t]=i),e&&(Gs[e[0]]=function(){return zr(i.apply(this,arguments),e[1],e[2])}),n&&(Gs[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function M9(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V9(t){var e=t.match(Jy),n,r;for(n=0,r=e.length;n<r;n++)Gs[e[n]]?e[n]=Gs[e[n]]:e[n]=M9(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Yr(e[s])?e[s].call(i,t):e[s];return o}}function Yc(t,e){return t.isValid()?(e=oI(e,t.localeData()),cp[e]=cp[e]||V9(e),cp[e](t)):t.localeData().invalidDate()}function oI(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Ac.lastIndex=0;n>=0&&Ac.test(t);)t=t.replace(Ac,r),Ac.lastIndex=0,n-=1;return t}var U9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function F9(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Jy).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var j9="Invalid date";function B9(){return this._invalidDate}var q9="%d",$9=/\d{1,2}/;function z9(t){return this._ordinal.replace("%d",t)}var H9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function W9(t,e,n,r){var i=this._relativeTime[n];return Yr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Y9(t,e){var n=this._relativeTime[t>0?"future":"past"];return Yr(n)?n(e):n.replace(/%s/i,e)}var Ll={};function yn(t,e){var n=t.toLowerCase();Ll[n]=Ll[n+"s"]=Ll[e]=t}function sr(t){return typeof t=="string"?Ll[t]||Ll[t.toLowerCase()]:void 0}function Zy(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=sr(r),n&&(e[n]=t[r]));return e}var sI={};function vn(t,e){sI[t]=e}function G9(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:sI[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Qh(t){return t%4===0&&t%100!==0||t%400===0}function er(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Be(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=er(e)),n}function Na(t,e){return function(n){return n!=null?(aI(this,t,n),me.updateOffset(this,e),this):$f(this,t)}}function $f(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function aI(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Qh(t.year())&&t.month()===1&&t.date()===29?(n=Be(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),nd(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function K9(t){return t=sr(t),Yr(this[t])?this[t]():this}function Q9(t,e){if(typeof t=="object"){t=Zy(t);var n=G9(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=sr(t),Yr(this[t]))return this[t](e);return this}var lI=/\d/,Kn=/\d\d/,uI=/\d{3}/,ev=/\d{4}/,Xh=/[+-]?\d{6}/,gt=/\d\d?/,cI=/\d\d\d\d?/,fI=/\d\d\d\d\d\d?/,Jh=/\d{1,3}/,tv=/\d{1,4}/,Zh=/[+-]?\d{1,6}/,xa=/\d+/,ed=/[+-]?\d+/,X9=/Z|[+-]\d\d:?\d\d/gi,td=/Z|[+-]\d\d(?::?\d\d)?/gi,J9=/[+-]?\d+(\.\d{1,3})?/,Vu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,zf;zf={};function ge(t,e,n){zf[t]=Yr(e)?e:function(r,i){return r&&n?n:e}}function Z9(t,e){return Xe(zf,t)?zf[t](e._strict,e._locale):new RegExp(eB(t))}function eB(t){return jn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function jn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Hm={};function it(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Ei(e)&&(r=function(o,s){s[e]=Be(o)}),i=t.length,n=0;n<i;n++)Hm[t[n]]=r}function Uu(t,e){it(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function tB(t,e,n){e!=null&&Xe(Hm,t)&&Hm[t](e,n._a,n,t)}var pn=0,oi=1,xr=2,Wt=3,mr=4,si=5,xo=6,nB=7,rB=8;function iB(t,e){return(t%e+e)%e}var xt;Array.prototype.indexOf?xt=Array.prototype.indexOf:xt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function nd(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=iB(e,12);return t+=(e-n)/12,n===1?Qh(t)?29:28:31-n%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Te("MMMM",0,0,function(t){return this.localeData().months(this,t)});yn("month","M");vn("month",8);ge("M",gt);ge("MM",gt,Kn);ge("MMM",function(t,e){return e.monthsShortRegex(t)});ge("MMMM",function(t,e){return e.monthsRegex(t)});it(["M","MM"],function(t,e){e[oi]=Be(t)-1});it(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[oi]=i:Fe(n).invalidMonth=t});var oB="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hI="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dI=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sB=Vu,aB=Vu;function lB(t,e){return t?Tr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||dI).test(e)?"format":"standalone"][t.month()]:Tr(this._months)?this._months:this._months.standalone}function uB(t,e){return t?Tr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[dI.test(e)?"format":"standalone"][t.month()]:Tr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function cB(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Wr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=xt.call(this._shortMonthsParse,s),i!==-1?i:null):(i=xt.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=xt.call(this._shortMonthsParse,s),i!==-1?i:(i=xt.call(this._longMonthsParse,s),i!==-1?i:null)):(i=xt.call(this._longMonthsParse,s),i!==-1?i:(i=xt.call(this._shortMonthsParse,s),i!==-1?i:null))}function fB(t,e,n){var r,i,o;if(this._monthsParseExact)return cB.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Wr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function pI(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Be(e);else if(e=t.localeData().monthsParse(e),!Ei(e))return t}return n=Math.min(t.date(),nd(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function mI(t){return t!=null?(pI(this,t),me.updateOffset(this,!0),this):$f(this,"Month")}function hB(){return nd(this.year(),this.month())}function dB(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||gI.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=sB),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pB(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||gI.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=aB),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function gI(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=Wr([2e3,i]),e.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=jn(e[i]),n[i]=jn(n[i]);for(i=0;i<24;i++)r[i]=jn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}Te("Y",0,0,function(){var t=this.year();return t<=9999?zr(t,4):"+"+t});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");yn("year","y");vn("year",1);ge("Y",ed);ge("YY",gt,Kn);ge("YYYY",tv,ev);ge("YYYYY",Zh,Xh);ge("YYYYYY",Zh,Xh);it(["YYYYY","YYYYYY"],pn);it("YYYY",function(t,e){e[pn]=t.length===2?me.parseTwoDigitYear(t):Be(t)});it("YY",function(t,e){e[pn]=me.parseTwoDigitYear(t)});it("Y",function(t,e){e[pn]=parseInt(t,10)});function Ml(t){return Qh(t)?366:365}me.parseTwoDigitYear=function(t){return Be(t)+(Be(t)>68?1900:2e3)};var yI=Na("FullYear",!0);function mB(){return Qh(this.year())}function gB(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function hu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Hf(t,e,n){var r=7+e-n,i=(7+hu(t,0,r).getUTCDay()-e)%7;return-i+r-1}function vI(t,e,n,r,i){var o=(7+n-r)%7,s=Hf(t,r,i),a=1+7*(e-1)+o+s,l,u;return a<=0?(l=t-1,u=Ml(l)+a):a>Ml(t)?(l=t+1,u=a-Ml(t)):(l=t,u=a),{year:l,dayOfYear:u}}function du(t,e,n){var r=Hf(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+di(s,e,n)):i>di(t.year(),e,n)?(o=i-di(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function di(t,e,n){var r=Hf(t,e,n),i=Hf(t+1,e,n);return(Ml(t)-r+i)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");yn("week","w");yn("isoWeek","W");vn("week",5);vn("isoWeek",5);ge("w",gt);ge("ww",gt,Kn);ge("W",gt);ge("WW",gt,Kn);Uu(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Be(t)});function yB(t){return du(t,this._week.dow,this._week.doy).week}var vB={dow:0,doy:6};function _B(){return this._week.dow}function wB(){return this._week.doy}function EB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function TB(t){var e=du(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Te("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Te("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");yn("day","d");yn("weekday","e");yn("isoWeekday","E");vn("day",11);vn("weekday",11);vn("isoWeekday",11);ge("d",gt);ge("e",gt);ge("E",gt);ge("dd",function(t,e){return e.weekdaysMinRegex(t)});ge("ddd",function(t,e){return e.weekdaysShortRegex(t)});ge("dddd",function(t,e){return e.weekdaysRegex(t)});Uu(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Fe(n).invalidWeekday=t});Uu(["d","e","E"],function(t,e,n,r){e[r]=Be(t)});function SB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function AB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function nv(t,e){return t.slice(e,7).concat(t.slice(0,e))}var bB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_I="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),IB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kB=Vu,RB=Vu,PB=Vu;function OB(t,e){var n=Tr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?nv(n,this._week.dow):t?n[t.day()]:n}function CB(t){return t===!0?nv(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function NB(t){return t===!0?nv(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function xB(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Wr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=xt.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=xt.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=xt.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=xt.call(this._weekdaysParse,s),i!==-1||(i=xt.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=xt.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=xt.call(this._shortWeekdaysParse,s),i!==-1||(i=xt.call(this._weekdaysParse,s),i!==-1)?i:(i=xt.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=xt.call(this._minWeekdaysParse,s),i!==-1||(i=xt.call(this._weekdaysParse,s),i!==-1)?i:(i=xt.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function DB(t,e,n){var r,i,o;if(this._weekdaysParseExact)return xB.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Wr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function LB(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=SB(t,this.localeData()),this.add(t-e,"d")):e}function MB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function VB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=AB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function UB(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||rv.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=kB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function FB(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||rv.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=RB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jB(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||rv.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=PB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function rv(){function t(h,d){return d.length-h.length}var e=[],n=[],r=[],i=[],o,s,a,l,u;for(o=0;o<7;o++)s=Wr([2e3,1]).day(o),a=jn(this.weekdaysMin(s,"")),l=jn(this.weekdaysShort(s,"")),u=jn(this.weekdays(s,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function iv(){return this.hours()%12||12}function BB(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,iv);Te("k",["kk",2],0,BB);Te("hmm",0,0,function(){return""+iv.apply(this)+zr(this.minutes(),2)});Te("hmmss",0,0,function(){return""+iv.apply(this)+zr(this.minutes(),2)+zr(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+zr(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+zr(this.minutes(),2)+zr(this.seconds(),2)});function wI(t,e){Te(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}wI("a",!0);wI("A",!1);yn("hour","h");vn("hour",13);function EI(t,e){return e._meridiemParse}ge("a",EI);ge("A",EI);ge("H",gt);ge("h",gt);ge("k",gt);ge("HH",gt,Kn);ge("hh",gt,Kn);ge("kk",gt,Kn);ge("hmm",cI);ge("hmmss",fI);ge("Hmm",cI);ge("Hmmss",fI);it(["H","HH"],Wt);it(["k","kk"],function(t,e,n){var r=Be(t);e[Wt]=r===24?0:r});it(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});it(["h","hh"],function(t,e,n){e[Wt]=Be(t),Fe(n).bigHour=!0});it("hmm",function(t,e,n){var r=t.length-2;e[Wt]=Be(t.substr(0,r)),e[mr]=Be(t.substr(r)),Fe(n).bigHour=!0});it("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Wt]=Be(t.substr(0,r)),e[mr]=Be(t.substr(r,2)),e[si]=Be(t.substr(i)),Fe(n).bigHour=!0});it("Hmm",function(t,e,n){var r=t.length-2;e[Wt]=Be(t.substr(0,r)),e[mr]=Be(t.substr(r))});it("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Wt]=Be(t.substr(0,r)),e[mr]=Be(t.substr(r,2)),e[si]=Be(t.substr(i))});function qB(t){return(t+"").toLowerCase().charAt(0)==="p"}var $B=/[ap]\.?m?\.?/i,zB=Na("Hours",!0);function HB(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var TI={calendar:D9,longDateFormat:U9,invalidDate:j9,ordinal:q9,dayOfMonthOrdinalParse:$9,relativeTime:H9,months:oB,monthsShort:hI,week:vB,weekdays:bB,weekdaysMin:IB,weekdaysShort:_I,meridiemParse:$B},vt={},al={},pu;function WB(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function _w(t){return t&&t.toLowerCase().replace("_","-")}function YB(t){for(var e=0,n,r,i,o;e<t.length;){for(o=_w(t[e]).split("-"),n=o.length,r=_w(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=rd(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&WB(o,r)>=n-1)break;n--}e++}return pu}function GB(t){return t.match("^[^/\\\\]*$")!=null}function rd(t){var e=null,n;if(vt[t]===void 0&&typeof Qc<"u"&&Qc&&Qc.exports&&GB(t))try{e=pu._abbr,n=require,n("./locale/"+t),ao(e)}catch{vt[t]=null}return vt[t]}function ao(t,e){var n;return t&&(kn(e)?n=Ri(t):n=ov(t,e),n?pu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pu._abbr}function ov(t,e){if(e!==null){var n,r=TI;if(e.abbr=t,vt[t]!=null)iI("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=vt[t]._config;else if(e.parentLocale!=null)if(vt[e.parentLocale]!=null)r=vt[e.parentLocale]._config;else if(n=rd(e.parentLocale),n!=null)r=n._config;else return al[e.parentLocale]||(al[e.parentLocale]=[]),al[e.parentLocale].push({name:t,config:e}),null;return vt[t]=new Xy($m(r,e)),al[t]&&al[t].forEach(function(i){ov(i.name,i.config)}),ao(t),vt[t]}else return delete vt[t],null}function KB(t,e){if(e!=null){var n,r,i=TI;vt[t]!=null&&vt[t].parentLocale!=null?vt[t].set($m(vt[t]._config,e)):(r=rd(t),r!=null&&(i=r._config),e=$m(i,e),r==null&&(e.abbr=t),n=new Xy(e),n.parentLocale=vt[t],vt[t]=n),ao(t)}else vt[t]!=null&&(vt[t].parentLocale!=null?(vt[t]=vt[t].parentLocale,t===ao()&&ao(t)):vt[t]!=null&&delete vt[t]);return vt[t]}function Ri(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pu;if(!Tr(t)){if(e=rd(t),e)return e;t=[t]}return YB(t)}function QB(){return zm(vt)}function sv(t){var e,n=t._a;return n&&Fe(t).overflow===-2&&(e=n[oi]<0||n[oi]>11?oi:n[xr]<1||n[xr]>nd(n[pn],n[oi])?xr:n[Wt]<0||n[Wt]>24||n[Wt]===24&&(n[mr]!==0||n[si]!==0||n[xo]!==0)?Wt:n[mr]<0||n[mr]>59?mr:n[si]<0||n[si]>59?si:n[xo]<0||n[xo]>999?xo:-1,Fe(t)._overflowDayOfYear&&(e<pn||e>xr)&&(e=xr),Fe(t)._overflowWeeks&&e===-1&&(e=nB),Fe(t)._overflowWeekday&&e===-1&&(e=rB),Fe(t).overflow=e),t}var XB=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,JB=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ZB=/Z|[+-]\d\d(?::?\d\d)?/,bc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],e8=/^\/?Date\((-?\d+)/i,t8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,n8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function SI(t){var e,n,r=t._i,i=XB.exec(r)||JB.exec(r),o,s,a,l,u=bc.length,h=fp.length;if(i){for(Fe(t).iso=!0,e=0,n=u;e<n;e++)if(bc[e][1].exec(i[1])){s=bc[e][0],o=bc[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=h;e<n;e++)if(fp[e][1].exec(i[3])){a=(i[2]||" ")+fp[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(ZB.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),lv(t)}else t._isValid=!1}function r8(t,e,n,r,i,o){var s=[i8(t),hI.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function i8(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function o8(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function s8(t,e,n){if(t){var r=_I.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Fe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function a8(t,e,n){if(t)return n8[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function AI(t){var e=t8.exec(o8(t._i)),n;if(e){if(n=r8(e[4],e[3],e[2],e[5],e[6],e[7]),!s8(e[1],n,t))return;t._a=n,t._tzm=a8(e[8],e[9],e[10]),t._d=hu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Fe(t).rfc2822=!0}else t._isValid=!1}function l8(t){var e=e8.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(SI(t),t._isValid===!1)delete t._isValid;else return;if(AI(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:me.createFromInputFallback(t)}me.createFromInputFallback=or("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function _s(t,e,n){return t??e??n}function u8(t){var e=new Date(me.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function av(t){var e,n,r=[],i,o,s;if(!t._d){for(i=u8(t),t._w&&t._a[xr]==null&&t._a[oi]==null&&c8(t),t._dayOfYear!=null&&(s=_s(t._a[pn],i[pn]),(t._dayOfYear>Ml(s)||t._dayOfYear===0)&&(Fe(t)._overflowDayOfYear=!0),n=hu(s,0,t._dayOfYear),t._a[oi]=n.getUTCMonth(),t._a[xr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Wt]===24&&t._a[mr]===0&&t._a[si]===0&&t._a[xo]===0&&(t._nextDay=!0,t._a[Wt]=0),t._d=(t._useUTC?hu:gB).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Wt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Fe(t).weekdayMismatch=!0)}}function c8(t){var e,n,r,i,o,s,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=_s(e.GG,t._a[pn],du(mt(),1,4).year),r=_s(e.W,1),i=_s(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,u=du(mt(),o,s),n=_s(e.gg,t._a[pn],u.year),r=_s(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>di(n,o,s)?Fe(t)._overflowWeeks=!0:l!=null?Fe(t)._overflowWeekday=!0:(a=vI(n,r,i,o,s),t._a[pn]=a.year,t._dayOfYear=a.dayOfYear)}me.ISO_8601=function(){};me.RFC_2822=function(){};function lv(t){if(t._f===me.ISO_8601){SI(t);return}if(t._f===me.RFC_2822){AI(t);return}t._a=[],Fe(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,l=0,u,h;for(i=oI(t._f,t._locale).match(Jy)||[],h=i.length,n=0;n<h;n++)o=i[n],r=(e.match(Z9(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&Fe(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Gs[o]?(r?Fe(t).empty=!1:Fe(t).unusedTokens.push(o),tB(o,r,t)):t._strict&&!r&&Fe(t).unusedTokens.push(o);Fe(t).charsLeftOver=a-l,e.length>0&&Fe(t).unusedInput.push(e),t._a[Wt]<=12&&Fe(t).bigHour===!0&&t._a[Wt]>0&&(Fe(t).bigHour=void 0),Fe(t).parsedDateParts=t._a.slice(0),Fe(t).meridiem=t._meridiem,t._a[Wt]=f8(t._locale,t._a[Wt],t._meridiem),u=Fe(t).era,u!==null&&(t._a[pn]=t._locale.erasConvertYear(u,t._a[pn])),av(t),sv(t)}function f8(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function h8(t){var e,n,r,i,o,s,a=!1,l=t._f.length;if(l===0){Fe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,e=Qy({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],lv(e),Ky(e)&&(s=!0),o+=Fe(e).charsLeftOver,o+=Fe(e).unusedTokens.length*10,Fe(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));Gi(t,n||e)}function d8(t){if(!t._d){var e=Zy(t._i),n=e.day===void 0?e.date:e.day;t._a=nI([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),av(t)}}function p8(t){var e=new Mu(sv(bI(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function bI(t){var e=t._i,n=t._f;return t._locale=t._locale||Ri(t._l),e===null||n===void 0&&e===""?Kh({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Sr(e)?new Mu(sv(e)):(Lu(e)?t._d=e:Tr(n)?h8(t):n?lv(t):m8(t),Ky(t)||(t._d=null),t))}function m8(t){var e=t._i;kn(e)?t._d=new Date(me.now()):Lu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?l8(t):Tr(e)?(t._a=nI(e.slice(0),function(n){return parseInt(n,10)}),av(t)):Uo(e)?d8(t):Ei(e)?t._d=new Date(e):me.createFromInputFallback(t)}function II(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Uo(t)&&Gy(t)||Tr(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,p8(o)}function mt(t,e,n,r){return II(t,e,n,r,!1)}var g8=or("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Kh()}),y8=or("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Kh()});function kI(t,e){var n,r;if(e.length===1&&Tr(e[0])&&(e=e[0]),!e.length)return mt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function v8(){var t=[].slice.call(arguments,0);return kI("isBefore",t)}function _8(){var t=[].slice.call(arguments,0);return kI("isAfter",t)}var w8=function(){return Date.now?Date.now():+new Date},ll=["year","quarter","month","week","day","hour","minute","second","millisecond"];function E8(t){var e,n=!1,r,i=ll.length;for(e in t)if(Xe(t,e)&&!(xt.call(ll,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[ll[r]]){if(n)return!1;parseFloat(t[ll[r]])!==Be(t[ll[r]])&&(n=!0)}return!0}function T8(){return this._isValid}function S8(){return Ar(NaN)}function id(t){var e=Zy(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=E8(e),this._milliseconds=+h+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Ri(),this._bubble()}function Gc(t){return t instanceof id}function Wm(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function A8(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&Be(t[s])!==Be(e[s]))&&o++;return o+i}function RI(t,e){Te(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+zr(~~(n/60),2)+e+zr(~~n%60,2)})}RI("Z",":");RI("ZZ","");ge("Z",td);ge("ZZ",td);it(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=uv(td,t)});var b8=/([\+\-]|\d\d)/gi;function uv(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(b8)||["-",0,0],o=+(i[1]*60)+Be(i[2]),o===0?0:i[0]==="+"?o:-o)}function cv(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Sr(t)||Lu(t)?t.valueOf():mt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),me.updateOffset(n,!1),n):mt(t).local()}function Ym(t){return-Math.round(t._d.getTimezoneOffset())}me.updateOffset=function(){};function I8(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=uv(td,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Ym(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?CI(this,Ar(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Ym(this)}function k8(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function R8(t){return this.utcOffset(0,t)}function P8(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ym(this),"m")),this}function O8(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=uv(X9,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function C8(t){return this.isValid()?(t=t?mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function N8(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function x8(){if(!kn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Qy(t,this),t=bI(t),t._a?(e=t._isUTC?Wr(t._a):mt(t._a),this._isDSTShifted=this.isValid()&&A8(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function D8(){return this.isValid()?!this._isUTC:!1}function L8(){return this.isValid()?this._isUTC:!1}function PI(){return this.isValid()?this._isUTC&&this._offset===0:!1}var M8=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,V8=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(t,e){var n=t,r=null,i,o,s;return Gc(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ei(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=M8.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Be(r[xr])*i,h:Be(r[Wt])*i,m:Be(r[mr])*i,s:Be(r[si])*i,ms:Be(Wm(r[xo]*1e3))*i}):(r=V8.exec(t))?(i=r[1]==="-"?-1:1,n={y:So(r[2],i),M:So(r[3],i),w:So(r[4],i),d:So(r[5],i),h:So(r[6],i),m:So(r[7],i),s:So(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=U8(mt(n.from),mt(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new id(n),Gc(t)&&Xe(t,"_locale")&&(o._locale=t._locale),Gc(t)&&Xe(t,"_isValid")&&(o._isValid=t._isValid),o}Ar.fn=id.prototype;Ar.invalid=S8;function So(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ww(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function U8(t,e){var n;return t.isValid()&&e.isValid()?(e=cv(e,t),t.isBefore(e)?n=ww(t,e):(n=ww(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function OI(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(iI(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Ar(n,r),CI(this,i,t),this}}function CI(t,e,n,r){var i=e._milliseconds,o=Wm(e._days),s=Wm(e._months);t.isValid()&&(r=r??!0,s&&pI(t,$f(t,"Month")+s*n),o&&aI(t,"Date",$f(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&me.updateOffset(t,o||s))}var F8=OI(1,"add"),j8=OI(-1,"subtract");function NI(t){return typeof t=="string"||t instanceof String}function B8(t){return Sr(t)||Lu(t)||NI(t)||Ei(t)||$8(t)||q8(t)||t===null||t===void 0}function q8(t){var e=Uo(t)&&!Gy(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Xe(t,o);return e&&n}function $8(t){var e=Tr(t),n=!1;return e&&(n=t.filter(function(r){return!Ei(r)&&NI(t)}).length===0),e&&n}function z8(t){var e=Uo(t)&&!Gy(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Xe(t,o);return e&&n}function H8(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function W8(t,e){arguments.length===1&&(arguments[0]?B8(arguments[0])?(t=arguments[0],e=void 0):z8(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||mt(),r=cv(n,this).startOf("day"),i=me.calendarFormat(this,r)||"sameElse",o=e&&(Yr(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,mt(n)))}function Y8(){return new Mu(this)}function G8(t,e){var n=Sr(t)?t:mt(t);return this.isValid()&&n.isValid()?(e=sr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function K8(t,e){var n=Sr(t)?t:mt(t);return this.isValid()&&n.isValid()?(e=sr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Q8(t,e,n,r){var i=Sr(t)?t:mt(t),o=Sr(e)?e:mt(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function X8(t,e){var n=Sr(t)?t:mt(t),r;return this.isValid()&&n.isValid()?(e=sr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function J8(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Z8(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function eq(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=cv(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=sr(e),e){case"year":o=Kc(this,r)/12;break;case"month":o=Kc(this,r);break;case"quarter":o=Kc(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:er(o)}function Kc(t,e){if(t.date()<e.date())return-Kc(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tq(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function nq(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Yc(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Yr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Yc(n,"Z")):Yc(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function rq(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function iq(t){t||(t=this.isUtc()?me.defaultFormatUtc:me.defaultFormat);var e=Yc(this,t);return this.localeData().postformat(e)}function oq(t,e){return this.isValid()&&(Sr(t)&&t.isValid()||mt(t).isValid())?Ar({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sq(t){return this.from(mt(),t)}function aq(t,e){return this.isValid()&&(Sr(t)&&t.isValid()||mt(t).isValid())?Ar({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function lq(t){return this.to(mt(),t)}function xI(t){var e;return t===void 0?this._locale._abbr:(e=Ri(t),e!=null&&(this._locale=e),this)}var DI=or("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function LI(){return this._locale}var Wf=1e3,Ks=60*Wf,Yf=60*Ks,MI=(365*400+97)*24*Yf;function Qs(t,e){return(t%e+e)%e}function VI(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-MI:new Date(t,e,n).valueOf()}function UI(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-MI:Date.UTC(t,e,n)}function uq(t){var e,n;if(t=sr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?UI:VI,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Qs(e+(this._isUTC?0:this.utcOffset()*Ks),Yf);break;case"minute":e=this._d.valueOf(),e-=Qs(e,Ks);break;case"second":e=this._d.valueOf(),e-=Qs(e,Wf);break}return this._d.setTime(e),me.updateOffset(this,!0),this}function cq(t){var e,n;if(t=sr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?UI:VI,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Yf-Qs(e+(this._isUTC?0:this.utcOffset()*Ks),Yf)-1;break;case"minute":e=this._d.valueOf(),e+=Ks-Qs(e,Ks)-1;break;case"second":e=this._d.valueOf(),e+=Wf-Qs(e,Wf)-1;break}return this._d.setTime(e),me.updateOffset(this,!0),this}function fq(){return this._d.valueOf()-(this._offset||0)*6e4}function hq(){return Math.floor(this.valueOf()/1e3)}function dq(){return new Date(this.valueOf())}function pq(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function mq(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function gq(){return this.isValid()?this.toISOString():null}function yq(){return Ky(this)}function vq(){return Gi({},Fe(this))}function _q(){return Fe(this).overflow}function wq(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");ge("N",fv);ge("NN",fv);ge("NNN",fv);ge("NNNN",Cq);ge("NNNNN",Nq);it(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Fe(n).era=i:Fe(n).invalidEra=t});ge("y",xa);ge("yy",xa);ge("yyy",xa);ge("yyyy",xa);ge("yo",xq);it(["y","yy","yyy","yyyy"],pn);it(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[pn]=n._locale.eraYearOrdinalParse(t,i):e[pn]=parseInt(t,10)});function Eq(t,e){var n,r,i,o=this._eras||Ri("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=me(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=me(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function Tq(t,e,n){var r,i,o=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([s,a,l].indexOf(t)>=0)return o[r]}function Sq(t,e){var n=t.since<=t.until?1:-1;return e===void 0?me(t.since).year():me(t.since).year()+(e-t.offset)*n}function Aq(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function bq(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Iq(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function kq(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-me(i[t].since).year())*n+i[t].offset;return this.year()}function Rq(t){return Xe(this,"_erasNameRegex")||hv.call(this),t?this._erasNameRegex:this._erasRegex}function Pq(t){return Xe(this,"_erasAbbrRegex")||hv.call(this),t?this._erasAbbrRegex:this._erasRegex}function Oq(t){return Xe(this,"_erasNarrowRegex")||hv.call(this),t?this._erasNarrowRegex:this._erasRegex}function fv(t,e){return e.erasAbbrRegex(t)}function Cq(t,e){return e.erasNameRegex(t)}function Nq(t,e){return e.erasNarrowRegex(t)}function xq(t,e){return e._eraYearOrdinalRegex||xa}function hv(){var t=[],e=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)e.push(jn(s[i].name)),t.push(jn(s[i].abbr)),n.push(jn(s[i].narrow)),r.push(jn(s[i].name)),r.push(jn(s[i].abbr)),r.push(jn(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function od(t,e){Te(0,[t,t.length],0,e)}od("gggg","weekYear");od("ggggg","weekYear");od("GGGG","isoWeekYear");od("GGGGG","isoWeekYear");yn("weekYear","gg");yn("isoWeekYear","GG");vn("weekYear",1);vn("isoWeekYear",1);ge("G",ed);ge("g",ed);ge("GG",gt,Kn);ge("gg",gt,Kn);ge("GGGG",tv,ev);ge("gggg",tv,ev);ge("GGGGG",Zh,Xh);ge("ggggg",Zh,Xh);Uu(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Be(t)});Uu(["gg","GG"],function(t,e,n,r){e[r]=me.parseTwoDigitYear(t)});function Dq(t){return FI.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Lq(t){return FI.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Mq(){return di(this.year(),1,4)}function Vq(){return di(this.isoWeekYear(),1,4)}function Uq(){var t=this.localeData()._week;return di(this.year(),t.dow,t.doy)}function Fq(){var t=this.localeData()._week;return di(this.weekYear(),t.dow,t.doy)}function FI(t,e,n,r,i){var o;return t==null?du(this,r,i).year:(o=di(t,r,i),e>o&&(e=o),jq.call(this,t,e,n,r,i))}function jq(t,e,n,r,i){var o=vI(t,e,n,r,i),s=hu(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Te("Q",0,"Qo","quarter");yn("quarter","Q");vn("quarter",7);ge("Q",lI);it("Q",function(t,e){e[oi]=(Be(t)-1)*3});function Bq(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");yn("date","D");vn("date",9);ge("D",gt);ge("DD",gt,Kn);ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});it(["D","DD"],xr);it("Do",function(t,e){e[xr]=Be(t.match(gt)[0])});var jI=Na("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");yn("dayOfYear","DDD");vn("dayOfYear",4);ge("DDD",Jh);ge("DDDD",uI);it(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Be(t)});function qq(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Te("m",["mm",2],0,"minute");yn("minute","m");vn("minute",14);ge("m",gt);ge("mm",gt,Kn);it(["m","mm"],mr);var $q=Na("Minutes",!1);Te("s",["ss",2],0,"second");yn("second","s");vn("second",15);ge("s",gt);ge("ss",gt,Kn);it(["s","ss"],si);var zq=Na("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});yn("millisecond","ms");vn("millisecond",16);ge("S",Jh,lI);ge("SS",Jh,Kn);ge("SSS",Jh,uI);var Ki,BI;for(Ki="SSSS";Ki.length<=9;Ki+="S")ge(Ki,xa);function Hq(t,e){e[xo]=Be(("0."+t)*1e3)}for(Ki="S";Ki.length<=9;Ki+="S")it(Ki,Hq);BI=Na("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function Wq(){return this._isUTC?"UTC":""}function Yq(){return this._isUTC?"Coordinated Universal Time":""}var ce=Mu.prototype;ce.add=F8;ce.calendar=W8;ce.clone=Y8;ce.diff=eq;ce.endOf=cq;ce.format=iq;ce.from=oq;ce.fromNow=sq;ce.to=aq;ce.toNow=lq;ce.get=K9;ce.invalidAt=_q;ce.isAfter=G8;ce.isBefore=K8;ce.isBetween=Q8;ce.isSame=X8;ce.isSameOrAfter=J8;ce.isSameOrBefore=Z8;ce.isValid=yq;ce.lang=DI;ce.locale=xI;ce.localeData=LI;ce.max=y8;ce.min=g8;ce.parsingFlags=vq;ce.set=Q9;ce.startOf=uq;ce.subtract=j8;ce.toArray=pq;ce.toObject=mq;ce.toDate=dq;ce.toISOString=nq;ce.inspect=rq;typeof Symbol<"u"&&Symbol.for!=null&&(ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ce.toJSON=gq;ce.toString=tq;ce.unix=hq;ce.valueOf=fq;ce.creationData=wq;ce.eraName=Aq;ce.eraNarrow=bq;ce.eraAbbr=Iq;ce.eraYear=kq;ce.year=yI;ce.isLeapYear=mB;ce.weekYear=Dq;ce.isoWeekYear=Lq;ce.quarter=ce.quarters=Bq;ce.month=mI;ce.daysInMonth=hB;ce.week=ce.weeks=EB;ce.isoWeek=ce.isoWeeks=TB;ce.weeksInYear=Uq;ce.weeksInWeekYear=Fq;ce.isoWeeksInYear=Mq;ce.isoWeeksInISOWeekYear=Vq;ce.date=jI;ce.day=ce.days=LB;ce.weekday=MB;ce.isoWeekday=VB;ce.dayOfYear=qq;ce.hour=ce.hours=zB;ce.minute=ce.minutes=$q;ce.second=ce.seconds=zq;ce.millisecond=ce.milliseconds=BI;ce.utcOffset=I8;ce.utc=R8;ce.local=P8;ce.parseZone=O8;ce.hasAlignedHourOffset=C8;ce.isDST=N8;ce.isLocal=D8;ce.isUtcOffset=L8;ce.isUtc=PI;ce.isUTC=PI;ce.zoneAbbr=Wq;ce.zoneName=Yq;ce.dates=or("dates accessor is deprecated. Use date instead.",jI);ce.months=or("months accessor is deprecated. Use month instead",mI);ce.years=or("years accessor is deprecated. Use year instead",yI);ce.zone=or("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",k8);ce.isDSTShifted=or("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",x8);function Gq(t){return mt(t*1e3)}function Kq(){return mt.apply(null,arguments).parseZone()}function qI(t){return t}var Je=Xy.prototype;Je.calendar=L9;Je.longDateFormat=F9;Je.invalidDate=B9;Je.ordinal=z9;Je.preparse=qI;Je.postformat=qI;Je.relativeTime=W9;Je.pastFuture=Y9;Je.set=x9;Je.eras=Eq;Je.erasParse=Tq;Je.erasConvertYear=Sq;Je.erasAbbrRegex=Pq;Je.erasNameRegex=Rq;Je.erasNarrowRegex=Oq;Je.months=lB;Je.monthsShort=uB;Je.monthsParse=fB;Je.monthsRegex=pB;Je.monthsShortRegex=dB;Je.week=yB;Je.firstDayOfYear=wB;Je.firstDayOfWeek=_B;Je.weekdays=OB;Je.weekdaysMin=NB;Je.weekdaysShort=CB;Je.weekdaysParse=DB;Je.weekdaysRegex=UB;Je.weekdaysShortRegex=FB;Je.weekdaysMinRegex=jB;Je.isPM=qB;Je.meridiem=HB;function Gf(t,e,n,r){var i=Ri(),o=Wr().set(r,e);return i[n](o,t)}function $I(t,e,n){if(Ei(t)&&(e=t,t=void 0),t=t||"",e!=null)return Gf(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Gf(t,r,n,"month");return i}function dv(t,e,n,r){typeof t=="boolean"?(Ei(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ei(e)&&(n=e,e=void 0),e=e||"");var i=Ri(),o=t?i._week.dow:0,s,a=[];if(n!=null)return Gf(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=Gf(e,(s+o)%7,r,"day");return a}function Qq(t,e){return $I(t,e,"months")}function Xq(t,e){return $I(t,e,"monthsShort")}function Jq(t,e,n){return dv(t,e,n,"weekdays")}function Zq(t,e,n){return dv(t,e,n,"weekdaysShort")}function e7(t,e,n){return dv(t,e,n,"weekdaysMin")}ao("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Be(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});me.lang=or("moment.lang is deprecated. Use moment.locale instead.",ao);me.langData=or("moment.langData is deprecated. Use moment.localeData instead.",Ri);var Qr=Math.abs;function t7(){var t=this._data;return this._milliseconds=Qr(this._milliseconds),this._days=Qr(this._days),this._months=Qr(this._months),t.milliseconds=Qr(t.milliseconds),t.seconds=Qr(t.seconds),t.minutes=Qr(t.minutes),t.hours=Qr(t.hours),t.months=Qr(t.months),t.years=Qr(t.years),this}function zI(t,e,n,r){var i=Ar(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function n7(t,e){return zI(this,t,e,1)}function r7(t,e){return zI(this,t,e,-1)}function Ew(t){return t<0?Math.floor(t):Math.ceil(t)}function i7(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Ew(Gm(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=er(t/1e3),r.seconds=i%60,o=er(i/60),r.minutes=o%60,s=er(o/60),r.hours=s%24,e+=er(s/24),l=er(HI(e)),n+=l,e-=Ew(Gm(l)),a=er(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function HI(t){return t*4800/146097}function Gm(t){return t*146097/4800}function o7(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=sr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+HI(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Gm(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function s7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Be(this._months/12)*31536e6:NaN}function Pi(t){return function(){return this.as(t)}}var a7=Pi("ms"),l7=Pi("s"),u7=Pi("m"),c7=Pi("h"),f7=Pi("d"),h7=Pi("w"),d7=Pi("M"),p7=Pi("Q"),m7=Pi("y");function g7(){return Ar(this)}function y7(t){return t=sr(t),this.isValid()?this[t+"s"]():NaN}function ls(t){return function(){return this.isValid()?this._data[t]:NaN}}var v7=ls("milliseconds"),_7=ls("seconds"),w7=ls("minutes"),E7=ls("hours"),T7=ls("days"),S7=ls("months"),A7=ls("years");function b7(){return er(this.days()/7)}var Jr=Math.round,Ms={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function I7(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function k7(t,e,n,r){var i=Ar(t).abs(),o=Jr(i.as("s")),s=Jr(i.as("m")),a=Jr(i.as("h")),l=Jr(i.as("d")),u=Jr(i.as("M")),h=Jr(i.as("w")),d=Jr(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||h<=1&&["w"]||h<n.w&&["ww",h]),f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+t>0,f[4]=r,I7.apply(null,f)}function R7(t){return t===void 0?Jr:typeof t=="function"?(Jr=t,!0):!1}function P7(t,e){return Ms[t]===void 0?!1:e===void 0?Ms[t]:(Ms[t]=e,t==="s"&&(Ms.ss=e-1),!0)}function O7(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ms,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Ms,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=k7(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var hp=Math.abs;function ps(t){return(t>0)-(t<0)||+t}function sd(){if(!this.isValid())return this.localeData().invalidDate();var t=hp(this._milliseconds)/1e3,e=hp(this._days),n=hp(this._months),r,i,o,s,a=this.asSeconds(),l,u,h,d;return a?(r=er(t/60),i=er(r/60),t%=60,r%=60,o=er(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=ps(this._months)!==ps(a)?"-":"",h=ps(this._days)!==ps(a)?"-":"",d=ps(this._milliseconds)!==ps(a)?"-":"",l+"P"+(o?u+o+"Y":"")+(n?u+n+"M":"")+(e?h+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+s+"S":"")):"P0D"}var Ge=id.prototype;Ge.isValid=T8;Ge.abs=t7;Ge.add=n7;Ge.subtract=r7;Ge.as=o7;Ge.asMilliseconds=a7;Ge.asSeconds=l7;Ge.asMinutes=u7;Ge.asHours=c7;Ge.asDays=f7;Ge.asWeeks=h7;Ge.asMonths=d7;Ge.asQuarters=p7;Ge.asYears=m7;Ge.valueOf=s7;Ge._bubble=i7;Ge.clone=g7;Ge.get=y7;Ge.milliseconds=v7;Ge.seconds=_7;Ge.minutes=w7;Ge.hours=E7;Ge.days=T7;Ge.weeks=b7;Ge.months=S7;Ge.years=A7;Ge.humanize=O7;Ge.toISOString=sd;Ge.toString=sd;Ge.toJSON=sd;Ge.locale=xI;Ge.localeData=LI;Ge.toIsoString=or("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sd);Ge.lang=DI;Te("X",0,0,"unix");Te("x",0,0,"valueOf");ge("x",ed);ge("X",J9);it("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});it("x",function(t,e,n){n._d=new Date(Be(t))});//! moment.js
me.version="2.29.4";C9(mt);me.fn=ce;me.min=v8;me.max=_8;me.now=w8;me.utc=Wr;me.unix=Gq;me.months=Qq;me.isDate=Lu;me.locale=ao;me.invalid=Kh;me.duration=Ar;me.isMoment=Sr;me.weekdays=Jq;me.parseZone=Kq;me.localeData=Ri;me.isDuration=Gc;me.monthsShort=Xq;me.weekdaysMin=e7;me.defineLocale=ov;me.updateLocale=KB;me.locales=QB;me.weekdaysShort=Zq;me.normalizeUnits=sr;me.relativeTimeRounding=R7;me.relativeTimeThreshold=P7;me.calendarFormat=H8;me.prototype=ce;me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const WI=re.createContext(),C7=({children:t})=>{const[e,n]=re.useState({title:"",desc:"",cat:"",selectedFile:null,imageURL:""}),[r,i]=re.useState(!1),o=(a,l)=>{n(u=>({...u,[a]:l}))},s=()=>{n({title:"",desc:"",cat:"",selectedFile:null,imageURL:""})};return Z.jsx(WI.Provider,{value:{post:e,updatePost:o,clearPost:s,isLoading:r,setIsLoading:i},children:t})},N7=()=>{const[t,e]=re.useState(!1),[n,r,i]=WS(Du);return _a(),{isLoading:t,handleCreatePost:async(s,a,l,u)=>{if(!u)throw new Error("Please select an image");e(!0);const h={title:s,desc:a,cat:l,createdAt:Date.now(),createdBy:n.uid};try{const d=await d4(Lh(hi,"posts"),h),f=ha(hi,"users",n.uid),p=bV(CV,`posts/${d.id}`);await M1(f,{posts:m4(d.id)});const _=new FileReader;_.readAsDataURL(u),_.onloadend=async()=>{const v=_.result;await SV(p,v,"data_url");const w=await AV(p);await M1(d,{imageURL:w}),h.imageURL=w,alert("Post created successfully"),e(!1)},_.onerror=()=>{throw e(!1),new Error("Failed to read the file")}}catch(d){alert(d.message),e(!1)}}}},x7=()=>{const{post:t,updatePost:e,clearPost:n,isLoading:r,setIsLoading:i}=re.useContext(WI),{handleCreatePost:o}=N7(),s=ts(),a=async()=>{i(!0);try{await o(t.title,t.desc,t.cat,t.selectedFile),n(),alert("Post Created Successfully"),s("/")}catch(l){alert(l.message)}finally{i(!1)}};return Z.jsxs("div",{className:"add",children:[Z.jsxs("div",{className:"content",children:[Z.jsx("input",{type:"text",value:t.title,placeholder:"Title",onChange:l=>e("title",l.target.value)}),Z.jsx("div",{className:"editorContainer",children:Z.jsx(O9,{className:"editor",theme:"snow",value:t.desc,onChange:l=>e("desc",l)})})]}),Z.jsxs("div",{className:"menu",children:[Z.jsxs("div",{className:"item",children:[Z.jsx("h1",{children:"Publish"}),Z.jsxs("span",{children:[Z.jsx("b",{children:"Status: "})," Draft"]}),Z.jsxs("span",{children:[Z.jsx("b",{children:"Visibility: "})," Public"]}),Z.jsx("input",{style:{display:"none"},type:"file",id:"file",onChange:l=>e("selectedFile",l.target.files[0])}),Z.jsx("label",{className:"file",htmlFor:"file",children:"Upload Image"}),Z.jsxs("div",{className:"buttons",children:[Z.jsx("button",{children:"Save as a draft"}),Z.jsx("button",{onClick:a,disabled:r,children:r?"Publishing...":"Publish"})]})]}),Z.jsxs("div",{className:"item",children:[Z.jsx("h1",{children:"Category"}),["art","science","technology","cinema","design","food"].map(l=>Z.jsxs("div",{className:"cat",children:[Z.jsx("input",{type:"radio",checked:t.cat===l,name:"cat",value:l,id:l,onChange:u=>e("cat",u.target.value)}),Z.jsx("label",{htmlFor:l,children:l.charAt(0).toUpperCase()+l.slice(1)})]},l))]})]})]})},YI="/assets/cover-c9ad8997.png",D7=()=>{const[t,e,n]=aD(Du),{logout:r}=re.useContext(as);return{handleLogout:async()=>{try{await t(),r()}catch(o){alert(o)}},loading:e,error:n}};var GI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tw=ai.createContext&&ai.createContext(GI),L7=["attr","size","title"];function M7(t,e){if(t==null)return{};var n=V7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(r){U7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U7(t,e,n){return e=F7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F7(t){var e=j7(t,"string");return typeof e=="symbol"?e:e+""}function j7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KI(t){return t&&t.map((e,n)=>ai.createElement(e.tag,Qf({key:n},e.attr),KI(e.child)))}function QI(t){return e=>ai.createElement(B7,Kf({attr:Qf({},t.attr)},e),KI(t.child))}function B7(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=M7(t,L7),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ai.createElement("svg",Kf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Qf(Qf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ai.createElement("title",null,o),t.children)};return Tw!==void 0?ai.createElement(Tw.Consumer,null,n=>e(n)):e(GI)}function q7(t){return QI({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function $7(t){return QI({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const z7=()=>{const{currentUser:t}=re.useContext(as),{handleLogout:e}=D7(),[n,r]=re.useState(!1),[i,o]=re.useState(!1),s=()=>{r(!n)},a=()=>{o(!i)},l=()=>{r(!1),o(!1)};return Z.jsx("nav",{className:"navbar",children:Z.jsxs("div",{className:"container",children:[Z.jsx("div",{className:"logo",children:Z.jsx(En,{to:"/",children:Z.jsx("img",{src:YI,alt:"Logo"})})}),Z.jsxs("div",{className:`links ${n?"open":""}`,children:[Z.jsx(En,{className:"link",to:"/",onClick:l,children:"Home"}),Z.jsxs("div",{className:"subnav",children:[Z.jsx("button",{className:"subnavbtn",onClick:a,children:"Categories"}),Z.jsxs("div",{className:`subnav-content ${i?"open":""}`,children:[Z.jsx(En,{className:"link",to:"/?cat=art",onClick:l,children:"ART"}),Z.jsx(En,{className:"link",to:"/?cat=science",onClick:l,children:"SCIENCE"}),Z.jsx(En,{className:"link",to:"/?cat=technology",onClick:l,children:"TECHNOLOGY"}),Z.jsx(En,{className:"link",to:"/?cat=cinema",onClick:l,children:"CINEMA"}),Z.jsx(En,{className:"link",to:"/?cat=design",onClick:l,children:"DESIGN"}),Z.jsx(En,{className:"link",to:"/?cat=food",onClick:l,children:"FOOD"})]})]}),t?Z.jsxs(Z.Fragment,{children:[Z.jsx("p",{children:t==null?void 0:t.username}),Z.jsx("p",{onClick:e,children:"Logout"})]}):Z.jsx(En,{className:"link",to:"/login",onClick:l,children:"Login"}),Z.jsx("span",{className:"write",children:Z.jsx(En,{className:"link",to:"/write",onClick:l,children:"Write"})})]}),Z.jsx("div",{className:"hamburger",onClick:s,children:n?Z.jsx($7,{size:24}):Z.jsx(q7,{size:24})})]})})},H7=()=>Z.jsxs("footer",{children:[Z.jsx("img",{src:YI,alt:""}),Z.jsxs("span",{children:["Made by ",Z.jsx("b",{children:"Ktech"})]})]}),W7=({children:t})=>{re.useContext(as);const[e,n,r]=WS(Du),i=ts();return re.useEffect(()=>{e||i("/login")},[e,i]),t},Aw=({children:t})=>{const{currentUser:e}=re.useContext(as),n=ts();return re.useEffect(()=>{e&&n("/")},[e,n]),t},Y7=()=>Z.jsxs(Z.Fragment,{children:[Z.jsx(z7,{}),Z.jsx("div",{className:"main-content",children:Z.jsx(XO,{})}),Z.jsx(H7,{})]}),G7=iC([{path:"/",element:Z.jsx(Y7,{}),children:[{path:"/",element:Z.jsx(UV,{})},{path:"/post/:id",element:Z.jsx(QV,{})},{path:"/write",element:Z.jsxs(W7,{children:[" ",Z.jsx(x7,{})," "]})}]},{path:"/register",element:Z.jsxs(Aw,{children:[" ",Z.jsx(DV,{})," "]})},{path:"/login",element:Z.jsxs(Aw,{children:[" ",Z.jsx(MV,{})," "]})}]);function K7(){return Z.jsx("div",{className:"app",children:Z.jsx("div",{className:"container",children:Z.jsx(KO,{router:G7})})})}const Q7=dp.createRoot(document.getElementById("root"));Q7.render(Z.jsx(ai.StrictMode,{children:Z.jsx(xV,{children:Z.jsx(C7,{children:Z.jsx(K7,{})})})}))});export default X7();
